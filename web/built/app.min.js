if(function(window,undefined){function isArraylike(obj){var length=obj.length,type=jQuery.type(obj);return jQuery.isWindow(obj)?!1:1===obj.nodeType&&length?!0:"array"===type||"function"!==type&&(0===length||"number"==typeof length&&length>0&&length-1 in obj)}function createOptions(options){var object=optionsCache[options]={};return jQuery.each(options.match(core_rnotwhite)||[],function(_,flag){object[flag]=!0}),object}function Data(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=jQuery.expando+Math.random()}function dataAttr(elem,key,data){var name;if(data===undefined&&1===elem.nodeType)if(name="data-"+key.replace(rmultiDash,"-$1").toLowerCase(),data=elem.getAttribute(name),"string"==typeof data){try{data="true"===data?!0:"false"===data?!1:"null"===data?null:+data+""===data?+data:rbrace.test(data)?JSON.parse(data):data}catch(e){}data_user.set(elem,key,data)}else data=undefined;return data}function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(err){}}function sibling(cur,dir){for(;(cur=cur[dir])&&1!==cur.nodeType;);return cur}function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier))return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not});if(qualifier.nodeType)return jQuery.grep(elements,function(elem){return elem===qualifier!==not});if("string"==typeof qualifier){if(isSimple.test(qualifier))return jQuery.filter(qualifier,elements,not);qualifier=jQuery.filter(qualifier,elements)}return jQuery.grep(elements,function(elem){return core_indexOf.call(qualifier,elem)>=0!==not})}function manipulationTarget(elem,content){return jQuery.nodeName(elem,"table")&&jQuery.nodeName(1===content.nodeType?content:content.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem}function disableScript(elem){return elem.type=(null!==elem.getAttribute("type"))+"/"+elem.type,elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);return match?elem.type=match[1]:elem.removeAttribute("type"),elem}function setGlobalEval(elems,refElements){for(var l=elems.length,i=0;l>i;i++)data_priv.set(elems[i],"globalEval",!refElements||data_priv.get(refElements[i],"globalEval"))}function cloneCopyEvent(src,dest){var i,l,type,pdataOld,pdataCur,udataOld,udataCur,events;if(1===dest.nodeType){if(data_priv.hasData(src)&&(pdataOld=data_priv.access(src),pdataCur=data_priv.set(dest,pdataOld),events=pdataOld.events)){delete pdataCur.handle,pdataCur.events={};for(type in events)for(i=0,l=events[type].length;l>i;i++)jQuery.event.add(dest,type,events[type][i])}data_user.hasData(src)&&(udataOld=data_user.access(src),udataCur=jQuery.extend({},udataOld),data_user.set(dest,udataCur))}}function getAll(context,tag){var ret=context.getElementsByTagName?context.getElementsByTagName(tag||"*"):context.querySelectorAll?context.querySelectorAll(tag||"*"):[];return tag===undefined||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],ret):ret}function fixInput(src,dest){var nodeName=dest.nodeName.toLowerCase();"input"===nodeName&&manipulation_rcheckableType.test(src.type)?dest.checked=src.checked:("input"===nodeName||"textarea"===nodeName)&&(dest.defaultValue=src.defaultValue)}function vendorPropName(style,name){if(name in style)return name;for(var capName=name.charAt(0).toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;i--;)if(name=cssPrefixes[i]+capName,name in style)return name;return origName}function isHidden(elem,el){return elem=el||elem,"none"===jQuery.css(elem,"display")||!jQuery.contains(elem.ownerDocument,elem)}function getStyles(elem){return window.getComputedStyle(elem,null)}function showHide(elements,show){for(var display,elem,hidden,values=[],index=0,length=elements.length;length>index;index++)elem=elements[index],elem.style&&(values[index]=data_priv.get(elem,"olddisplay"),display=elem.style.display,show?(values[index]||"none"!==display||(elem.style.display=""),""===elem.style.display&&isHidden(elem)&&(values[index]=data_priv.access(elem,"olddisplay",css_defaultDisplay(elem.nodeName)))):values[index]||(hidden=isHidden(elem),(display&&"none"!==display||!hidden)&&data_priv.set(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"))));for(index=0;length>index;index++)elem=elements[index],elem.style&&(show&&"none"!==elem.style.display&&""!==elem.style.display||(elem.style.display=show?values[index]||"":"none"));return elements}function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){for(var i=extra===(isBorderBox?"border":"content")?4:"width"===name?1:0,val=0;4>i;i+=2)"margin"===extra&&(val+=jQuery.css(elem,extra+cssExpand[i],!0,styles)),isBorderBox?("content"===extra&&(val-=jQuery.css(elem,"padding"+cssExpand[i],!0,styles)),"margin"!==extra&&(val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles))):(val+=jQuery.css(elem,"padding"+cssExpand[i],!0,styles),"padding"!==extra&&(val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles)));return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=!0,val="width"===name?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox=jQuery.support.boxSizing&&"border-box"===jQuery.css(elem,"boxSizing",!1,styles);if(0>=val||null==val){if(val=curCSS(elem,name,styles),(0>val||null==val)&&(val=elem.style[name]),rnumnonpx.test(val))return val;valueIsBorderBox=isBorderBox&&(jQuery.support.boxSizingReliable||val===elem.style[name]),val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles)+"px"}function css_defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];return display||(display=actualDisplay(nodeName,doc),"none"!==display&&display||(iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(doc.documentElement),doc=(iframe[0].contentWindow||iframe[0].contentDocument).document,doc.write("<!doctype html><html><body>"),doc.close(),display=actualDisplay(nodeName,doc),iframe.detach()),elemdisplay[nodeName]=display),display}function actualDisplay(name,doc){var elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=jQuery.css(elem[0],"display");return elem.remove(),display}function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj))jQuery.each(obj,function(i,v){traditional||rbracket.test(prefix)?add(prefix,v):buildParams(prefix+"["+("object"==typeof v?i:"")+"]",v,traditional,add)});else if(traditional||"object"!==jQuery.type(obj))add(prefix,obj);else for(name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add)}function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){"string"!=typeof dataTypeExpression&&(func=dataTypeExpression,dataTypeExpression="*");var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(core_rnotwhite)||[];if(jQuery.isFunction(func))for(;dataType=dataTypes[i++];)"+"===dataType[0]?(dataType=dataType.slice(1)||"*",(structure[dataType]=structure[dataType]||[]).unshift(func)):(structure[dataType]=structure[dataType]||[]).push(func)}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){function inspect(dataType){var selected;return inspected[dataType]=!0,jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);return"string"!=typeof dataTypeOrTransport||seekingTransport||inspected[dataTypeOrTransport]?seekingTransport?!(selected=dataTypeOrTransport):void 0:(options.dataTypes.unshift(dataTypeOrTransport),inspect(dataTypeOrTransport),!1)}),selected}var inspected={},seekingTransport=structure===transports;return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src)src[key]!==undefined&&((flatOptions[key]?target:deep||(deep={}))[key]=src[key]);return deep&&jQuery.extend(!0,target,deep),target}function ajaxHandleResponses(s,jqXHR,responses){for(var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;"*"===dataTypes[0];)dataTypes.shift(),ct===undefined&&(ct=s.mimeType||jqXHR.getResponseHeader("Content-Type"));if(ct)for(type in contents)if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}if(dataTypes[0]in responses)finalDataType=dataTypes[0];else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}firstDataType||(firstDataType=type)}finalDataType=finalDataType||firstDataType}return finalDataType?(finalDataType!==dataTypes[0]&&dataTypes.unshift(finalDataType),responses[finalDataType]):void 0}function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1])for(conv in s.converters)converters[conv.toLowerCase()]=s.converters[conv];for(current=dataTypes.shift();current;)if(s.responseFields[current]&&(jqXHR[s.responseFields[current]]=response),!prev&&isSuccess&&s.dataFilter&&(response=s.dataFilter(response,s.dataType)),prev=current,current=dataTypes.shift())if("*"===current)current=prev;else if("*"!==prev&&prev!==current){if(conv=converters[prev+" "+current]||converters["* "+current],!conv)for(conv2 in converters)if(tmp=conv2.split(" "),tmp[1]===current&&(conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]])){conv===!0?conv=converters[conv2]:converters[conv2]!==!0&&(current=tmp[0],dataTypes.unshift(tmp[1]));break}if(conv!==!0)if(conv&&s["throws"])response=conv(response);else try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}return{state:"success",data:response}}function createFxNow(){return setTimeout(function(){fxNow=undefined}),fxNow=jQuery.now()}function createTween(value,prop,animation){for(var tween,collection=(tweeners[prop]||[]).concat(tweeners["*"]),index=0,length=collection.length;length>index;index++)if(tween=collection[index].call(animation,prop,value))return tween}function Animation(elem,properties,options){var result,stopped,index=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped)return!1;for(var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;length>index;index++)animation.tweens[index].run(percent);return deferred.notifyWith(elem,[animation,percent,remaining]),1>percent&&length?remaining:(deferred.resolveWith(elem,[animation]),!1)},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(!0,{specialEasing:{}},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);return animation.tweens.push(tween),tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped)return this;for(stopped=!0;length>index;index++)animation.tweens[index].run(1);return gotoEnd?deferred.resolveWith(elem,[animation,gotoEnd]):deferred.rejectWith(elem,[animation,gotoEnd]),this}}),props=animation.props;for(propFilter(props,animation.opts.specialEasing);length>index;index++)if(result=animationPrefilters[index].call(animation,elem,props,animation.opts))return result;return jQuery.map(props,createTween,animation),jQuery.isFunction(animation.opts.start)&&animation.opts.start.call(elem,animation),jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue})),animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props)if(name=jQuery.camelCase(index),easing=specialEasing[name],value=props[index],jQuery.isArray(value)&&(easing=value[1],value=props[index]=value[0]),index!==name&&(props[name]=value,delete props[index]),hooks=jQuery.cssHooks[name],hooks&&"expand"in hooks){value=hooks.expand(value),delete props[name];for(index in value)index in props||(props[index]=value[index],specialEasing[index]=easing)}else specialEasing[name]=easing}function defaultPrefilter(elem,props,opts){var prop,value,toggle,tween,hooks,oldfire,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=data_priv.get(elem,"fxshow");opts.queue||(hooks=jQuery._queueHooks(elem,"fx"),null==hooks.unqueued&&(hooks.unqueued=0,oldfire=hooks.empty.fire,hooks.empty.fire=function(){hooks.unqueued||oldfire()}),hooks.unqueued++,anim.always(function(){anim.always(function(){hooks.unqueued--,jQuery.queue(elem,"fx").length||hooks.empty.fire()})})),1===elem.nodeType&&("height"in props||"width"in props)&&(opts.overflow=[style.overflow,style.overflowX,style.overflowY],"inline"===jQuery.css(elem,"display")&&"none"===jQuery.css(elem,"float")&&(style.display="inline-block")),opts.overflow&&(style.overflow="hidden",anim.always(function(){style.overflow=opts.overflow[0],style.overflowX=opts.overflow[1],style.overflowY=opts.overflow[2]}));for(prop in props)if(value=props[prop],rfxtypes.exec(value)){if(delete props[prop],toggle=toggle||"toggle"===value,value===(hidden?"hide":"show")){if("show"!==value||!dataShow||dataShow[prop]===undefined)continue;hidden=!0}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}if(!jQuery.isEmptyObject(orig)){dataShow?"hidden"in dataShow&&(hidden=dataShow.hidden):dataShow=data_priv.access(elem,"fxshow",{}),toggle&&(dataShow.hidden=!hidden),hidden?jQuery(elem).show():anim.done(function(){jQuery(elem).hide()}),anim.done(function(){var prop;data_priv.remove(elem,"fxshow");for(prop in orig)jQuery.style(elem,prop,orig[prop])});for(prop in orig)tween=createTween(hidden?dataShow[prop]:0,prop,anim),prop in dataShow||(dataShow[prop]=tween.start,hidden&&(tween.end=tween.start,tween.start="width"===prop||"height"===prop?1:0))}}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}function genFx(type,includeWidth){var which,attrs={height:type},i=0;for(includeWidth=includeWidth?1:0;4>i;i+=2-includeWidth)which=cssExpand[i],attrs["margin"+which]=attrs["padding"+which]=type;return includeWidth&&(attrs.opacity=attrs.width=type),attrs}function getWindow(elem){return jQuery.isWindow(elem)?elem:9===elem.nodeType&&elem.defaultView}var rootjQuery,readyList,core_strundefined=typeof undefined,location=window.location,document=window.document,docElem=document.documentElement,_jQuery=window.jQuery,_$=window.$,class2type={},core_deletedIds=[],core_version="2.0.1",core_concat=core_deletedIds.concat,core_push=core_deletedIds.push,core_slice=core_deletedIds.slice,core_indexOf=core_deletedIds.indexOf,core_toString=class2type.toString,core_hasOwn=class2type.hasOwnProperty,core_trim=core_version.trim,jQuery=function(selector,context){return new jQuery.fn.init(selector,context,rootjQuery)},core_pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,core_rnotwhite=/\S+/g,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()},completed=function(){document.removeEventListener("DOMContentLoaded",completed,!1),window.removeEventListener("load",completed,!1),jQuery.ready()};jQuery.fn=jQuery.prototype={jquery:core_version,constructor:jQuery,init:function(selector,context,rootjQuery){var match,elem;if(!selector)return this;if("string"==typeof selector){if(match="<"===selector.charAt(0)&&">"===selector.charAt(selector.length-1)&&selector.length>=3?[null,selector,null]:rquickExpr.exec(selector),!match||!match[1]&&context)return!context||context.jquery?(context||rootjQuery).find(selector):this.constructor(context).find(selector);if(match[1]){if(context=context instanceof jQuery?context[0]:context,jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,!0)),rsingleTag.test(match[1])&&jQuery.isPlainObject(context))for(match in context)jQuery.isFunction(this[match])?this[match](context[match]):this.attr(match,context[match]);return this}return elem=document.getElementById(match[2]),elem&&elem.parentNode&&(this.length=1,this[0]=elem),this.context=document,this.selector=selector,this}return selector.nodeType?(this.context=this[0]=selector,this.length=1,this):jQuery.isFunction(selector)?rootjQuery.ready(selector):(selector.selector!==undefined&&(this.selector=selector.selector,this.context=selector.context),jQuery.makeArray(selector,this))},selector:"",length:0,toArray:function(){return core_slice.call(this)},get:function(num){return null==num?this.toArray():0>num?this[this.length+num]:this[num]},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);return ret.prevObject=this,ret.context=this.context,ret},each:function(callback,args){return jQuery.each(this,callback,args)},ready:function(fn){return jQuery.ready.promise().done(fn),this},slice:function(){return this.pushStack(core_slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(0>i?len:0);return this.pushStack(j>=0&&len>j?[this[j]]:[])},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},end:function(){return this.prevObject||this.constructor(null)},push:core_push,sort:[].sort,splice:[].splice},jQuery.fn.init.prototype=jQuery.fn,jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[1]||{},i=2),"object"==typeof target||jQuery.isFunction(target)||(target={}),length===i&&(target=this,--i);length>i;i++)if(null!=(options=arguments[i]))for(name in options)src=target[name],copy=options[name],target!==copy&&(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&jQuery.isArray(src)?src:[]):clone=src&&jQuery.isPlainObject(src)?src:{},target[name]=jQuery.extend(deep,clone,copy)):copy!==undefined&&(target[name]=copy));return target},jQuery.extend({expando:"jQuery"+(core_version+Math.random()).replace(/\D/g,""),noConflict:function(deep){return window.$===jQuery&&(window.$=_$),deep&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},isReady:!1,readyWait:1,holdReady:function(hold){hold?jQuery.readyWait++:jQuery.ready(!0)},ready:function(wait){(wait===!0?--jQuery.readyWait:jQuery.isReady)||(jQuery.isReady=!0,wait!==!0&&--jQuery.readyWait>0||(readyList.resolveWith(document,[jQuery]),jQuery.fn.trigger&&jQuery(document).trigger("ready").off("ready")))},isFunction:function(obj){return"function"===jQuery.type(obj)},isArray:Array.isArray,isWindow:function(obj){return null!=obj&&obj===obj.window},isNumeric:function(obj){return!isNaN(parseFloat(obj))&&isFinite(obj)},type:function(obj){return null==obj?String(obj):"object"==typeof obj||"function"==typeof obj?class2type[core_toString.call(obj)]||"object":typeof obj},isPlainObject:function(obj){if("object"!==jQuery.type(obj)||obj.nodeType||jQuery.isWindow(obj))return!1;try{if(obj.constructor&&!core_hasOwn.call(obj.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0},isEmptyObject:function(obj){var name;for(name in obj)return!1;return!0},error:function(msg){throw new Error(msg)},parseHTML:function(data,context,keepScripts){if(!data||"string"!=typeof data)return null;"boolean"==typeof context&&(keepScripts=context,context=!1),context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];return parsed?[context.createElement(parsed[1])]:(parsed=jQuery.buildFragment([data],context,scripts),scripts&&jQuery(scripts).remove(),jQuery.merge([],parsed.childNodes))},parseJSON:JSON.parse,parseXML:function(data){var xml,tmp;if(!data||"string"!=typeof data)return null;try{tmp=new DOMParser,xml=tmp.parseFromString(data,"text/xml")}catch(e){xml=undefined}return(!xml||xml.getElementsByTagName("parsererror").length)&&jQuery.error("Invalid XML: "+data),xml},noop:function(){},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code),code&&(1===code.indexOf("use strict")?(script=document.createElement("script"),script.text=code,document.head.appendChild(script).parentNode.removeChild(script)):indirect(code))},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback,args){var value,i=0,length=obj.length,isArray=isArraylike(obj);if(args){if(isArray)for(;length>i&&(value=callback.apply(obj[i],args),value!==!1);i++);else for(i in obj)if(value=callback.apply(obj[i],args),value===!1)break}else if(isArray)for(;length>i&&(value=callback.call(obj[i],i,obj[i]),value!==!1);i++);else for(i in obj)if(value=callback.call(obj[i],i,obj[i]),value===!1)break;return obj},trim:function(text){return null==text?"":core_trim.call(text)},makeArray:function(arr,results){var ret=results||[];return null!=arr&&(isArraylike(Object(arr))?jQuery.merge(ret,"string"==typeof arr?[arr]:arr):core_push.call(ret,arr)),ret},inArray:function(elem,arr,i){return null==arr?-1:core_indexOf.call(arr,elem,i)},merge:function(first,second){var l=second.length,i=first.length,j=0;if("number"==typeof l)for(;l>j;j++)first[i++]=second[j];else for(;second[j]!==undefined;)first[i++]=second[j++];return first.length=i,first},grep:function(elems,callback,inv){var retVal,ret=[],i=0,length=elems.length;for(inv=!!inv;length>i;i++)retVal=!!callback(elems[i],i),inv!==retVal&&ret.push(elems[i]);return ret},map:function(elems,callback,arg){var value,i=0,length=elems.length,isArray=isArraylike(elems),ret=[];if(isArray)for(;length>i;i++)value=callback(elems[i],i,arg),null!=value&&(ret[ret.length]=value);else for(i in elems)value=callback(elems[i],i,arg),null!=value&&(ret[ret.length]=value);return core_concat.apply([],ret)},guid:1,proxy:function(fn,context){var tmp,args,proxy;return"string"==typeof context&&(tmp=fn[context],context=fn,fn=tmp),jQuery.isFunction(fn)?(args=core_slice.call(arguments,2),proxy=function(){return fn.apply(context||this,args.concat(core_slice.call(arguments)))},proxy.guid=fn.guid=fn.guid||jQuery.guid++,proxy):undefined},access:function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,length=elems.length,bulk=null==key;if("object"===jQuery.type(key)){chainable=!0;for(i in key)jQuery.access(elems,fn,i,key[i],!0,emptyGet,raw)}else if(value!==undefined&&(chainable=!0,jQuery.isFunction(value)||(raw=!0),bulk&&(raw?(fn.call(elems,value),fn=null):(bulk=fn,fn=function(elem,key,value){return bulk.call(jQuery(elem),value)})),fn))for(;length>i;i++)fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));return chainable?elems:bulk?fn.call(elems):length?fn(elems[0],key):emptyGet},now:Date.now,swap:function(elem,options,callback,args){var ret,name,old={};for(name in options)old[name]=elem.style[name],elem.style[name]=options[name];ret=callback.apply(elem,args||[]);for(name in options)elem.style[name]=old[name];return ret}}),jQuery.ready.promise=function(obj){return readyList||(readyList=jQuery.Deferred(),"complete"===document.readyState?setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed,!1),window.addEventListener("load",completed,!1))),readyList.promise(obj)},jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()}),rootjQuery=jQuery(document),function(window,undefined){function Sizzle(selector,context,results,seed){var match,elem,m,nodeType,i,groups,old,nid,newContext,newSelector;if((context?context.ownerDocument||context:preferredDoc)!==document&&setDocument(context),context=context||document,results=results||[],!selector||"string"!=typeof selector)return results;if(1!==(nodeType=context.nodeType)&&9!==nodeType)return[];if(documentIsHTML&&!seed){if(match=rquickExpr.exec(selector))if(m=match[1]){if(9===nodeType){if(elem=context.getElementById(m),!elem||!elem.parentNode)return results;if(elem.id===m)return results.push(elem),results}else if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m)return results.push(elem),results}else{if(match[2])return push.apply(results,context.getElementsByTagName(selector)),results;if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName)return push.apply(results,context.getElementsByClassName(m)),results}if(support.qsa&&(!rbuggyQSA||!rbuggyQSA.test(selector))){if(nid=old=expando,newContext=context,newSelector=9===nodeType&&selector,1===nodeType&&"object"!==context.nodeName.toLowerCase()){for(groups=tokenize(selector),(old=context.getAttribute("id"))?nid=old.replace(rescape,"\\$&"):context.setAttribute("id",nid),nid="[id='"+nid+"'] ",i=groups.length;i--;)groups[i]=nid+toSelector(groups[i]);newContext=rsibling.test(selector)&&context.parentNode||context,newSelector=groups.join(",")}if(newSelector)try{return push.apply(results,newContext.querySelectorAll(newSelector)),results}catch(qsaError){}finally{old||context.removeAttribute("id")}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function isNative(fn){return rnative.test(fn+"")}function createCache(){function cache(key,value){return keys.push(key+=" ")>Expr.cacheLength&&delete cache[keys.shift()],cache[key]=value}var keys=[];return cache}function markFunction(fn){return fn[expando]=!0,fn}function assert(fn){var div=document.createElement("div");try{return!!fn(div)}catch(e){return!1}finally{div.parentNode&&div.parentNode.removeChild(div),div=null}}function addHandle(attrs,handler,test){attrs=attrs.split("|");for(var current,i=attrs.length,setHandle=test?null:handler;i--;)(current=Expr.attrHandle[attrs[i]])&&current!==handler||(Expr.attrHandle[attrs[i]]=setHandle)}function boolHandler(elem,name){var val=elem.getAttributeNode(name);return val&&val.specified?val.value:elem[name]===!0?name.toLowerCase():null}function interpolationHandler(elem,name){return elem.getAttribute(name,"type"===name.toLowerCase()?1:2)}function valueHandler(elem){return"input"===elem.nodeName.toLowerCase()?elem.defaultValue:void 0}function siblingCheck(a,b){var cur=b&&a,diff=cur&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff)return diff;if(cur)for(;cur=cur.nextSibling;)if(cur===b)return-1;return a?1:-1}function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return("input"===name||"button"===name)&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){return argument=+argument,markFunction(function(seed,matches){for(var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;i--;)seed[j=matchIndexes[i]]&&(seed[j]=!(matches[j]=seed[j]))})})}function tokenize(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached)return parseOnly?0:cached.slice(0);for(soFar=selector,groups=[],preFilters=Expr.preFilter;soFar;){(!matched||(match=rcomma.exec(soFar)))&&(match&&(soFar=soFar.slice(match[0].length)||soFar),groups.push(tokens=[])),matched=!1,(match=rcombinators.exec(soFar))&&(matched=match.shift(),tokens.push({value:matched,type:match[0].replace(rtrim," ")}),soFar=soFar.slice(matched.length));for(type in Expr.filter)!(match=matchExpr[type].exec(soFar))||preFilters[type]&&!(match=preFilters[type](match))||(matched=match.shift(),tokens.push({value:matched,type:type,matches:match}),soFar=soFar.slice(matched.length));if(!matched)break}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)}function toSelector(tokens){for(var i=0,len=tokens.length,selector="";len>i;i++)selector+=tokens[i].value;return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&"parentNode"===dir,doneName=done++;return combinator.first?function(elem,context,xml){for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)return matcher(elem,context,xml)}:function(elem,context,xml){var data,cache,outerCache,dirkey=dirruns+" "+doneName;if(xml){for(;elem=elem[dir];)if((1===elem.nodeType||checkNonElements)&&matcher(elem,context,xml))return!0}else for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)if(outerCache=elem[expando]||(elem[expando]={}),(cache=outerCache[dir])&&cache[0]===dirkey){if((data=cache[1])===!0||data===cachedruns)return data===!0}else if(cache=outerCache[dir]=[dirkey],cache[1]=matcher(elem,context,xml)||cachedruns,cache[1]===!0)return!0}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){for(var i=matchers.length;i--;)if(!matchers[i](elem,context,xml))return!1;return!0}:matchers[0]}function condense(unmatched,map,filter,context,xml){for(var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=null!=map;len>i;i++)(elem=unmatched[i])&&(!filter||filter(elem,context,xml))&&(newUnmatched.push(elem),mapped&&map.push(i));return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){return postFilter&&!postFilter[expando]&&(postFilter=setMatcher(postFilter)),postFinder&&!postFinder[expando]&&(postFinder=setMatcher(postFinder,postSelector)),markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=!preFilter||!seed&&selector?elems:condense(elems,preMap,preFilter,context,xml),matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher&&matcher(matcherIn,matcherOut,context,xml),postFilter)for(temp=condense(matcherOut,postMap),postFilter(temp,[],context,xml),i=temp.length;i--;)(elem=temp[i])&&(matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem));if(seed){if(postFinder||preFilter){if(postFinder){for(temp=[],i=matcherOut.length;i--;)(elem=matcherOut[i])&&temp.push(matcherIn[i]=elem);postFinder(null,matcherOut=[],temp,xml)}for(i=matcherOut.length;i--;)(elem=matcherOut[i])&&(temp=postFinder?indexOf.call(seed,elem):preMap[i])>-1&&(seed[temp]=!(results[temp]=elem))}}else matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut),postFinder?postFinder(null,results,matcherOut,xml):push.apply(results,matcherOut)})}function matcherFromTokens(tokens){for(var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,!0),matchAnyContext=addCombinator(function(elem){return indexOf.call(checkContext,elem)>-1},implicitRelative,!0),matchers=[function(elem,context,xml){return!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml))}];len>i;i++)if(matcher=Expr.relative[tokens[i].type])matchers=[addCombinator(elementMatcher(matchers),matcher)];else{if(matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches),matcher[expando]){for(j=++i;len>j&&!Expr.relative[tokens[j].type];j++);return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:" "===tokens[i-2].type?"*":""})).replace(rtrim,"$1"),matcher,j>i&&matcherFromTokens(tokens.slice(i,j)),len>j&&matcherFromTokens(tokens=tokens.slice(j)),len>j&&toSelector(tokens))
}matchers.push(matcher)}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var matcherCachedRuns=0,bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,expandContext){var elem,j,matcher,setMatched=[],matchedCount=0,i="0",unmatched=seed&&[],outermost=null!=expandContext,contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",expandContext&&context.parentNode||context),dirrunsUnique=dirruns+=null==contextBackup?1:Math.random()||.1;for(outermost&&(outermostContext=context!==document&&context,cachedruns=matcherCachedRuns);null!=(elem=elems[i]);i++){if(byElement&&elem){for(j=0;matcher=elementMatchers[j++];)if(matcher(elem,context,xml)){results.push(elem);break}outermost&&(dirruns=dirrunsUnique,cachedruns=++matcherCachedRuns)}bySet&&((elem=!matcher&&elem)&&matchedCount--,seed&&unmatched.push(elem))}if(matchedCount+=i,bySet&&i!==matchedCount){for(j=0;matcher=setMatchers[j++];)matcher(unmatched,setMatched,context,xml);if(seed){if(matchedCount>0)for(;i--;)unmatched[i]||setMatched[i]||(setMatched[i]=pop.call(results));setMatched=condense(setMatched)}push.apply(results,setMatched),outermost&&!seed&&setMatched.length>0&&matchedCount+setMatchers.length>1&&Sizzle.uniqueSort(results)}return outermost&&(dirruns=dirrunsUnique,outermostContext=contextBackup),unmatched};return bySet?markFunction(superMatcher):superMatcher}function multipleContexts(selector,contexts,results){for(var i=0,len=contexts.length;len>i;i++)Sizzle(selector,contexts[i],results);return results}function select(selector,context,results,seed){var i,tokens,token,type,find,match=tokenize(selector);if(!seed&&1===match.length){if(tokens=match[0]=match[0].slice(0),tokens.length>2&&"ID"===(token=tokens[0]).type&&support.getById&&9===context.nodeType&&documentIsHTML&&Expr.relative[tokens[1].type]){if(context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0],!context)return results;selector=selector.slice(tokens.shift().value.length)}for(i=matchExpr.needsContext.test(selector)?0:tokens.length;i--&&(token=tokens[i],!Expr.relative[type=token.type]);)if((find=Expr.find[type])&&(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&context.parentNode||context))){if(tokens.splice(i,1),selector=seed.length&&toSelector(tokens),!selector)return push.apply(results,seed),results;break}}return compile(selector,match)(seed,context,!documentIsHTML,results,rsibling.test(selector)),results}function setFilters(){}var i,support,cachedruns,Expr,getText,isXML,compile,outermostContext,sortInput,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+-new Date,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),hasDuplicate=!1,sortOrder=function(){return 0},strundefined=typeof undefined,MAX_NEGATIVE=1<<31,hasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=arr.indexOf||function(elem){for(var i=0,len=this.length;len>i;i++)if(this[i]===elem)return i;return-1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",characterEncoding="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",identifier=characterEncoding.replace("w","w#"),attributes="\\["+whitespace+"*("+characterEncoding+")"+whitespace+"*(?:([*^$|!~]?=)"+whitespace+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+identifier+")|)|)"+whitespace+"*\\]",pseudos=":("+characterEncoding+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+attributes.replace(3,8)+")*)|.*)\\)|)",rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rsibling=new RegExp(whitespace+"*[+~]"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+characterEncoding+")"),CLASS:new RegExp("^\\.("+characterEncoding+")"),TAG:new RegExp("^("+characterEncoding.replace("w","w*")+")"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),bool:new RegExp("^(?:"+booleans+")$","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rescape=/'|\\/g,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-65536;return high!==high||escapedWhitespace?escaped:0>high?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,1023&high|56320)};try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes),arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){for(var j=target.length,i=0;target[j++]=els[i++];);target.length=j-1}}}isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?"HTML"!==documentElement.nodeName:!1},support=Sizzle.support={},setDocument=Sizzle.setDocument=function(node){var doc=node?node.ownerDocument||node:preferredDoc;return doc!==document&&9===doc.nodeType&&doc.documentElement?(document=doc,docElem=doc.documentElement,documentIsHTML=!isXML(doc),support.attributes=assert(function(div){return div.innerHTML="<a href='#'></a>",addHandle("type|href|height|width",interpolationHandler,"#"===div.firstChild.getAttribute("href")),addHandle(booleans,boolHandler,null==div.getAttribute("disabled")),div.className="i",!div.getAttribute("className")}),support.input=assert(function(div){return div.innerHTML="<input>",div.firstChild.setAttribute("value",""),""===div.firstChild.getAttribute("value")}),addHandle("value",valueHandler,support.attributes&&support.input),support.getElementsByTagName=assert(function(div){return div.appendChild(doc.createComment("")),!div.getElementsByTagName("*").length}),support.getElementsByClassName=assert(function(div){return div.innerHTML="<div class='a'></div><div class='a i'></div>",div.firstChild.className="i",2===div.getElementsByClassName("i").length}),support.getById=assert(function(div){return docElem.appendChild(div).id=expando,!doc.getElementsByName||!doc.getElementsByName(expando).length}),support.getById?(Expr.find.ID=function(id,context){if(typeof context.getElementById!==strundefined&&documentIsHTML){var m=context.getElementById(id);return m&&m.parentNode?[m]:[]}},Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}}):(delete Expr.find.ID,Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=typeof elem.getAttributeNode!==strundefined&&elem.getAttributeNode("id");return node&&node.value===attrId}}),Expr.find.TAG=support.getElementsByTagName?function(tag,context){return typeof context.getElementsByTagName!==strundefined?context.getElementsByTagName(tag):void 0}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if("*"===tag){for(;elem=results[i++];)1===elem.nodeType&&tmp.push(elem);return tmp}return results},Expr.find.CLASS=support.getElementsByClassName&&function(className,context){return typeof context.getElementsByClassName!==strundefined&&documentIsHTML?context.getElementsByClassName(className):void 0},rbuggyMatches=[],rbuggyQSA=[],(support.qsa=isNative(doc.querySelectorAll))&&(assert(function(div){div.innerHTML="<select><option selected=''></option></select>",div.querySelectorAll("[selected]").length||rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")"),div.querySelectorAll(":checked").length||rbuggyQSA.push(":checked")}),assert(function(div){var input=doc.createElement("input");input.setAttribute("type","hidden"),div.appendChild(input).setAttribute("t",""),div.querySelectorAll("[t^='']").length&&rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")"),div.querySelectorAll(":enabled").length||rbuggyQSA.push(":enabled",":disabled"),div.querySelectorAll("*,:x"),rbuggyQSA.push(",.*:")})),(support.matchesSelector=isNative(matches=docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector))&&assert(function(div){support.disconnectedMatch=matches.call(div,"div"),matches.call(div,"[s!='']:x"),rbuggyMatches.push("!=",pseudos)}),rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|")),rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|")),contains=isNative(docElem.contains)||docElem.compareDocumentPosition?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!(!bup||1!==bup.nodeType||!(adown.contains?adown.contains(bup):a.compareDocumentPosition&&16&a.compareDocumentPosition(bup)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},support.sortDetached=assert(function(div1){return 1&div1.compareDocumentPosition(doc.createElement("div"))}),sortOrder=docElem.compareDocumentPosition?function(a,b){if(a===b)return hasDuplicate=!0,0;var compare=b.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(b);return compare?1&compare||!support.sortDetached&&b.compareDocumentPosition(a)===compare?a===doc||contains(preferredDoc,a)?-1:b===doc||contains(preferredDoc,b)?1:sortInput?indexOf.call(sortInput,a)-indexOf.call(sortInput,b):0:4&compare?-1:1:a.compareDocumentPosition?-1:1}:function(a,b){var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(a===b)return hasDuplicate=!0,0;if(!aup||!bup)return a===doc?-1:b===doc?1:aup?-1:bup?1:sortInput?indexOf.call(sortInput,a)-indexOf.call(sortInput,b):0;if(aup===bup)return siblingCheck(a,b);for(cur=a;cur=cur.parentNode;)ap.unshift(cur);for(cur=b;cur=cur.parentNode;)bp.unshift(cur);for(;ap[i]===bp[i];)i++;return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0},doc):document},Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)},Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document&&setDocument(elem),expr=expr.replace(rattributeQuotes,"='$1']"),!(!support.matchesSelector||!documentIsHTML||rbuggyMatches&&rbuggyMatches.test(expr)||rbuggyQSA&&rbuggyQSA.test(expr)))try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&11!==elem.document.nodeType)return ret}catch(e){}return Sizzle(expr,document,null,[elem]).length>0},Sizzle.contains=function(context,elem){return(context.ownerDocument||context)!==document&&setDocument(context),contains(context,elem)},Sizzle.attr=function(elem,name){(elem.ownerDocument||elem)!==document&&setDocument(elem);var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):undefined;return val===undefined?support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null:val},Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)},Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;if(hasDuplicate=!support.detectDuplicates,sortInput=!support.sortStable&&results.slice(0),results.sort(sortOrder),hasDuplicate){for(;elem=results[i++];)elem===results[i]&&(j=duplicates.push(i));for(;j--;)results.splice(duplicates[j],1)}return results},getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(1===nodeType||9===nodeType||11===nodeType){if("string"==typeof elem.textContent)return elem.textContent;for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=getText(elem)}else if(3===nodeType||4===nodeType)return elem.nodeValue}else for(;node=elem[i];i++)ret+=getText(node);return ret},Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){return match[1]=match[1].replace(runescape,funescape),match[3]=(match[4]||match[5]||"").replace(runescape,funescape),"~="===match[2]&&(match[3]=" "+match[3]+" "),match.slice(0,4)},CHILD:function(match){return match[1]=match[1].toLowerCase(),"nth"===match[1].slice(0,3)?(match[3]||Sizzle.error(match[0]),match[4]=+(match[4]?match[5]+(match[6]||1):2*("even"===match[3]||"odd"===match[3])),match[5]=+(match[7]+match[8]||"odd"===match[3])):match[3]&&Sizzle.error(match[0]),match},PSEUDO:function(match){var excess,unquoted=!match[5]&&match[2];return matchExpr.CHILD.test(match[0])?null:(match[3]&&match[4]!==undefined?match[2]=match[4]:unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,!0))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)&&(match[0]=match[0].slice(0,excess),match[2]=unquoted.slice(0,excess)),match.slice(0,3))}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return"*"===nodeNameSelector?function(){return!0}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test("string"==typeof elem.className&&elem.className||typeof elem.getAttribute!==strundefined&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);return null==result?"!="===operator:operator?(result+="","="===operator?result===check:"!="===operator?result!==check:"^="===operator?check&&0===result.indexOf(check):"*="===operator?check&&result.indexOf(check)>-1:"$="===operator?check&&result.slice(-check.length)===check:"~="===operator?(" "+result+" ").indexOf(check)>-1:"|="===operator?result===check||result.slice(0,check.length+1)===check+"-":!1):!0}},CHILD:function(type,what,argument,first,last){var simple="nth"!==type.slice(0,3),forward="last"!==type.slice(-4),ofType="of-type"===what;return 1===first&&0===last?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,outerCache,node,diff,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType;if(parent){if(simple){for(;dir;){for(node=elem;node=node[dir];)if(ofType?node.nodeName.toLowerCase()===name:1===node.nodeType)return!1;start=dir="only"===type&&!start&&"nextSibling"}return!0}if(start=[forward?parent.firstChild:parent.lastChild],forward&&useCache){for(outerCache=parent[expando]||(parent[expando]={}),cache=outerCache[type]||[],nodeIndex=cache[0]===dirruns&&cache[1],diff=cache[0]===dirruns&&cache[2],node=nodeIndex&&parent.childNodes[nodeIndex];node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop();)if(1===node.nodeType&&++diff&&node===elem){outerCache[type]=[dirruns,nodeIndex,diff];break}}else if(useCache&&(cache=(elem[expando]||(elem[expando]={}))[type])&&cache[0]===dirruns)diff=cache[1];else for(;(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())&&((ofType?node.nodeName.toLowerCase()!==name:1!==node.nodeType)||!++diff||(useCache&&((node[expando]||(node[expando]={}))[type]=[dirruns,diff]),node!==elem)););return diff-=last,diff===first||diff%first===0&&diff/first>=0}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);return fn[expando]?fn(argument):fn.length>1?(args=[pseudo,pseudo,"",argument],Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){for(var idx,matched=fn(seed,argument),i=matched.length;i--;)idx=indexOf.call(seed,matched[i]),seed[idx]=!(matches[idx]=matched[i])}):function(elem){return fn(elem,0,args)}):fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){for(var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;i--;)(elem=unmatched[i])&&(seed[i]=!(matches[i]=elem))}):function(elem,context,xml){return input[0]=elem,matcher(input,null,xml,results),!results.pop()}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),contains:markFunction(function(text){return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),lang:markFunction(function(lang){return ridentifier.test(lang||"")||Sizzle.error("unsupported lang: "+lang),lang=lang.replace(runescape,funescape).toLowerCase(),function(elem){var elemLang;do if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))return elemLang=elemLang.toLowerCase(),elemLang===lang||0===elemLang.indexOf(lang+"-");while((elem=elem.parentNode)&&1===elem.nodeType);return!1}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:function(elem){return elem.disabled===!1},disabled:function(elem){return elem.disabled===!0},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return"input"===nodeName&&!!elem.checked||"option"===nodeName&&!!elem.selected},selected:function(elem){return elem.parentNode&&elem.parentNode.selectedIndex,elem.selected===!0},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling)if(elem.nodeName>"@"||3===elem.nodeType||4===elem.nodeType)return!1;return!0},parent:function(elem){return!Expr.pseudos.empty(elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&"button"===elem.type||"button"===name},text:function(elem){var attr;return"input"===elem.nodeName.toLowerCase()&&"text"===elem.type&&(null==(attr=elem.getAttribute("type"))||attr.toLowerCase()===elem.type)},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[0>argument?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){for(var i=0;length>i;i+=2)matchIndexes.push(i);return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){for(var i=1;length>i;i+=2)matchIndexes.push(i);return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=0>argument?argument+length:argument;--i>=0;)matchIndexes.push(i);return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=0>argument?argument+length:argument;++i<length;)matchIndexes.push(i);return matchIndexes})}};for(i in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Expr.pseudos[i]=createInputPseudo(i);for(i in{submit:!0,reset:!0})Expr.pseudos[i]=createButtonPseudo(i);compile=Sizzle.compile=function(selector,group){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){for(group||(group=tokenize(selector)),i=group.length;i--;)cached=matcherFromTokens(group[i]),cached[expando]?setMatchers.push(cached):elementMatchers.push(cached);cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers))}return cached},Expr.pseudos.nth=Expr.pseudos.eq,setFilters.prototype=Expr.filters=Expr.pseudos,Expr.setFilters=new setFilters,support.sortStable=expando.split("").sort(sortOrder).join("")===expando,setDocument(),[0,0].sort(sortOrder),support.detectDuplicates=hasDuplicate,jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains}(window);var optionsCache={};jQuery.Callbacks=function(options){options="string"==typeof options?optionsCache[options]||createOptions(options):jQuery.extend({},options);var memory,fired,firing,firingStart,firingLength,firingIndex,list=[],stack=!options.once&&[],fire=function(data){for(memory=options.memory&&data,fired=!0,firingIndex=firingStart||0,firingStart=0,firingLength=list.length,firing=!0;list&&firingLength>firingIndex;firingIndex++)if(list[firingIndex].apply(data[0],data[1])===!1&&options.stopOnFalse){memory=!1;break}firing=!1,list&&(stack?stack.length&&fire(stack.shift()):memory?list=[]:self.disable())},self={add:function(){if(list){var start=list.length;!function add(args){jQuery.each(args,function(_,arg){var type=jQuery.type(arg);"function"===type?options.unique&&self.has(arg)||list.push(arg):arg&&arg.length&&"string"!==type&&add(arg)})}(arguments),firing?firingLength=list.length:memory&&(firingStart=start,fire(memory))}return this},remove:function(){return list&&jQuery.each(arguments,function(_,arg){for(var index;(index=jQuery.inArray(arg,list,index))>-1;)list.splice(index,1),firing&&(firingLength>=index&&firingLength--,firingIndex>=index&&firingIndex--)}),this},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:!(!list||!list.length)},empty:function(){return list=[],firingLength=0,this},disable:function(){return list=stack=memory=undefined,this},disabled:function(){return!list},lock:function(){return stack=undefined,memory||self.disable(),this},locked:function(){return!stack},fireWith:function(context,args){return args=args||[],args=[context,args.slice?args.slice():args],!list||fired&&!stack||(firing?stack.push(args):fire(args)),this},fire:function(){return self.fireWith(this,arguments),this},fired:function(){return!!fired}};return self},jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){return deferred.done(arguments).fail(arguments),this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var action=tuple[0],fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);returned&&jQuery.isFunction(returned.promise)?returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify):newDefer[action+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)})}),fns=null}).promise()},promise:function(obj){return null!=obj?jQuery.extend(obj,promise):promise}},deferred={};return promise.pipe=promise.then,jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add,stateString&&list.add(function(){state=stateString},tuples[1^i][2].disable,tuples[2][2].lock),deferred[tuple[0]]=function(){return deferred[tuple[0]+"With"](this===deferred?promise:this,arguments),this},deferred[tuple[0]+"With"]=list.fireWith}),promise.promise(deferred),func&&func.call(deferred,deferred),deferred},when:function(subordinate){var progressValues,progressContexts,resolveContexts,i=0,resolveValues=core_slice.call(arguments),length=resolveValues.length,remaining=1!==length||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=1===remaining?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this,values[i]=arguments.length>1?core_slice.call(arguments):value,values===progressValues?deferred.notifyWith(contexts,values):--remaining||deferred.resolveWith(contexts,values)}};if(length>1)for(progressValues=new Array(length),progressContexts=new Array(length),resolveContexts=new Array(length);length>i;i++)resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)?resolveValues[i].promise().done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues)):--remaining;return remaining||deferred.resolveWith(resolveContexts,resolveValues),deferred.promise()}}),jQuery.support=function(support){var input=document.createElement("input"),fragment=document.createDocumentFragment(),div=document.createElement("div"),select=document.createElement("select"),opt=select.appendChild(document.createElement("option"));return input.type?(input.type="checkbox",support.checkOn=""!==input.value,support.optSelected=opt.selected,support.reliableMarginRight=!0,support.boxSizingReliable=!0,support.pixelPosition=!1,input.checked=!0,support.noCloneChecked=input.cloneNode(!0).checked,select.disabled=!0,support.optDisabled=!opt.disabled,input=document.createElement("input"),input.value="t",input.type="radio",support.radioValue="t"===input.value,input.setAttribute("checked","t"),input.setAttribute("name","t"),fragment.appendChild(input),support.checkClone=fragment.cloneNode(!0).cloneNode(!0).lastChild.checked,support.focusinBubbles="onfocusin"in window,div.style.backgroundClip="content-box",div.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle="content-box"===div.style.backgroundClip,jQuery(function(){var container,marginDiv,divReset="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",body=document.getElementsByTagName("body")[0];body&&(container=document.createElement("div"),container.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",body.appendChild(container).appendChild(div),div.innerHTML="",div.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",jQuery.swap(body,null!=body.style.zoom?{zoom:1}:{},function(){support.boxSizing=4===div.offsetWidth}),window.getComputedStyle&&(support.pixelPosition="1%"!==(window.getComputedStyle(div,null)||{}).top,support.boxSizingReliable="4px"===(window.getComputedStyle(div,null)||{width:"4px"}).width,marginDiv=div.appendChild(document.createElement("div")),marginDiv.style.cssText=div.style.cssText=divReset,marginDiv.style.marginRight=marginDiv.style.width="0",div.style.width="1px",support.reliableMarginRight=!parseFloat((window.getComputedStyle(marginDiv,null)||{}).marginRight)),body.removeChild(container))}),support):support}({});var data_user,data_priv,rbrace=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,rmultiDash=/([A-Z])/g;Data.uid=1,Data.accepts=function(owner){return owner.nodeType?1===owner.nodeType||9===owner.nodeType:!0},Data.prototype={key:function(owner){if(!Data.accepts(owner))return 0;var descriptor={},unlock=owner[this.expando];if(!unlock){unlock=Data.uid++;try{descriptor[this.expando]={value:unlock},Object.defineProperties(owner,descriptor)}catch(e){descriptor[this.expando]=unlock,jQuery.extend(owner,descriptor)}}return this.cache[unlock]||(this.cache[unlock]={}),unlock},set:function(owner,data,value){var prop,unlock=this.key(owner),cache=this.cache[unlock];if("string"==typeof data)cache[data]=value;else if(jQuery.isEmptyObject(cache))jQuery.extend(this.cache[unlock],data);else for(prop in data)cache[prop]=data[prop];return cache},get:function(owner,key){var cache=this.cache[this.key(owner)];return key===undefined?cache:cache[key]},access:function(owner,key,value){return key===undefined||key&&"string"==typeof key&&value===undefined?this.get(owner,key):(this.set(owner,key,value),value!==undefined?value:key)},remove:function(owner,key){var i,name,camel,unlock=this.key(owner),cache=this.cache[unlock];if(key===undefined)this.cache[unlock]={};else{jQuery.isArray(key)?name=key.concat(key.map(jQuery.camelCase)):(camel=jQuery.camelCase(key),key in cache?name=[key,camel]:(name=camel,name=name in cache?[name]:name.match(core_rnotwhite)||[])),i=name.length;for(;i--;)delete cache[name[i]]}},hasData:function(owner){return!jQuery.isEmptyObject(this.cache[owner[this.expando]]||{})},discard:function(owner){owner[this.expando]&&delete this.cache[owner[this.expando]]}},data_user=new Data,data_priv=new Data,jQuery.extend({acceptData:Data.accepts,hasData:function(elem){return data_user.hasData(elem)||data_priv.hasData(elem)},data:function(elem,name,data){return data_user.access(elem,name,data)},removeData:function(elem,name){data_user.remove(elem,name)},_data:function(elem,name,data){return data_priv.access(elem,name,data)},_removeData:function(elem,name){data_priv.remove(elem,name)}}),jQuery.fn.extend({data:function(key,value){var attrs,name,elem=this[0],i=0,data=null;if(key===undefined){if(this.length&&(data=data_user.get(elem),1===elem.nodeType&&!data_priv.get(elem,"hasDataAttrs"))){for(attrs=elem.attributes;i<attrs.length;i++)name=attrs[i].name,0===name.indexOf("data-")&&(name=jQuery.camelCase(name.slice(5)),dataAttr(elem,name,data[name]));data_priv.set(elem,"hasDataAttrs",!0)}return data}return"object"==typeof key?this.each(function(){data_user.set(this,key)}):jQuery.access(this,function(value){var data,camelKey=jQuery.camelCase(key);if(elem&&value===undefined){if(data=data_user.get(elem,key),data!==undefined)return data;if(data=data_user.get(elem,camelKey),data!==undefined)return data;if(data=dataAttr(elem,camelKey,undefined),data!==undefined)return data}else this.each(function(){var data=data_user.get(this,camelKey);data_user.set(this,camelKey,value),-1!==key.indexOf("-")&&data!==undefined&&data_user.set(this,key,value)})},null,value,arguments.length>1,null,!0)},removeData:function(key){return this.each(function(){data_user.remove(this,key)})}}),jQuery.extend({queue:function(elem,type,data){var queue;return elem?(type=(type||"fx")+"queue",queue=data_priv.get(elem,type),data&&(!queue||jQuery.isArray(data)?queue=data_priv.access(elem,type,jQuery.makeArray(data)):queue.push(data)),queue||[]):void 0},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};"inprogress"===fn&&(fn=queue.shift(),startLength--),hooks.cur=fn,fn&&("fx"===type&&queue.unshift("inprogress"),delete hooks.stop,fn.call(elem,next,hooks)),!startLength&&hooks&&hooks.empty.fire()},_queueHooks:function(elem,type){var key=type+"queueHooks";return data_priv.get(elem,key)||data_priv.access(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){data_priv.remove(elem,[type+"queue",key])})})}}),jQuery.fn.extend({queue:function(type,data){var setter=2;return"string"!=typeof type&&(data=type,type="fx",setter--),arguments.length<setter?jQuery.queue(this[0],type):data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type),"fx"===type&&"inprogress"!==queue[0]&&jQuery.dequeue(this,type)})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},delay:function(time,type){return time=jQuery.fx?jQuery.fx.speeds[time]||time:time,type=type||"fx",this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){--count||defer.resolveWith(elements,[elements])
};for("string"!=typeof type&&(obj=type,type=undefined),type=type||"fx";i--;)tmp=data_priv.get(elements[i],type+"queueHooks"),tmp&&tmp.empty&&(count++,tmp.empty.add(resolve));return resolve(),defer.promise(obj)}});var nodeHook,boolHook,rclass=/[\t\r\n\f]/g,rreturn=/\r/g,rfocusable=/^(?:input|select|textarea|button)$/i;jQuery.fn.extend({attr:function(name,value){return jQuery.access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})},prop:function(name,value){return jQuery.access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){return this.each(function(){delete this[jQuery.propFix[name]||name]})},addClass:function(value){var classes,elem,cur,clazz,j,i=0,len=this.length,proceed="string"==typeof value&&value;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))});if(proceed)for(classes=(value||"").match(core_rnotwhite)||[];len>i;i++)if(elem=this[i],cur=1===elem.nodeType&&(elem.className?(" "+elem.className+" ").replace(rclass," "):" ")){for(j=0;clazz=classes[j++];)cur.indexOf(" "+clazz+" ")<0&&(cur+=clazz+" ");elem.className=jQuery.trim(cur)}return this},removeClass:function(value){var classes,elem,cur,clazz,j,i=0,len=this.length,proceed=0===arguments.length||"string"==typeof value&&value;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))});if(proceed)for(classes=(value||"").match(core_rnotwhite)||[];len>i;i++)if(elem=this[i],cur=1===elem.nodeType&&(elem.className?(" "+elem.className+" ").replace(rclass," "):"")){for(j=0;clazz=classes[j++];)for(;cur.indexOf(" "+clazz+" ")>=0;)cur=cur.replace(" "+clazz+" "," ");elem.className=value?jQuery.trim(cur):""}return this},toggleClass:function(value,stateVal){var type=typeof value,isBool="boolean"==typeof stateVal;return this.each(jQuery.isFunction(value)?function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)}:function(){if("string"===type)for(var className,i=0,self=jQuery(this),state=stateVal,classNames=value.match(core_rnotwhite)||[];className=classNames[i++];)state=isBool?state:!self.hasClass(className),self[state?"addClass":"removeClass"](className);else(type===core_strundefined||"boolean"===type)&&(this.className&&data_priv.set(this,"__className__",this.className),this.className=this.className||value===!1?"":data_priv.get(this,"__className__")||"")})},hasClass:function(selector){for(var className=" "+selector+" ",i=0,l=this.length;l>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>=0)return!0;return!1},val:function(value){var hooks,ret,isFunction,elem=this[0];{if(arguments.length)return isFunction=jQuery.isFunction(value),this.each(function(i){var val;1===this.nodeType&&(val=isFunction?value.call(this,i,jQuery(this).val()):value,null==val?val="":"number"==typeof val?val+="":jQuery.isArray(val)&&(val=jQuery.map(val,function(value){return null==value?"":value+""})),hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()],hooks&&"set"in hooks&&hooks.set(this,val,"value")!==undefined||(this.value=val))});if(elem)return hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()],hooks&&"get"in hooks&&(ret=hooks.get(elem,"value"))!==undefined?ret:(ret=elem.value,"string"==typeof ret?ret.replace(rreturn,""):null==ret?"":ret)}}}),jQuery.extend({valHooks:{option:{get:function(elem){var val=elem.attributes.value;return!val||val.specified?elem.value:elem.text}},select:{get:function(elem){for(var value,option,options=elem.options,index=elem.selectedIndex,one="select-one"===elem.type||0>index,values=one?null:[],max=one?index+1:options.length,i=0>index?max:one?index:0;max>i;i++)if(option=options[i],!(!option.selected&&i!==index||(jQuery.support.optDisabled?option.disabled:null!==option.getAttribute("disabled"))||option.parentNode.disabled&&jQuery.nodeName(option.parentNode,"optgroup"))){if(value=jQuery(option).val(),one)return value;values.push(value)}return values},set:function(elem,value){for(var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;i--;)option=options[i],(option.selected=jQuery.inArray(jQuery(option).val(),values)>=0)&&(optionSet=!0);return optionSet||(elem.selectedIndex=-1),values}}},attr:function(elem,name,value){var hooks,ret,nType=elem.nodeType;if(elem&&3!==nType&&8!==nType&&2!==nType)return typeof elem.getAttribute===core_strundefined?jQuery.prop(elem,name,value):(1===nType&&jQuery.isXMLDoc(elem)||(name=name.toLowerCase(),hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:nodeHook)),value===undefined?hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:(ret=jQuery.find.attr(elem,name),null==ret?undefined:ret):null!==value?hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined?ret:(elem.setAttribute(name,value+""),value):void jQuery.removeAttr(elem,name))},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(core_rnotwhite);if(attrNames&&1===elem.nodeType)for(;name=attrNames[i++];)propName=jQuery.propFix[name]||name,jQuery.expr.match.bool.test(name)&&(elem[propName]=!1),elem.removeAttribute(name)},attrHooks:{type:{set:function(elem,value){if(!jQuery.support.radioValue&&"radio"===value&&jQuery.nodeName(elem,"input")){var val=elem.value;return elem.setAttribute("type",value),val&&(elem.value=val),value}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(elem&&3!==nType&&8!==nType&&2!==nType)return notxml=1!==nType||!jQuery.isXMLDoc(elem),notxml&&(name=jQuery.propFix[name]||name,hooks=jQuery.propHooks[name]),value!==undefined?hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined?ret:elem[name]=value:hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:elem[name]},propHooks:{tabIndex:{get:function(elem){return elem.hasAttribute("tabindex")||rfocusable.test(elem.nodeName)||elem.href?elem.tabIndex:-1}}}}),boolHook={set:function(elem,value,name){return value===!1?jQuery.removeAttr(elem,name):elem.setAttribute(name,name),name}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=jQuery.expr.attrHandle[name]||jQuery.find.attr;jQuery.expr.attrHandle[name]=function(elem,name,isXML){var fn=jQuery.expr.attrHandle[name],ret=isXML?undefined:(jQuery.expr.attrHandle[name]=undefined)!=getter(elem,name,isXML)?name.toLowerCase():null;return jQuery.expr.attrHandle[name]=fn,ret}}),jQuery.support.optSelected||(jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;return parent&&parent.parentNode&&parent.parentNode.selectedIndex,null}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){return jQuery.isArray(value)?elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0:void 0}},jQuery.support.checkOn||(jQuery.valHooks[this].get=function(elem){return null===elem.getAttribute("value")?"on":elem.value})});var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=data_priv.get(elem);if(elemData){for(handler.handler&&(handleObjIn=handler,handler=handleObjIn.handler,selector=handleObjIn.selector),handler.guid||(handler.guid=jQuery.guid++),(events=elemData.events)||(events=elemData.events={}),(eventHandle=elemData.handle)||(eventHandle=elemData.handle=function(e){return typeof jQuery===core_strundefined||e&&jQuery.event.triggered===e.type?undefined:jQuery.event.dispatch.apply(eventHandle.elem,arguments)},eventHandle.elem=elem),types=(types||"").match(core_rnotwhite)||[""],t=types.length;t--;)tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||"").split(".").sort(),type&&(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,special=jQuery.event.special[type]||{},handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn),(handlers=events[type])||(handlers=events[type]=[],handlers.delegateCount=0,special.setup&&special.setup.call(elem,data,namespaces,eventHandle)!==!1||elem.addEventListener&&elem.addEventListener(type,eventHandle,!1)),special.add&&(special.add.call(elem,handleObj),handleObj.handler.guid||(handleObj.handler.guid=handler.guid)),selector?handlers.splice(handlers.delegateCount++,0,handleObj):handlers.push(handleObj),jQuery.event.global[type]=!0);elem=null}},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=data_priv.hasData(elem)&&data_priv.get(elem);if(elemData&&(events=elemData.events)){for(types=(types||"").match(core_rnotwhite)||[""],t=types.length;t--;)if(tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||"").split(".").sort(),type){for(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,handlers=events[type]||[],tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"),origCount=j=handlers.length;j--;)handleObj=handlers[j],!mappedTypes&&origType!==handleObj.origType||handler&&handler.guid!==handleObj.guid||tmp&&!tmp.test(handleObj.namespace)||selector&&selector!==handleObj.selector&&("**"!==selector||!handleObj.selector)||(handlers.splice(j,1),handleObj.selector&&handlers.delegateCount--,special.remove&&special.remove.call(elem,handleObj));origCount&&!handlers.length&&(special.teardown&&special.teardown.call(elem,namespaces,elemData.handle)!==!1||jQuery.removeEvent(elem,type,elemData.handle),delete events[type])}else for(type in events)jQuery.event.remove(elem,type+types[t],handler,selector,!0);jQuery.isEmptyObject(events)&&(delete elemData.handle,data_priv.remove(elem,"events"))}},trigger:function(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,eventPath=[elem||document],type=core_hasOwn.call(event,"type")?event.type:event,namespaces=core_hasOwn.call(event,"namespace")?event.namespace.split("."):[];if(cur=tmp=elem=elem||document,3!==elem.nodeType&&8!==elem.nodeType&&!rfocusMorph.test(type+jQuery.event.triggered)&&(type.indexOf(".")>=0&&(namespaces=type.split("."),type=namespaces.shift(),namespaces.sort()),ontype=type.indexOf(":")<0&&"on"+type,event=event[jQuery.expando]?event:new jQuery.Event(type,"object"==typeof event&&event),event.isTrigger=onlyHandlers?2:3,event.namespace=namespaces.join("."),event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,event.result=undefined,event.target||(event.target=elem),data=null==data?[event]:jQuery.makeArray(data,[event]),special=jQuery.event.special[type]||{},onlyHandlers||!special.trigger||special.trigger.apply(elem,data)!==!1)){if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){for(bubbleType=special.delegateType||type,rfocusMorph.test(bubbleType+type)||(cur=cur.parentNode);cur;cur=cur.parentNode)eventPath.push(cur),tmp=cur;tmp===(elem.ownerDocument||document)&&eventPath.push(tmp.defaultView||tmp.parentWindow||window)}for(i=0;(cur=eventPath[i++])&&!event.isPropagationStopped();)event.type=i>1?bubbleType:special.bindType||type,handle=(data_priv.get(cur,"events")||{})[event.type]&&data_priv.get(cur,"handle"),handle&&handle.apply(cur,data),handle=ontype&&cur[ontype],handle&&jQuery.acceptData(cur)&&handle.apply&&handle.apply(cur,data)===!1&&event.preventDefault();return event.type=type,onlyHandlers||event.isDefaultPrevented()||special._default&&special._default.apply(eventPath.pop(),data)!==!1||!jQuery.acceptData(elem)||ontype&&jQuery.isFunction(elem[type])&&!jQuery.isWindow(elem)&&(tmp=elem[ontype],tmp&&(elem[ontype]=null),jQuery.event.triggered=type,elem[type](),jQuery.event.triggered=undefined,tmp&&(elem[ontype]=tmp)),event.result}},dispatch:function(event){event=jQuery.event.fix(event);var i,j,ret,matched,handleObj,handlerQueue=[],args=core_slice.call(arguments),handlers=(data_priv.get(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};if(args[0]=event,event.delegateTarget=this,!special.preDispatch||special.preDispatch.call(this,event)!==!1){for(handlerQueue=jQuery.event.handlers.call(this,event,handlers),i=0;(matched=handlerQueue[i++])&&!event.isPropagationStopped();)for(event.currentTarget=matched.elem,j=0;(handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped();)(!event.namespace_re||event.namespace_re.test(handleObj.namespace))&&(event.handleObj=handleObj,event.data=handleObj.data,ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args),ret!==undefined&&(event.result=ret)===!1&&(event.preventDefault(),event.stopPropagation()));return special.postDispatch&&special.postDispatch.call(this,event),event.result}},handlers:function(event,handlers){var i,matches,sel,handleObj,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&(!event.button||"click"!==event.type))for(;cur!==this;cur=cur.parentNode||this)if(cur.disabled!==!0||"click"!==event.type){for(matches=[],i=0;delegateCount>i;i++)handleObj=handlers[i],sel=handleObj.selector+" ",matches[sel]===undefined&&(matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>=0:jQuery.find(sel,this,null,[cur]).length),matches[sel]&&matches.push(handleObj);matches.length&&handlerQueue.push({elem:cur,handlers:matches})}return delegateCount<handlers.length&&handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)}),handlerQueue},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){return null==event.which&&(event.which=null!=original.charCode?original.charCode:original.keyCode),event}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button;return null==event.pageX&&null!=original.clientX&&(eventDoc=event.target.ownerDocument||document,doc=eventDoc.documentElement,body=eventDoc.body,event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)),event.which||button===undefined||(event.which=1&button?1:2&button?3:4&button?2:0),event}},fix:function(event){if(event[jQuery.expando])return event;var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];for(fixHook||(this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}),copy=fixHook.props?this.props.concat(fixHook.props):this.props,event=new jQuery.Event(originalEvent),i=copy.length;i--;)prop=copy[i],event[prop]=originalEvent[prop];return event.target||(event.target=document),3===event.target.nodeType&&(event.target=event.target.parentNode),fixHook.filter?fixHook.filter(event,originalEvent):event},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==safeActiveElement()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===safeActiveElement()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&jQuery.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(event){return jQuery.nodeName(event.target,"a")}},beforeunload:{postDispatch:function(event){event.result!==undefined&&(event.originalEvent.returnValue=event.result)}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:!0,originalEvent:{}});bubble?jQuery.event.trigger(e,null,elem):jQuery.event.dispatch.call(elem,e),e.isDefaultPrevented()&&event.preventDefault()}},jQuery.removeEvent=function(elem,type,handle){elem.removeEventListener&&elem.removeEventListener(type,handle,!1)},jQuery.Event=function(src,props){return this instanceof jQuery.Event?(src&&src.type?(this.originalEvent=src,this.type=src.type,this.isDefaultPrevented=src.defaultPrevented||src.getPreventDefault&&src.getPreventDefault()?returnTrue:returnFalse):this.type=src,props&&jQuery.extend(this,props),this.timeStamp=src&&src.timeStamp||jQuery.now(),void(this[jQuery.expando]=!0)):new jQuery.Event(src,props)},jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue,this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;return(!related||related!==target&&!jQuery.contains(target,related))&&(event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=fix),ret}}}),jQuery.support.focusinBubbles||jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var attaches=0,handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),!0)};jQuery.event.special[fix]={setup:function(){0===attaches++&&document.addEventListener(orig,handler,!0)},teardown:function(){0===--attaches&&document.removeEventListener(orig,handler,!0)}}}),jQuery.fn.extend({on:function(types,selector,data,fn,one){var origFn,type;if("object"==typeof types){"string"!=typeof selector&&(data=data||selector,selector=undefined);for(type in types)this.on(type,selector,data,types[type],one);return this}if(null==data&&null==fn?(fn=selector,data=selector=undefined):null==fn&&("string"==typeof selector?(fn=data,data=undefined):(fn=data,data=selector,selector=undefined)),fn===!1)fn=returnFalse;else if(!fn)return this;return 1===one&&(origFn=fn,fn=function(event){return jQuery().off(event),origFn.apply(this,arguments)},fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj)return handleObj=types.handleObj,jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler),this;if("object"==typeof types){for(type in types)this.off(type,selector,types[type]);return this}return(selector===!1||"function"==typeof selector)&&(fn=selector,selector=undefined),fn===!1&&(fn=returnFalse),this.each(function(){jQuery.event.remove(this,types,fn,selector)})},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];return elem?jQuery.event.trigger(type,data,elem,!0):void 0}});var isSimple=/^.[^:#\[\.,]*$/,rparentsprev=/^(?:parents|prev(?:Until|All))/,rneedsContext=jQuery.expr.match.needsContext,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.fn.extend({find:function(selector){var i,ret=[],self=this,len=self.length;if("string"!=typeof selector)return this.pushStack(jQuery(selector).filter(function(){for(i=0;len>i;i++)if(jQuery.contains(self[i],this))return!0}));for(i=0;len>i;i++)jQuery.find(selector,self[i],ret);return ret=this.pushStack(len>1?jQuery.unique(ret):ret),ret.selector=this.selector?this.selector+" "+selector:selector,ret},has:function(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){for(var i=0;l>i;i++)if(jQuery.contains(this,targets[i]))return!0})},not:function(selector){return this.pushStack(winnow(this,selector||[],!0))},filter:function(selector){return this.pushStack(winnow(this,selector||[],!1))},is:function(selector){return!!winnow(this,"string"==typeof selector&&rneedsContext.test(selector)?jQuery(selector):selector||[],!1).length},closest:function(selectors,context){for(var cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||"string"!=typeof selectors?jQuery(selectors,context||this.context):0;l>i;i++)for(cur=this[i];cur&&cur!==context;cur=cur.parentNode)if(cur.nodeType<11&&(pos?pos.index(cur)>-1:1===cur.nodeType&&jQuery.find.matchesSelector(cur,selectors))){cur=matched.push(cur);break}return this.pushStack(matched.length>1?jQuery.unique(matched):matched)},index:function(elem){return elem?"string"==typeof elem?core_indexOf.call(jQuery(elem),this[0]):core_indexOf.call(this,elem.jquery?elem[0]:elem):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(selector,context){var set="string"==typeof selector?jQuery(selector,context):jQuery.makeArray(selector&&selector.nodeType?[selector]:selector),all=jQuery.merge(this.get(),set);return this.pushStack(jQuery.unique(all))},addBack:function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}}),jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&11!==parent.nodeType?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);return"Until"!==name.slice(-5)&&(selector=until),selector&&"string"==typeof selector&&(matched=jQuery.filter(selector,matched)),this.length>1&&(guaranteedUnique[name]||jQuery.unique(matched),rparentsprev.test(name)&&matched.reverse()),this.pushStack(matched)}}),jQuery.extend({filter:function(expr,elems,not){var elem=elems[0];return not&&(expr=":not("+expr+")"),1===elems.length&&1===elem.nodeType?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return 1===elem.nodeType}))},dir:function(elem,dir,until){for(var matched=[],truncate=until!==undefined;(elem=elem[dir])&&9!==elem.nodeType;)if(1===elem.nodeType){if(truncate&&jQuery(elem).is(until))break;matched.push(elem)}return matched},sibling:function(n,elem){for(var matched=[];n;n=n.nextSibling)1===n.nodeType&&n!==elem&&matched.push(n);return matched}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,manipulation_rcheckableType=/^(?:checkbox|radio)$/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td,jQuery.fn.extend({text:function(value){return jQuery.access(this,function(value){return value===undefined?jQuery.text(this):this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(value))},null,value,arguments.length)},append:function(){return this.domManip(arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function(){return this.domManip(arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this)})},after:function(){return this.domManip(arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this.nextSibling)})},remove:function(selector,keepData){for(var elem,elems=selector?jQuery.filter(selector,this):this,i=0;null!=(elem=elems[i]);i++)keepData||1!==elem.nodeType||jQuery.cleanData(getAll(elem)),elem.parentNode&&(keepData&&jQuery.contains(elem.ownerDocument,elem)&&setGlobalEval(getAll(elem,"script")),elem.parentNode.removeChild(elem));return this},empty:function(){for(var elem,i=0;null!=(elem=this[i]);i++)1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.textContent="");return this},clone:function(dataAndEvents,deepDataAndEvents){return dataAndEvents=null==dataAndEvents?!1:dataAndEvents,deepDataAndEvents=null==deepDataAndEvents?dataAndEvents:deepDataAndEvents,this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return jQuery.access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined&&1===elem.nodeType)return elem.innerHTML;if("string"==typeof value&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;l>i;i++)elem=this[i]||{},1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.innerHTML=value);elem=0}catch(e){}}elem&&this.empty().append(value)},null,value,arguments.length)},replaceWith:function(){var args=jQuery.map(this,function(elem){return[elem.nextSibling,elem.parentNode]}),i=0;return this.domManip(arguments,function(elem){var next=args[i++],parent=args[i++];parent&&(next&&next.parentNode!==parent&&(next=this.nextSibling),jQuery(this).remove(),parent.insertBefore(elem,next))},!0),i?this:this.remove()},detach:function(selector){return this.remove(selector,!0)},domManip:function(args,callback,allowIntersection){args=core_concat.apply([],args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=this.length,set=this,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||!(1>=l||"string"!=typeof value||jQuery.support.checkClone)&&rchecked.test(value))return this.each(function(index){var self=set.eq(index);isFunction&&(args[0]=value.call(this,index,self.html())),self.domManip(args,callback,allowIntersection)});if(l&&(fragment=jQuery.buildFragment(args,this[0].ownerDocument,!1,!allowIntersection&&this),first=fragment.firstChild,1===fragment.childNodes.length&&(fragment=first),first)){for(scripts=jQuery.map(getAll(fragment,"script"),disableScript),hasScripts=scripts.length;l>i;i++)node=fragment,i!==iNoClone&&(node=jQuery.clone(node,!0,!0),hasScripts&&jQuery.merge(scripts,getAll(node,"script"))),callback.call(this[i],node,i);if(hasScripts)for(doc=scripts[scripts.length-1].ownerDocument,jQuery.map(scripts,restoreScript),i=0;hasScripts>i;i++)node=scripts[i],rscriptType.test(node.type||"")&&!data_priv.access(node,"globalEval")&&jQuery.contains(doc,node)&&(node.src?jQuery._evalUrl(node.src):jQuery.globalEval(node.textContent.replace(rcleanScript,"")))}return this}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){for(var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;last>=i;i++)elems=i===last?this:this.clone(!0),jQuery(insert[i])[original](elems),core_push.apply(ret,elems.get());return this.pushStack(ret)}}),jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,clone=elem.cloneNode(!0),inPage=jQuery.contains(elem.ownerDocument,elem);if(!(jQuery.support.noCloneChecked||1!==elem.nodeType&&11!==elem.nodeType||jQuery.isXMLDoc(elem)))for(destElements=getAll(clone),srcElements=getAll(elem),i=0,l=srcElements.length;l>i;i++)fixInput(srcElements[i],destElements[i]);if(dataAndEvents)if(deepDataAndEvents)for(srcElements=srcElements||getAll(elem),destElements=destElements||getAll(clone),i=0,l=srcElements.length;l>i;i++)cloneCopyEvent(srcElements[i],destElements[i]);else cloneCopyEvent(elem,clone);return destElements=getAll(clone,"script"),destElements.length>0&&setGlobalEval(destElements,!inPage&&getAll(elem,"script")),clone},buildFragment:function(elems,context,scripts,selection){for(var elem,tmp,tag,wrap,contains,j,i=0,l=elems.length,fragment=context.createDocumentFragment(),nodes=[];l>i;i++)if(elem=elems[i],elem||0===elem)if("object"===jQuery.type(elem))jQuery.merge(nodes,elem.nodeType?[elem]:elem);else if(rhtml.test(elem)){for(tmp=tmp||fragment.appendChild(context.createElement("div")),tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+elem.replace(rxhtmlTag,"<$1></$2>")+wrap[2],j=wrap[0];j--;)tmp=tmp.firstChild;jQuery.merge(nodes,tmp.childNodes),tmp=fragment.firstChild,tmp.textContent=""}else nodes.push(context.createTextNode(elem));for(fragment.textContent="",i=0;elem=nodes[i++];)if((!selection||-1===jQuery.inArray(elem,selection))&&(contains=jQuery.contains(elem.ownerDocument,elem),tmp=getAll(fragment.appendChild(elem),"script"),contains&&setGlobalEval(tmp),scripts))for(j=0;elem=tmp[j++];)rscriptType.test(elem.type||"")&&scripts.push(elem);return fragment},cleanData:function(elems){for(var data,elem,events,type,key,j,special=jQuery.event.special,i=0;(elem=elems[i])!==undefined;i++){if(Data.accepts(elem)&&(key=elem[data_priv.expando],key&&(data=data_priv.cache[key]))){if(events=Object.keys(data.events||{}),events.length)for(j=0;(type=events[j])!==undefined;j++)special[type]?jQuery.event.remove(elem,type):jQuery.removeEvent(elem,type,data.handle);data_priv.cache[key]&&delete data_priv.cache[key]}delete data_user.cache[elem[data_user.expando]]}},_evalUrl:function(url){return jQuery.ajax({url:url,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),jQuery.fn.extend({wrapAll:function(html){var wrap;return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapAll(html.call(this,i))}):(this[0]&&(wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&wrap.insertBefore(this[0]),wrap.map(function(){for(var elem=this;elem.firstElementChild;)elem=elem.firstElementChild;return elem}).append(this)),this)},wrapInner:function(html){return this.each(jQuery.isFunction(html)?function(i){jQuery(this).wrapInner(html.call(this,i))}:function(){var self=jQuery(this),contents=self.contents();contents.length?contents.wrapAll(html):self.append(html)})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)
})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()}});var curCSS,iframe,rdisplayswap=/^(none|table(?!-c[ea]).+)/,rmargin=/^margin/,rnumsplit=new RegExp("^("+core_pnum+")(.*)$","i"),rnumnonpx=new RegExp("^("+core_pnum+")(?!px)[a-z%]+$","i"),rrelNum=new RegExp("^([+-])=("+core_pnum+")","i"),elemdisplay={BODY:"block"},cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:0,fontWeight:400},cssExpand=["Top","Right","Bottom","Left"],cssPrefixes=["Webkit","O","Moz","ms"];jQuery.fn.extend({css:function(name,value){return jQuery.access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){for(styles=getStyles(elem),len=name.length;len>i;i++)map[name[i]]=jQuery.css(elem,name[i],!1,styles);return map}return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(state){var bool="boolean"==typeof state;return this.each(function(){(bool?state:isHidden(this))?jQuery(this).show():jQuery(this).hide()})}}),jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return""===ret?"1":ret}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(elem,name,value,extra){if(elem&&3!==elem.nodeType&&8!==elem.nodeType&&elem.style){var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;return name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName)),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],value===undefined?hooks&&"get"in hooks&&(ret=hooks.get(elem,!1,extra))!==undefined?ret:style[name]:(type=typeof value,"string"===type&&(ret=rrelNum.exec(value))&&(value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name)),type="number"),null==value||"number"===type&&isNaN(value)||("number"!==type||jQuery.cssNumber[origName]||(value+="px"),jQuery.support.clearCloneStyle||""!==value||0!==name.indexOf("background")||(style[name]="inherit"),hooks&&"set"in hooks&&(value=hooks.set(elem,value,extra))===undefined||(style[name]=value)),void 0)}},css:function(elem,name,extra,styles){var val,num,hooks,origName=jQuery.camelCase(name);return name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName)),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],hooks&&"get"in hooks&&(val=hooks.get(elem,!0,extra)),val===undefined&&(val=curCSS(elem,name,styles)),"normal"===val&&name in cssNormalTransform&&(val=cssNormalTransform[name]),""===extra||extra?(num=parseFloat(val),extra===!0||jQuery.isNumeric(num)?num||0:val):val}}),curCSS=function(elem,name,_computed){var width,minWidth,maxWidth,computed=_computed||getStyles(elem),ret=computed?computed.getPropertyValue(name)||computed[name]:undefined,style=elem.style;return computed&&(""!==ret||jQuery.contains(elem.ownerDocument,elem)||(ret=jQuery.style(elem,name)),rnumnonpx.test(ret)&&rmargin.test(name)&&(width=style.width,minWidth=style.minWidth,maxWidth=style.maxWidth,style.minWidth=style.maxWidth=style.width=ret,ret=computed.width,style.width=width,style.minWidth=minWidth,style.maxWidth=maxWidth)),ret},jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){return computed?0===elem.offsetWidth&&rdisplayswap.test(jQuery.css(elem,"display"))?jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra):void 0},set:function(elem,value,extra){var styles=extra&&getStyles(elem);return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,name,extra,jQuery.support.boxSizing&&"border-box"===jQuery.css(elem,"boxSizing",!1,styles),styles):0)}}}),jQuery(function(){jQuery.support.reliableMarginRight||(jQuery.cssHooks.marginRight={get:function(elem,computed){return computed?jQuery.swap(elem,{display:"inline-block"},curCSS,[elem,"marginRight"]):void 0}}),!jQuery.support.pixelPosition&&jQuery.fn.position&&jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]={get:function(elem,computed){return computed?(computed=curCSS(elem,prop),rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed):void 0}}})}),jQuery.expr&&jQuery.expr.filters&&(jQuery.expr.filters.hidden=function(elem){return elem.offsetWidth<=0&&elem.offsetHeight<=0},jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem)}),jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){for(var i=0,expanded={},parts="string"==typeof value?value.split(" "):[value];4>i;i++)expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];return expanded}},rmargin.test(prefix)||(jQuery.cssHooks[prefix+suffix].set=setPositiveNumber)});var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!manipulation_rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return null==val?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}}),jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():null==value?"":value,s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(traditional===undefined&&(traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional),jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){add(this.name,this.value)});else for(prefix in a)buildParams(prefix,a[prefix],traditional,add);return s.join("&").replace(r20,"+")},jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}}),jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)},bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return 1===arguments.length?this.off(selector,"**"):this.off(types,selector||"**",fn)}});var ajaxLocParts,ajaxLocation,ajax_nonce=jQuery.now(),ajax_rquery=/\?/,rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/gm,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,_load=jQuery.fn.load,prefilters={},transports={},allTypes="*/".concat("*");try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a"),ajaxLocation.href="",ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[],jQuery.fn.load=function(url,params,callback){if("string"!=typeof url&&_load)return _load.apply(this,arguments);var selector,type,response,self=this,off=url.indexOf(" ");return off>=0&&(selector=url.slice(off),url=url.slice(0,off)),jQuery.isFunction(params)?(callback=params,params=undefined):params&&"object"==typeof params&&(type="POST"),self.length>0&&jQuery.ajax({url:url,type:type,dataType:"html",data:params}).done(function(responseText){response=arguments,self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).complete(callback&&function(jqXHR,status){self.each(callback,response||[jqXHR.responseText,status,jqXHR])}),this},jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}}),jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;2!==state&&(state=2,timeoutTimer&&clearTimeout(timeoutTimer),transport=undefined,responseHeadersString=headers||"",jqXHR.readyState=status>0?4:0,isSuccess=status>=200&&300>status||304===status,responses&&(response=ajaxHandleResponses(s,jqXHR,responses)),response=ajaxConvert(s,response,jqXHR,isSuccess),isSuccess?(s.ifModified&&(modified=jqXHR.getResponseHeader("Last-Modified"),modified&&(jQuery.lastModified[cacheURL]=modified),modified=jqXHR.getResponseHeader("etag"),modified&&(jQuery.etag[cacheURL]=modified)),204===status||"HEAD"===s.type?statusText="nocontent":304===status?statusText="notmodified":(statusText=response.state,success=response.data,error=response.error,isSuccess=!error)):(error=statusText,(status||!statusText)&&(statusText="error",0>status&&(status=0))),jqXHR.status=status,jqXHR.statusText=(nativeStatusText||statusText)+"",isSuccess?deferred.resolveWith(callbackContext,[success,statusText,jqXHR]):deferred.rejectWith(callbackContext,[jqXHR,statusText,error]),jqXHR.statusCode(statusCode),statusCode=undefined,fireGlobals&&globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error]),completeDeferred.fireWith(callbackContext,[jqXHR,statusText]),fireGlobals&&(globalEventContext.trigger("ajaxComplete",[jqXHR,s]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}"object"==typeof url&&(options=url,url=undefined),options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,parts,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(2===state){if(!responseHeaders)for(responseHeaders={};match=rheaders.exec(responseHeadersString);)responseHeaders[match[1].toLowerCase()]=match[2];match=responseHeaders[key.toLowerCase()]}return null==match?null:match},getAllResponseHeaders:function(){return 2===state?responseHeadersString:null},setRequestHeader:function(name,value){var lname=name.toLowerCase();return state||(name=requestHeadersNames[lname]=requestHeadersNames[lname]||name,requestHeaders[name]=value),this},overrideMimeType:function(type){return state||(s.mimeType=type),this},statusCode:function(map){var code;if(map)if(2>state)for(code in map)statusCode[code]=[statusCode[code],map[code]];else jqXHR.always(map[jqXHR.status]);return this},abort:function(statusText){var finalText=statusText||strAbort;return transport&&transport.abort(finalText),done(0,finalText),this}};if(deferred.promise(jqXHR).complete=completeDeferred.add,jqXHR.success=jqXHR.done,jqXHR.error=jqXHR.fail,s.url=((url||s.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//"),s.type=options.method||options.type||s.method||s.type,s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(core_rnotwhite)||[""],null==s.crossDomain&&(parts=rurl.exec(s.url.toLowerCase()),s.crossDomain=!(!parts||parts[1]===ajaxLocParts[1]&&parts[2]===ajaxLocParts[2]&&(parts[3]||("http:"===parts[1]?"80":"443"))===(ajaxLocParts[3]||("http:"===ajaxLocParts[1]?"80":"443")))),s.data&&s.processData&&"string"!=typeof s.data&&(s.data=jQuery.param(s.data,s.traditional)),inspectPrefiltersOrTransports(prefilters,s,options,jqXHR),2===state)return jqXHR;fireGlobals=s.global,fireGlobals&&0===jQuery.active++&&jQuery.event.trigger("ajaxStart"),s.type=s.type.toUpperCase(),s.hasContent=!rnoContent.test(s.type),cacheURL=s.url,s.hasContent||(s.data&&(cacheURL=s.url+=(ajax_rquery.test(cacheURL)?"&":"?")+s.data,delete s.data),s.cache===!1&&(s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+ajax_nonce++):cacheURL+(ajax_rquery.test(cacheURL)?"&":"?")+"_="+ajax_nonce++)),s.ifModified&&(jQuery.lastModified[cacheURL]&&jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]),jQuery.etag[cacheURL]&&jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])),(s.data&&s.hasContent&&s.contentType!==!1||options.contentType)&&jqXHR.setRequestHeader("Content-Type",s.contentType),jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===!1||2===state))return jqXHR.abort();strAbort="abort";for(i in{success:1,error:1,complete:1})jqXHR[i](s[i]);if(transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR)){jqXHR.readyState=1,fireGlobals&&globalEventContext.trigger("ajaxSend",[jqXHR,s]),s.async&&s.timeout>0&&(timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout));try{state=1,transport.send(requestHeaders,done)}catch(e){if(!(2>state))throw e;done(-1,e)}}else done(-1,"No Transport");return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script")}}),jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){return jQuery.isFunction(data)&&(type=type||callback,callback=data,data=undefined),jQuery.ajax({url:url,type:method,dataType:type,data:data,success:callback})}}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(text){return jQuery.globalEval(text),text}}}),jQuery.ajaxPrefilter("script",function(s){s.cache===undefined&&(s.cache=!1),s.crossDomain&&(s.type="GET")}),jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,callback;return{send:function(_,complete){script=jQuery("<script>").prop({async:!0,charset:s.scriptCharset,src:s.url}).on("load error",callback=function(evt){script.remove(),callback=null,evt&&complete("error"===evt.type?404:200,evt.type)}),document.head.appendChild(script[0])},abort:function(){callback&&callback()}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+ajax_nonce++;return this[callback]=!0,callback}}),jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==!1&&(rjsonp.test(s.url)?"url":"string"==typeof s.data&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");return jsonProp||"jsonp"===s.dataTypes[0]?(callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,jsonProp?s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName):s.jsonp!==!1&&(s.url+=(ajax_rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName),s.converters["script json"]=function(){return responseContainer||jQuery.error(callbackName+" was not called"),responseContainer[0]},s.dataTypes[0]="json",overwritten=window[callbackName],window[callbackName]=function(){responseContainer=arguments},jqXHR.always(function(){window[callbackName]=overwritten,s[callbackName]&&(s.jsonpCallback=originalSettings.jsonpCallback,oldCallbacks.push(callbackName)),responseContainer&&jQuery.isFunction(overwritten)&&overwritten(responseContainer[0]),responseContainer=overwritten=undefined}),"script"):void 0}),jQuery.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var xhrSupported=jQuery.ajaxSettings.xhr(),xhrSuccessStatus={0:200,1223:204},xhrId=0,xhrCallbacks={};window.ActiveXObject&&jQuery(window).on("unload",function(){for(var key in xhrCallbacks)xhrCallbacks[key]();xhrCallbacks=undefined}),jQuery.support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,jQuery.support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport(function(options){var callback;return jQuery.support.cors||xhrSupported&&!options.crossDomain?{send:function(headers,complete){var i,id,xhr=options.xhr();if(xhr.open(options.type,options.url,options.async,options.username,options.password),options.xhrFields)for(i in options.xhrFields)xhr[i]=options.xhrFields[i];options.mimeType&&xhr.overrideMimeType&&xhr.overrideMimeType(options.mimeType),options.crossDomain||headers["X-Requested-With"]||(headers["X-Requested-With"]="XMLHttpRequest");for(i in headers)xhr.setRequestHeader(i,headers[i]);callback=function(type){return function(){callback&&(delete xhrCallbacks[id],callback=xhr.onload=xhr.onerror=null,"abort"===type?xhr.abort():"error"===type?complete(xhr.status||404,xhr.statusText):complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,"string"==typeof xhr.responseText?{text:xhr.responseText}:undefined,xhr.getAllResponseHeaders()))}},xhr.onload=callback(),xhr.onerror=callback("error"),callback=xhrCallbacks[id=xhrId++]=callback("abort"),xhr.send(options.hasContent&&options.data||null)},abort:function(){callback&&callback()}}:void 0});var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+core_pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(prop,value){var tween=this.createTween(prop,value),target=tween.cur(),parts=rfxnum.exec(value),unit=parts&&parts[3]||(jQuery.cssNumber[prop]?"":"px"),start=(jQuery.cssNumber[prop]||"px"!==unit&&+target)&&rfxnum.exec(jQuery.css(tween.elem,prop)),scale=1,maxIterations=20;if(start&&start[3]!==unit){unit=unit||start[3],parts=parts||[],start=+target||1;do scale=scale||".5",start/=scale,jQuery.style(tween.elem,prop,start+unit);while(scale!==(scale=tween.cur()/target)&&1!==scale&&--maxIterations)}return parts&&(tween.unit=unit,tween.start=+start||+target||0,tween.end=parts[1]?start+(parts[1]+1)*parts[2]:+parts[2]),tween}]};jQuery.Animation=jQuery.extend(Animation,{tweener:function(props,callback){jQuery.isFunction(props)?(callback=props,props=["*"]):props=props.split(" ");for(var prop,index=0,length=props.length;length>index;index++)prop=props[index],tweeners[prop]=tweeners[prop]||[],tweeners[prop].unshift(callback)},prefilter:function(callback,prepend){prepend?animationPrefilters.unshift(callback):animationPrefilters.push(callback)}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem,this.prop=prop,this.easing=easing||"swing",this.options=options,this.start=this.now=this.cur(),this.end=end,this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];return this.pos=eased=this.options.duration?jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration):percent,this.now=(this.end-this.start)*eased+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),hooks&&hooks.set?hooks.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(tween){var result;return null==tween.elem[tween.prop]||tween.elem.style&&null!=tween.elem.style[tween.prop]?(result=jQuery.css(tween.elem,tween.prop,""),result&&"auto"!==result?result:0):tween.elem[tween.prop]},set:function(tween){jQuery.fx.step[tween.prop]?jQuery.fx.step[tween.prop](tween):tween.elem.style&&(null!=tween.elem.style[jQuery.cssProps[tween.prop]]||jQuery.cssHooks[tween.prop])?jQuery.style(tween.elem,tween.prop,tween.now+tween.unit):tween.elem[tween.prop]=tween.now}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){tween.elem.nodeType&&tween.elem.parentNode&&(tween.elem[tween.prop]=tween.now)}},jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return null==speed||"boolean"==typeof speed?cssFn.apply(this,arguments):this.animate(genFx(name,!0),speed,easing,callback)}}),jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);doAnimation.finish=function(){anim.stop(!0)},(empty||data_priv.get(this,"finish"))&&anim.stop(!0)};return doAnimation.finish=doAnimation,empty||optall.queue===!1?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop,stop(gotoEnd)};return"string"!=typeof type&&(gotoEnd=clearQueue,clearQueue=type,type=undefined),clearQueue&&type!==!1&&this.queue(type||"fx",[]),this.each(function(){var dequeue=!0,index=null!=type&&type+"queueHooks",timers=jQuery.timers,data=data_priv.get(this);if(index)data[index]&&data[index].stop&&stopQueue(data[index]);else for(index in data)data[index]&&data[index].stop&&rrun.test(index)&&stopQueue(data[index]);for(index=timers.length;index--;)timers[index].elem!==this||null!=type&&timers[index].queue!==type||(timers[index].anim.stop(gotoEnd),dequeue=!1,timers.splice(index,1));(dequeue||!gotoEnd)&&jQuery.dequeue(this,type)})},finish:function(type){return type!==!1&&(type=type||"fx"),this.each(function(){var index,data=data_priv.get(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;for(data.finish=!0,jQuery.queue(this,type,[]),hooks&&hooks.cur&&hooks.cur.finish&&hooks.cur.finish.call(this),index=timers.length;index--;)timers[index].elem===this&&timers[index].queue===type&&(timers[index].anim.stop(!0),timers.splice(index,1));for(index=0;length>index;index++)queue[index]&&queue[index].finish&&queue[index].finish.call(this);delete data.finish})}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}}),jQuery.speed=function(speed,easing,fn){var opt=speed&&"object"==typeof speed?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};return opt.duration=jQuery.fx.off?0:"number"==typeof opt.duration?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default,(null==opt.queue||opt.queue===!0)&&(opt.queue="fx"),opt.old=opt.complete,opt.complete=function(){jQuery.isFunction(opt.old)&&opt.old.call(this),opt.queue&&jQuery.dequeue(this,opt.queue)},opt},jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2}},jQuery.timers=[],jQuery.fx=Tween.prototype.init,jQuery.fx.tick=function(){var timer,timers=jQuery.timers,i=0;for(fxNow=jQuery.now();i<timers.length;i++)timer=timers[i],timer()||timers[i]!==timer||timers.splice(i--,1);timers.length||jQuery.fx.stop(),fxNow=undefined},jQuery.fx.timer=function(timer){timer()&&jQuery.timers.push(timer)&&jQuery.fx.start()},jQuery.fx.interval=13,jQuery.fx.start=function(){timerId||(timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.stop=function(){clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fx.step={},jQuery.expr&&jQuery.expr.filters&&(jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length}),jQuery.fn.offset=function(options){if(arguments.length)return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)});var docElem,win,elem=this[0],box={top:0,left:0},doc=elem&&elem.ownerDocument;if(doc)return docElem=doc.documentElement,jQuery.contains(docElem,elem)?(typeof elem.getBoundingClientRect!==core_strundefined&&(box=elem.getBoundingClientRect()),win=getWindow(doc),{top:box.top+win.pageYOffset-docElem.clientTop,left:box.left+win.pageXOffset-docElem.clientLeft}):box},jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};"static"===position&&(elem.style.position="relative"),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=("absolute"===position||"fixed"===position)&&(curCSSTop+curCSSLeft).indexOf("auto")>-1,calculatePosition?(curPosition=curElem.position(),curTop=curPosition.top,curLeft=curPosition.left):(curTop=parseFloat(curCSSTop)||0,curLeft=parseFloat(curCSSLeft)||0),jQuery.isFunction(options)&&(options=options.call(elem,i,curOffset)),null!=options.top&&(props.top=options.top-curOffset.top+curTop),null!=options.left&&(props.left=options.left-curOffset.left+curLeft),"using"in options?options.using.call(elem,props):curElem.css(props)}},jQuery.fn.extend({position:function(){if(this[0]){var offsetParent,offset,elem=this[0],parentOffset={top:0,left:0};return"fixed"===jQuery.css(elem,"position")?offset=elem.getBoundingClientRect():(offsetParent=this.offsetParent(),offset=this.offset(),jQuery.nodeName(offsetParent[0],"html")||(parentOffset=offsetParent.offset()),parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",!0),parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",!0)),{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",!0),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var offsetParent=this.offsetParent||docElem;offsetParent&&!jQuery.nodeName(offsetParent,"html")&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.offsetParent;return offsetParent||docElem})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return jQuery.access(this,function(elem,method,val){var win=getWindow(elem);return val===undefined?win?win[prop]:elem[method]:void(win?win.scrollTo(top?window.pageXOffset:val,top?val:window.pageYOffset):elem[method]=val)},method,val,arguments.length,null)}}),jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||"boolean"!=typeof margin),extra=defaultExtra||(margin===!0||value===!0?"margin":"border");return jQuery.access(this,function(elem,type,value){var doc;return jQuery.isWindow(elem)?elem.document.documentElement["client"+name]:9===elem.nodeType?(doc=elem.documentElement,Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])):value===undefined?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:undefined,chainable,null)}})}),jQuery.fn.size=function(){return this.length},jQuery.fn.andSelf=jQuery.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=jQuery:"function"==typeof define&&define.amd&&define("jquery",[],function(){return jQuery}),"object"==typeof window&&"object"==typeof window.document&&(window.jQuery=window.$=jQuery)}(window),function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):factory(jQuery)}(function($){function focusable(element,isTabIndexNotNaN){var map,mapName,img,nodeName=element.nodeName.toLowerCase();return"area"===nodeName?(map=element.parentNode,mapName=map.name,element.href&&mapName&&"map"===map.nodeName.toLowerCase()?(img=$("img[usemap='#"+mapName+"']")[0],!!img&&visible(img)):!1):(/^(input|select|textarea|button|object)$/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element)}function visible(element){return $.expr.filters.visible(element)&&!$(element).parents().addBack().filter(function(){return"hidden"===$.css(this,"visibility")}).length}function datepicker_getZindex(elem){for(var position,value;elem.length&&elem[0]!==document;){if(position=elem.css("position"),("absolute"===position||"relative"===position||"fixed"===position)&&(value=parseInt(elem.css("zIndex"),10),!isNaN(value)&&0!==value))return value;elem=elem.parent()}return 0}function Datepicker(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.regional.en=$.extend(!0,{},this.regional[""]),this.regional["en-US"]=$.extend(!0,{},this.regional.en),this.dpDiv=datepicker_bindHover($("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))
}function datepicker_bindHover(dpDiv){var selector="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return dpDiv.delegate(selector,"mouseout",function(){$(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&$(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&$(this).removeClass("ui-datepicker-next-hover")}).delegate(selector,"mouseover",datepicker_handleMouseover)}function datepicker_handleMouseover(){$.datepicker._isDisabledDatepicker(datepicker_instActive.inline?datepicker_instActive.dpDiv.parent()[0]:datepicker_instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&$(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&$(this).addClass("ui-datepicker-next-hover"))}function datepicker_extendRemove(target,props){$.extend(target,props);for(var name in props)null==props[name]&&(target[name]=props[name]);return target}function spinner_modifier(fn){return function(){var previous=this.element.val();fn.apply(this,arguments),this._refresh(),previous!==this.element.val()&&this._trigger("change")}}$.ui=$.ui||{},$.extend($.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),$.fn.extend({scrollParent:function(includeHidden){var position=this.css("position"),excludeStaticParent="absolute"===position,overflowRegex=includeHidden?/(auto|scroll|hidden)/:/(auto|scroll)/,scrollParent=this.parents().filter(function(){var parent=$(this);return excludeStaticParent&&"static"===parent.css("position")?!1:overflowRegex.test(parent.css("overflow")+parent.css("overflow-y")+parent.css("overflow-x"))}).eq(0);return"fixed"!==position&&scrollParent.length?scrollParent:$(this[0].ownerDocument||document)},uniqueId:function(){var uuid=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++uuid)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&$(this).removeAttr("id")})}}),$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName)}}):function(elem,i,match){return!!$.data(elem,match[3])},focusable:function(element){return focusable(element,!isNaN($.attr(element,"tabindex")))},tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN)}}),$("<a>").outerWidth(1).jquery||$.each(["Width","Height"],function(i,name){function reduce(elem,size,border,margin){return $.each(side,function(){size-=parseFloat($.css(elem,"padding"+this))||0,border&&(size-=parseFloat($.css(elem,"border"+this+"Width"))||0),margin&&(size-=parseFloat($.css(elem,"margin"+this))||0)}),size}var side="Width"===name?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};$.fn["inner"+name]=function(size){return void 0===size?orig["inner"+name].call(this):this.each(function(){$(this).css(type,reduce(this,size)+"px")})},$.fn["outer"+name]=function(size,margin){return"number"!=typeof size?orig["outer"+name].call(this,size):this.each(function(){$(this).css(type,reduce(this,size,!0,margin)+"px")})}}),$.fn.addBack||($.fn.addBack=function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}),$("<a>").data("a-b","a").removeData("a-b").data("a-b")&&($.fn.removeData=function(removeData){return function(key){return arguments.length?removeData.call(this,$.camelCase(key)):removeData.call(this)}}($.fn.removeData)),$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),$.fn.extend({focus:function(orig){return function(delay,fn){return"number"==typeof delay?this.each(function(){var elem=this;setTimeout(function(){$(elem).focus(),fn&&fn.call(elem)},delay)}):orig.apply(this,arguments)}}($.fn.focus),disableSelection:function(){var eventType="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(eventType+".ui-disableSelection",function(event){event.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(zIndex){if(void 0!==zIndex)return this.css("zIndex",zIndex);if(this.length)for(var position,value,elem=$(this[0]);elem.length&&elem[0]!==document;){if(position=elem.css("position"),("absolute"===position||"relative"===position||"fixed"===position)&&(value=parseInt(elem.css("zIndex"),10),!isNaN(value)&&0!==value))return value;elem=elem.parent()}return 0}}),$.ui.plugin={add:function(module,option,set){var i,proto=$.ui[module].prototype;for(i in set)proto.plugins[i]=proto.plugins[i]||[],proto.plugins[i].push([option,set[i]])},call:function(instance,name,args,allowDisconnected){var i,set=instance.plugins[name];if(set&&(allowDisconnected||instance.element[0].parentNode&&11!==instance.element[0].parentNode.nodeType))for(i=0;i<set.length;i++)instance.options[set[i][0]]&&set[i][1].apply(instance.element,args)}};var widget_uuid=0,widget_slice=Array.prototype.slice;$.cleanData=function(orig){return function(elems){var events,elem,i;for(i=0;null!=(elem=elems[i]);i++)try{events=$._data(elem,"events"),events&&events.remove&&$(elem).triggerHandler("remove")}catch(e){}orig(elems)}}($.cleanData),$.widget=function(name,base,prototype){var fullName,existingConstructor,constructor,basePrototype,proxiedPrototype={},namespace=name.split(".")[0];return name=name.split(".")[1],fullName=namespace+"-"+name,prototype||(prototype=base,base=$.Widget),$.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName)},$[namespace]=$[namespace]||{},existingConstructor=$[namespace][name],constructor=$[namespace][name]=function(options,element){return this._createWidget?void(arguments.length&&this._createWidget(options,element)):new constructor(options,element)},$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]}),basePrototype=new base,basePrototype.options=$.widget.extend({},basePrototype.options),$.each(prototype,function(prop,value){return $.isFunction(value)?void(proxiedPrototype[prop]=function(){var _super=function(){return base.prototype[prop].apply(this,arguments)},_superApply=function(args){return base.prototype[prop].apply(this,args)};return function(){var returnValue,__super=this._super,__superApply=this._superApply;return this._super=_super,this._superApply=_superApply,returnValue=value.apply(this,arguments),this._super=__super,this._superApply=__superApply,returnValue}}()):void(proxiedPrototype[prop]=value)}),constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?basePrototype.widgetEventPrefix||name:name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName}),existingConstructor?($.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto)}),delete existingConstructor._childConstructors):base._childConstructors.push(constructor),$.widget.bridge(name,constructor),constructor},$.widget.extend=function(target){for(var key,value,input=widget_slice.call(arguments,1),inputIndex=0,inputLength=input.length;inputLength>inputIndex;inputIndex++)for(key in input[inputIndex])value=input[inputIndex][key],input[inputIndex].hasOwnProperty(key)&&void 0!==value&&(target[key]=$.isPlainObject(value)?$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value):value);return target},$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall="string"==typeof options,args=widget_slice.call(arguments,1),returnValue=this;return isMethodCall?this.each(function(){var methodValue,instance=$.data(this,fullName);return"instance"===options?(returnValue=instance,!1):instance?$.isFunction(instance[options])&&"_"!==options.charAt(0)?(methodValue=instance[options].apply(instance,args),methodValue!==instance&&void 0!==methodValue?(returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue,!1):void 0):$.error("no such method '"+options+"' for "+name+" widget instance"):$.error("cannot call methods on "+name+" prior to initialization; attempted to call method '"+options+"'")}):(args.length&&(options=$.widget.extend.apply(null,[options].concat(args))),this.each(function(){var instance=$.data(this,fullName);instance?(instance.option(options||{}),instance._init&&instance._init()):$.data(this,fullName,new object(options,this))})),returnValue}},$.Widget=function(){},$.Widget._childConstructors=[],$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0],this.element=$(element),this.uuid=widget_uuid++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=$(),this.hoverable=$(),this.focusable=$(),element!==this&&($.data(element,this.widgetFullName,this),this._on(!0,this.element,{remove:function(event){event.target===element&&this.destroy()}}),this.document=$(element.style?element.ownerDocument:element.document||element),this.window=$(this.document[0].defaultView||this.document[0].parentWindow)),this.options=$.widget.extend({},this.options,this._getCreateOptions(),options),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:$.noop,widget:function(){return this.element},option:function(key,value){var parts,curOption,i,options=key;if(0===arguments.length)return $.widget.extend({},this.options);if("string"==typeof key)if(options={},parts=key.split("."),key=parts.shift(),parts.length){for(curOption=options[key]=$.widget.extend({},this.options[key]),i=0;i<parts.length-1;i++)curOption[parts[i]]=curOption[parts[i]]||{},curOption=curOption[parts[i]];if(key=parts.pop(),1===arguments.length)return void 0===curOption[key]?null:curOption[key];curOption[key]=value}else{if(1===arguments.length)return void 0===this.options[key]?null:this.options[key];options[key]=value}return this._setOptions(options),this},_setOptions:function(options){var key;for(key in options)this._setOption(key,options[key]);return this},_setOption:function(key,value){return this.options[key]=value,"disabled"===key&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!value),value&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(suppressDisabledCheck,element,handlers){var delegateElement,instance=this;"boolean"!=typeof suppressDisabledCheck&&(handlers=element,element=suppressDisabledCheck,suppressDisabledCheck=!1),handlers?(element=delegateElement=$(element),this.bindings=this.bindings.add(element)):(handlers=element,element=this.element,delegateElement=this.widget()),$.each(handlers,function(event,handler){function handlerProxy(){return suppressDisabledCheck||instance.options.disabled!==!0&&!$(this).hasClass("ui-state-disabled")?("string"==typeof handler?instance[handler]:handler).apply(instance,arguments):void 0}"string"!=typeof handler&&(handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++);var match=event.match(/^([\w:-]*)\s*(.*)$/),eventName=match[1]+instance.eventNamespace,selector=match[2];selector?delegateElement.delegate(selector,eventName,handlerProxy):element.bind(eventName,handlerProxy)})},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,element.unbind(eventName).undelegate(eventName),this.bindings=$(this.bindings.not(element).get()),this.focusable=$(this.focusable.not(element).get()),this.hoverable=$(this.hoverable.not(element).get())},_delay:function(handler,delay){function handlerProxy(){return("string"==typeof handler?instance[handler]:handler).apply(instance,arguments)}var instance=this;return setTimeout(handlerProxy,delay||0)},_hoverable:function(element){this.hoverable=this.hoverable.add(element),this._on(element,{mouseenter:function(event){$(event.currentTarget).addClass("ui-state-hover")},mouseleave:function(event){$(event.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(element){this.focusable=this.focusable.add(element),this._on(element,{focusin:function(event){$(event.currentTarget).addClass("ui-state-focus")},focusout:function(event){$(event.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];if(data=data||{},event=$.Event(event),event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase(),event.target=this.element[0],orig=event.originalEvent)for(prop in orig)prop in event||(event[prop]=orig[prop]);return this.element.trigger(event,data),!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===!1||event.isDefaultPrevented())}},$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){"string"==typeof options&&(options={effect:options});var hasOptions,effectName=options?options===!0||"number"==typeof options?defaultEffect:options.effect||defaultEffect:method;options=options||{},"number"==typeof options&&(options={duration:options}),hasOptions=!$.isEmptyObject(options),options.complete=callback,options.delay&&element.delay(options.delay),hasOptions&&$.effects&&$.effects.effect[effectName]?element[method](options):effectName!==method&&element[effectName]?element[effectName](options.duration,options.easing,callback):element.queue(function(next){$(this)[method](),callback&&callback.call(element[0]),next()})}});var mouseHandled=($.widget,!1);$(document).mouseup(function(){mouseHandled=!1});$.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var that=this;this.element.bind("mousedown."+this.widgetName,function(event){return that._mouseDown(event)}).bind("click."+this.widgetName,function(event){return!0===$.data(event.target,that.widgetName+".preventClickEvent")?($.removeData(event.target,that.widgetName+".preventClickEvent"),event.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(event){if(!mouseHandled){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(event),this._mouseDownEvent=event;var that=this,btnIsLeft=1===event.which,elIsCancel="string"==typeof this.options.cancel&&event.target.nodeName?$(event.target).closest(this.options.cancel).length:!1;return btnIsLeft&&!elIsCancel&&this._mouseCapture(event)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){that.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(event)&&this._mouseDelayMet(event)&&(this._mouseStarted=this._mouseStart(event)!==!1,!this._mouseStarted)?(event.preventDefault(),!0):(!0===$.data(event.target,this.widgetName+".preventClickEvent")&&$.removeData(event.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(event){return that._mouseMove(event)},this._mouseUpDelegate=function(event){return that._mouseUp(event)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),event.preventDefault(),mouseHandled=!0,!0)):!0}},_mouseMove:function(event){if(this._mouseMoved){if($.ui.ie&&(!document.documentMode||document.documentMode<9)&&!event.button)return this._mouseUp(event);if(!event.which)return this._mouseUp(event)}return(event.which||event.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(event),event.preventDefault()):(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,event)!==!1,this._mouseStarted?this._mouseDrag(event):this._mouseUp(event)),!this._mouseStarted)},_mouseUp:function(event){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,event.target===this._mouseDownEvent.target&&$.data(event.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(event)),mouseHandled=!1,!1},_mouseDistanceMet:function(event){return Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});!function(){function getOffsets(offsets,width,height){return[parseFloat(offsets[0])*(rpercent.test(offsets[0])?width/100:1),parseFloat(offsets[1])*(rpercent.test(offsets[1])?height/100:1)]}function parseCss(element,property){return parseInt($.css(element,property),10)||0}function getDimensions(elem){var raw=elem[0];return 9===raw.nodeType?{width:elem.width(),height:elem.height(),offset:{top:0,left:0}}:$.isWindow(raw)?{width:elem.width(),height:elem.height(),offset:{top:elem.scrollTop(),left:elem.scrollLeft()}}:raw.preventDefault?{width:0,height:0,offset:{top:raw.pageY,left:raw.pageX}}:{width:elem.outerWidth(),height:elem.outerHeight(),offset:elem.offset()}}$.ui=$.ui||{};var cachedScrollbarWidth,supportsOffsetFractions,max=Math.max,abs=Math.abs,round=Math.round,rhorizontal=/left|center|right/,rvertical=/top|center|bottom/,roffset=/[\+\-]\d+(\.[\d]+)?%?/,rposition=/^\w+/,rpercent=/%$/,_position=$.fn.position;$.position={scrollbarWidth:function(){if(void 0!==cachedScrollbarWidth)return cachedScrollbarWidth;var w1,w2,div=$("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),innerDiv=div.children()[0];return $("body").append(div),w1=innerDiv.offsetWidth,div.css("overflow","scroll"),w2=innerDiv.offsetWidth,w1===w2&&(w2=div[0].clientWidth),div.remove(),cachedScrollbarWidth=w1-w2},getScrollInfo:function(within){var overflowX=within.isWindow||within.isDocument?"":within.element.css("overflow-x"),overflowY=within.isWindow||within.isDocument?"":within.element.css("overflow-y"),hasOverflowX="scroll"===overflowX||"auto"===overflowX&&within.width<within.element[0].scrollWidth,hasOverflowY="scroll"===overflowY||"auto"===overflowY&&within.height<within.element[0].scrollHeight;return{width:hasOverflowY?$.position.scrollbarWidth():0,height:hasOverflowX?$.position.scrollbarWidth():0}},getWithinInfo:function(element){var withinElement=$(element||window),isWindow=$.isWindow(withinElement[0]),isDocument=!!withinElement[0]&&9===withinElement[0].nodeType;return{element:withinElement,isWindow:isWindow,isDocument:isDocument,offset:withinElement.offset()||{left:0,top:0},scrollLeft:withinElement.scrollLeft(),scrollTop:withinElement.scrollTop(),width:isWindow||isDocument?withinElement.width():withinElement.outerWidth(),height:isWindow||isDocument?withinElement.height():withinElement.outerHeight()}}},$.fn.position=function(options){if(!options||!options.of)return _position.apply(this,arguments);options=$.extend({},options);var atOffset,targetWidth,targetHeight,targetOffset,basePosition,dimensions,target=$(options.of),within=$.position.getWithinInfo(options.within),scrollInfo=$.position.getScrollInfo(within),collision=(options.collision||"flip").split(" "),offsets={};return dimensions=getDimensions(target),target[0].preventDefault&&(options.at="left top"),targetWidth=dimensions.width,targetHeight=dimensions.height,targetOffset=dimensions.offset,basePosition=$.extend({},targetOffset),$.each(["my","at"],function(){var horizontalOffset,verticalOffset,pos=(options[this]||"").split(" ");1===pos.length&&(pos=rhorizontal.test(pos[0])?pos.concat(["center"]):rvertical.test(pos[0])?["center"].concat(pos):["center","center"]),pos[0]=rhorizontal.test(pos[0])?pos[0]:"center",pos[1]=rvertical.test(pos[1])?pos[1]:"center",horizontalOffset=roffset.exec(pos[0]),verticalOffset=roffset.exec(pos[1]),offsets[this]=[horizontalOffset?horizontalOffset[0]:0,verticalOffset?verticalOffset[0]:0],options[this]=[rposition.exec(pos[0])[0],rposition.exec(pos[1])[0]]}),1===collision.length&&(collision[1]=collision[0]),"right"===options.at[0]?basePosition.left+=targetWidth:"center"===options.at[0]&&(basePosition.left+=targetWidth/2),"bottom"===options.at[1]?basePosition.top+=targetHeight:"center"===options.at[1]&&(basePosition.top+=targetHeight/2),atOffset=getOffsets(offsets.at,targetWidth,targetHeight),basePosition.left+=atOffset[0],basePosition.top+=atOffset[1],this.each(function(){var collisionPosition,using,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseCss(this,"marginLeft"),marginTop=parseCss(this,"marginTop"),collisionWidth=elemWidth+marginLeft+parseCss(this,"marginRight")+scrollInfo.width,collisionHeight=elemHeight+marginTop+parseCss(this,"marginBottom")+scrollInfo.height,position=$.extend({},basePosition),myOffset=getOffsets(offsets.my,elem.outerWidth(),elem.outerHeight());"right"===options.my[0]?position.left-=elemWidth:"center"===options.my[0]&&(position.left-=elemWidth/2),"bottom"===options.my[1]?position.top-=elemHeight:"center"===options.my[1]&&(position.top-=elemHeight/2),position.left+=myOffset[0],position.top+=myOffset[1],supportsOffsetFractions||(position.left=round(position.left),position.top=round(position.top)),collisionPosition={marginLeft:marginLeft,marginTop:marginTop},$.each(["left","top"],function(i,dir){$.ui.position[collision[i]]&&$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:[atOffset[0]+myOffset[0],atOffset[1]+myOffset[1]],my:options.my,at:options.at,within:within,elem:elem})}),options.using&&(using=function(props){var left=targetOffset.left-position.left,right=left+targetWidth-elemWidth,top=targetOffset.top-position.top,bottom=top+targetHeight-elemHeight,feedback={target:{element:target,left:targetOffset.left,top:targetOffset.top,width:targetWidth,height:targetHeight},element:{element:elem,left:position.left,top:position.top,width:elemWidth,height:elemHeight},horizontal:0>right?"left":left>0?"right":"center",vertical:0>bottom?"top":top>0?"bottom":"middle"};elemWidth>targetWidth&&abs(left+right)<targetWidth&&(feedback.horizontal="center"),elemHeight>targetHeight&&abs(top+bottom)<targetHeight&&(feedback.vertical="middle"),feedback.important=max(abs(left),abs(right))>max(abs(top),abs(bottom))?"horizontal":"vertical",options.using.call(this,props,feedback)}),elem.offset($.extend(position,{using:using}))})},$.ui.position={fit:{left:function(position,data){var newOverRight,within=data.within,withinOffset=within.isWindow?within.scrollLeft:within.offset.left,outerWidth=within.width,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=withinOffset-collisionPosLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-withinOffset;data.collisionWidth>outerWidth?overLeft>0&&0>=overRight?(newOverRight=position.left+overLeft+data.collisionWidth-outerWidth-withinOffset,position.left+=overLeft-newOverRight):position.left=overRight>0&&0>=overLeft?withinOffset:overLeft>overRight?withinOffset+outerWidth-data.collisionWidth:withinOffset:overLeft>0?position.left+=overLeft:overRight>0?position.left-=overRight:position.left=max(position.left-collisionPosLeft,position.left)},top:function(position,data){var newOverBottom,within=data.within,withinOffset=within.isWindow?within.scrollTop:within.offset.top,outerHeight=data.within.height,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=withinOffset-collisionPosTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-withinOffset;data.collisionHeight>outerHeight?overTop>0&&0>=overBottom?(newOverBottom=position.top+overTop+data.collisionHeight-outerHeight-withinOffset,position.top+=overTop-newOverBottom):position.top=overBottom>0&&0>=overTop?withinOffset:overTop>overBottom?withinOffset+outerHeight-data.collisionHeight:withinOffset:overTop>0?position.top+=overTop:overBottom>0?position.top-=overBottom:position.top=max(position.top-collisionPosTop,position.top)}},flip:{left:function(position,data){var newOverRight,newOverLeft,within=data.within,withinOffset=within.offset.left+within.scrollLeft,outerWidth=within.width,offsetLeft=within.isWindow?within.scrollLeft:within.offset.left,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=collisionPosLeft-offsetLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-offsetLeft,myOffset="left"===data.my[0]?-data.elemWidth:"right"===data.my[0]?data.elemWidth:0,atOffset="left"===data.at[0]?data.targetWidth:"right"===data.at[0]?-data.targetWidth:0,offset=-2*data.offset[0];0>overLeft?(newOverRight=position.left+myOffset+atOffset+offset+data.collisionWidth-outerWidth-withinOffset,(0>newOverRight||newOverRight<abs(overLeft))&&(position.left+=myOffset+atOffset+offset)):overRight>0&&(newOverLeft=position.left-data.collisionPosition.marginLeft+myOffset+atOffset+offset-offsetLeft,(newOverLeft>0||abs(newOverLeft)<overRight)&&(position.left+=myOffset+atOffset+offset))},top:function(position,data){var newOverTop,newOverBottom,within=data.within,withinOffset=within.offset.top+within.scrollTop,outerHeight=within.height,offsetTop=within.isWindow?within.scrollTop:within.offset.top,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=collisionPosTop-offsetTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-offsetTop,top="top"===data.my[1],myOffset=top?-data.elemHeight:"bottom"===data.my[1]?data.elemHeight:0,atOffset="top"===data.at[1]?data.targetHeight:"bottom"===data.at[1]?-data.targetHeight:0,offset=-2*data.offset[1];0>overTop?(newOverBottom=position.top+myOffset+atOffset+offset+data.collisionHeight-outerHeight-withinOffset,(0>newOverBottom||newOverBottom<abs(overTop))&&(position.top+=myOffset+atOffset+offset)):overBottom>0&&(newOverTop=position.top-data.collisionPosition.marginTop+myOffset+atOffset+offset-offsetTop,(newOverTop>0||abs(newOverTop)<overBottom)&&(position.top+=myOffset+atOffset+offset))}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments),$.ui.position.fit.left.apply(this,arguments)},top:function(){$.ui.position.flip.top.apply(this,arguments),$.ui.position.fit.top.apply(this,arguments)}}},function(){var testElement,testElementParent,testElementStyle,offsetLeft,i,body=document.getElementsByTagName("body")[0],div=document.createElement("div");testElement=document.createElement(body?"div":"body"),testElementStyle={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},body&&$.extend(testElementStyle,{position:"absolute",left:"-1000px",top:"-1000px"});for(i in testElementStyle)testElement.style[i]=testElementStyle[i];testElement.appendChild(div),testElementParent=body||document.documentElement,testElementParent.insertBefore(testElement,testElementParent.firstChild),div.style.cssText="position: absolute; left: 10.7432222px;",offsetLeft=$(div).offset().left,supportsOffsetFractions=offsetLeft>10&&11>offsetLeft,testElement.innerHTML="",testElementParent.removeChild(testElement)}()}();$.ui.position,$.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var options=this.options;this.prevShow=this.prevHide=$(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),options.collapsible||options.active!==!1&&null!=options.active||(options.active=0),this._processPanels(),options.active<0&&(options.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():$()}},_createIcons:function(){var icons=this.options.icons;icons&&($("<span>").addClass("ui-accordion-header-icon ui-icon "+icons.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(icons.header).addClass(icons.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var contents;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),contents=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&contents.css("height","")},_setOption:function(key,value){return"active"===key?void this._activate(value):("event"===key&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(value)),this._super(key,value),"collapsible"!==key||value||this.options.active!==!1||this._activate(0),"icons"===key&&(this._destroyIcons(),value&&this._createIcons()),void("disabled"===key&&(this.element.toggleClass("ui-state-disabled",!!value).attr("aria-disabled",value),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!value))))},_keydown:function(event){if(!event.altKey&&!event.ctrlKey){var keyCode=$.ui.keyCode,length=this.headers.length,currentIndex=this.headers.index(event.target),toFocus=!1;switch(event.keyCode){case keyCode.RIGHT:case keyCode.DOWN:toFocus=this.headers[(currentIndex+1)%length];break;case keyCode.LEFT:case keyCode.UP:toFocus=this.headers[(currentIndex-1+length)%length];break;case keyCode.SPACE:case keyCode.ENTER:this._eventHandler(event);break;case keyCode.HOME:toFocus=this.headers[0];break;case keyCode.END:toFocus=this.headers[length-1]}toFocus&&($(event.target).attr("tabIndex",-1),$(toFocus).attr("tabIndex",0),toFocus.focus(),event.preventDefault())}},_panelKeyDown:function(event){event.keyCode===$.ui.keyCode.UP&&event.ctrlKey&&$(event.currentTarget).prev().focus()
},refresh:function(){var options=this.options;this._processPanels(),options.active===!1&&options.collapsible===!0||!this.headers.length?(options.active=!1,this.active=$()):options.active===!1?this._activate(0):this.active.length&&!$.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(options.active=!1,this.active=$()):this._activate(Math.max(0,options.active-1)):options.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var prevHeaders=this.headers,prevPanels=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),prevPanels&&(this._off(prevHeaders.not(this.headers)),this._off(prevPanels.not(this.panels)))},_refresh:function(){var maxHeight,options=this.options,heightStyle=options.heightStyle,parent=this.element.parent();this.active=this._findActive(options.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var header=$(this),headerId=header.uniqueId().attr("id"),panel=header.next(),panelId=panel.uniqueId().attr("id");header.attr("aria-controls",panelId),panel.attr("aria-labelledby",headerId)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(options.event),"fill"===heightStyle?(maxHeight=parent.height(),this.element.siblings(":visible").each(function(){var elem=$(this),position=elem.css("position");"absolute"!==position&&"fixed"!==position&&(maxHeight-=elem.outerHeight(!0))}),this.headers.each(function(){maxHeight-=$(this).outerHeight(!0)}),this.headers.next().each(function(){$(this).height(Math.max(0,maxHeight-$(this).innerHeight()+$(this).height()))}).css("overflow","auto")):"auto"===heightStyle&&(maxHeight=0,this.headers.next().each(function(){maxHeight=Math.max(maxHeight,$(this).css("height","").height())}).height(maxHeight))},_activate:function(index){var active=this._findActive(index)[0];active!==this.active[0]&&(active=active||this.active[0],this._eventHandler({target:active,currentTarget:active,preventDefault:$.noop}))},_findActive:function(selector){return"number"==typeof selector?this.headers.eq(selector):$()},_setupEvents:function(event){var events={keydown:"_keydown"};event&&$.each(event.split(" "),function(index,eventName){events[eventName]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,events),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(event){var options=this.options,active=this.active,clicked=$(event.currentTarget),clickedIsActive=clicked[0]===active[0],collapsing=clickedIsActive&&options.collapsible,toShow=collapsing?$():clicked.next(),toHide=active.next(),eventData={oldHeader:active,oldPanel:toHide,newHeader:collapsing?$():clicked,newPanel:toShow};event.preventDefault(),clickedIsActive&&!options.collapsible||this._trigger("beforeActivate",event,eventData)===!1||(options.active=collapsing?!1:this.headers.index(clicked),this.active=clickedIsActive?$():clicked,this._toggle(eventData),active.removeClass("ui-accordion-header-active ui-state-active"),options.icons&&active.children(".ui-accordion-header-icon").removeClass(options.icons.activeHeader).addClass(options.icons.header),clickedIsActive||(clicked.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),options.icons&&clicked.children(".ui-accordion-header-icon").removeClass(options.icons.header).addClass(options.icons.activeHeader),clicked.next().addClass("ui-accordion-content-active")))},_toggle:function(data){var toShow=data.newPanel,toHide=this.prevShow.length?this.prevShow:data.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=toShow,this.prevHide=toHide,this.options.animate?this._animate(toShow,toHide,data):(toHide.hide(),toShow.show(),this._toggleComplete(data)),toHide.attr({"aria-hidden":"true"}),toHide.prev().attr({"aria-selected":"false","aria-expanded":"false"}),toShow.length&&toHide.length?toHide.prev().attr({tabIndex:-1,"aria-expanded":"false"}):toShow.length&&this.headers.filter(function(){return 0===parseInt($(this).attr("tabIndex"),10)}).attr("tabIndex",-1),toShow.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(toShow,toHide,data){var total,easing,duration,that=this,adjust=0,boxSizing=toShow.css("box-sizing"),down=toShow.length&&(!toHide.length||toShow.index()<toHide.index()),animate=this.options.animate||{},options=down&&animate.down||animate,complete=function(){that._toggleComplete(data)};return"number"==typeof options&&(duration=options),"string"==typeof options&&(easing=options),easing=easing||options.easing||animate.easing,duration=duration||options.duration||animate.duration,toHide.length?toShow.length?(total=toShow.show().outerHeight(),toHide.animate(this.hideProps,{duration:duration,easing:easing,step:function(now,fx){fx.now=Math.round(now)}}),void toShow.hide().animate(this.showProps,{duration:duration,easing:easing,complete:complete,step:function(now,fx){fx.now=Math.round(now),"height"!==fx.prop?"content-box"===boxSizing&&(adjust+=fx.now):"content"!==that.options.heightStyle&&(fx.now=Math.round(total-toHide.outerHeight()-adjust),adjust=0)}})):toHide.animate(this.hideProps,duration,easing,complete):toShow.animate(this.showProps,duration,easing,complete)},_toggleComplete:function(data){var toHide=data.oldPanel;toHide.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),toHide.length&&(toHide.parent()[0].className=toHide.parent()[0].className),this._trigger("activate",null,data)}}),$.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(event){event.preventDefault()},"click .ui-menu-item":function(event){var target=$(event.target);!this.mouseHandled&&target.not(".ui-state-disabled").length&&(this.select(event),event.isPropagationStopped()||(this.mouseHandled=!0),target.has(".ui-menu").length?this.expand(event):!this.element.is(":focus")&&$(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(event){if(!this.previousFilter){var target=$(event.currentTarget);target.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(event,target)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(event,keepActiveItem){var item=this.active||this.element.find(this.options.items).eq(0);keepActiveItem||this.focus(event,item)},blur:function(event){this._delay(function(){$.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(event)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(event){this._closeOnDocumentClick(event)&&this.collapseAll(event),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var elem=$(this);elem.data("ui-menu-submenu-carat")&&elem.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(event){var match,prev,character,skip,preventDefault=!0;switch(event.keyCode){case $.ui.keyCode.PAGE_UP:this.previousPage(event);break;case $.ui.keyCode.PAGE_DOWN:this.nextPage(event);break;case $.ui.keyCode.HOME:this._move("first","first",event);break;case $.ui.keyCode.END:this._move("last","last",event);break;case $.ui.keyCode.UP:this.previous(event);break;case $.ui.keyCode.DOWN:this.next(event);break;case $.ui.keyCode.LEFT:this.collapse(event);break;case $.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(event);break;case $.ui.keyCode.ENTER:case $.ui.keyCode.SPACE:this._activate(event);break;case $.ui.keyCode.ESCAPE:this.collapse(event);break;default:preventDefault=!1,prev=this.previousFilter||"",character=String.fromCharCode(event.keyCode),skip=!1,clearTimeout(this.filterTimer),character===prev?skip=!0:character=prev+character,match=this._filterMenuItems(character),match=skip&&-1!==match.index(this.active.next())?this.active.nextAll(".ui-menu-item"):match,match.length||(character=String.fromCharCode(event.keyCode),match=this._filterMenuItems(character)),match.length?(this.focus(event,match),this.previousFilter=character,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}preventDefault&&event.preventDefault()},_activate:function(event){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(event):this.select(event))},refresh:function(){var menus,items,that=this,icon=this.options.icons.submenu,submenus=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),submenus.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var menu=$(this),item=menu.parent(),submenuCarat=$("<span>").addClass("ui-menu-icon ui-icon "+icon).data("ui-menu-submenu-carat",!0);item.attr("aria-haspopup","true").prepend(submenuCarat),menu.attr("aria-labelledby",item.attr("id"))}),menus=submenus.add(this.element),items=menus.find(this.options.items),items.not(".ui-menu-item").each(function(){var item=$(this);that._isDivider(item)&&item.addClass("ui-widget-content ui-menu-divider")}),items.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),items.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!$.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(key,value){"icons"===key&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(value.submenu),"disabled"===key&&this.element.toggleClass("ui-state-disabled",!!value).attr("aria-disabled",value),this._super(key,value)},focus:function(event,item){var nested,focused;this.blur(event,event&&"focus"===event.type),this._scrollIntoView(item),this.active=item.first(),focused=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",focused.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),event&&"keydown"===event.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),nested=item.children(".ui-menu"),nested.length&&event&&/^mouse/.test(event.type)&&this._startOpening(nested),this.activeMenu=item.parent(),this._trigger("focus",event,{item:item})},_scrollIntoView:function(item){var borderTop,paddingTop,offset,scroll,elementHeight,itemHeight;this._hasScroll()&&(borderTop=parseFloat($.css(this.activeMenu[0],"borderTopWidth"))||0,paddingTop=parseFloat($.css(this.activeMenu[0],"paddingTop"))||0,offset=item.offset().top-this.activeMenu.offset().top-borderTop-paddingTop,scroll=this.activeMenu.scrollTop(),elementHeight=this.activeMenu.height(),itemHeight=item.outerHeight(),0>offset?this.activeMenu.scrollTop(scroll+offset):offset+itemHeight>elementHeight&&this.activeMenu.scrollTop(scroll+offset-elementHeight+itemHeight))},blur:function(event,fromFocus){fromFocus||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",event,{item:this.active}))},_startOpening:function(submenu){clearTimeout(this.timer),"true"===submenu.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(submenu)},this.delay))},_open:function(submenu){var position=$.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(submenu.parents(".ui-menu")).hide().attr("aria-hidden","true"),submenu.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(position)},collapseAll:function(event,all){clearTimeout(this.timer),this.timer=this._delay(function(){var currentMenu=all?this.element:$(event&&event.target).closest(this.element.find(".ui-menu"));currentMenu.length||(currentMenu=this.element),this._close(currentMenu),this.blur(event),this.activeMenu=currentMenu},this.delay)},_close:function(startMenu){startMenu||(startMenu=this.active?this.active.parent():this.element),startMenu.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(event){return!$(event.target).closest(".ui-menu").length},_isDivider:function(item){return!/[^\-\u2014\u2013\s]/.test(item.text())},collapse:function(event){var newItem=this.active&&this.active.parent().closest(".ui-menu-item",this.element);newItem&&newItem.length&&(this._close(),this.focus(event,newItem))},expand:function(event){var newItem=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();newItem&&newItem.length&&(this._open(newItem.parent()),this._delay(function(){this.focus(event,newItem)}))},next:function(event){this._move("next","first",event)},previous:function(event){this._move("prev","last",event)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(direction,filter,event){var next;this.active&&(next="first"===direction||"last"===direction?this.active["first"===direction?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[direction+"All"](".ui-menu-item").eq(0)),next&&next.length&&this.active||(next=this.activeMenu.find(this.options.items)[filter]()),this.focus(event,next)},nextPage:function(event){var item,base,height;return this.active?void(this.isLastItem()||(this._hasScroll()?(base=this.active.offset().top,height=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return item=$(this),item.offset().top-base-height<0}),this.focus(event,item)):this.focus(event,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(event)},previousPage:function(event){var item,base,height;return this.active?void(this.isFirstItem()||(this._hasScroll()?(base=this.active.offset().top,height=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return item=$(this),item.offset().top-base+height>0}),this.focus(event,item)):this.focus(event,this.activeMenu.find(this.options.items).first()))):void this.next(event)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(event){this.active=this.active||$(event.target).closest(".ui-menu-item");var ui={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(event,!0),this._trigger("select",event,ui)},_filterMenuItems:function(character){var escapedCharacter=character.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),regex=new RegExp("^"+escapedCharacter,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return regex.test($.trim($(this).text()))})}});$.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var suppressKeyPress,suppressKeyPressRepeat,suppressInput,nodeName=this.element[0].nodeName.toLowerCase(),isTextarea="textarea"===nodeName,isInput="input"===nodeName;this.isMultiLine=isTextarea?!0:isInput?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[isTextarea||isInput?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(event){if(this.element.prop("readOnly"))return suppressKeyPress=!0,suppressInput=!0,void(suppressKeyPressRepeat=!0);suppressKeyPress=!1,suppressInput=!1,suppressKeyPressRepeat=!1;var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:suppressKeyPress=!0,this._move("previousPage",event);break;case keyCode.PAGE_DOWN:suppressKeyPress=!0,this._move("nextPage",event);break;case keyCode.UP:suppressKeyPress=!0,this._keyEvent("previous",event);break;case keyCode.DOWN:suppressKeyPress=!0,this._keyEvent("next",event);break;case keyCode.ENTER:this.menu.active&&(suppressKeyPress=!0,event.preventDefault(),this.menu.select(event));break;case keyCode.TAB:this.menu.active&&this.menu.select(event);break;case keyCode.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(event),event.preventDefault());break;default:suppressKeyPressRepeat=!0,this._searchTimeout(event)}},keypress:function(event){if(suppressKeyPress)return suppressKeyPress=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&event.preventDefault());if(!suppressKeyPressRepeat){var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:this._move("previousPage",event);break;case keyCode.PAGE_DOWN:this._move("nextPage",event);break;case keyCode.UP:this._keyEvent("previous",event);break;case keyCode.DOWN:this._keyEvent("next",event)}}},input:function(event){return suppressInput?(suppressInput=!1,void event.preventDefault()):void this._searchTimeout(event)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(event){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(event),void this._change(event))}}),this._initSource(),this.menu=$("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(event){event.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var menuElement=this.menu.element[0];$(event.target).closest(".ui-menu-item").length||this._delay(function(){var that=this;this.document.one("mousedown",function(event){event.target===that.element[0]||event.target===menuElement||$.contains(menuElement,event.target)||that.close()})})},menufocus:function(event,ui){var label,item;return this.isNewMenu&&(this.isNewMenu=!1,event.originalEvent&&/^mouse/.test(event.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){$(event.target).trigger(event.originalEvent)})):(item=ui.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",event,{item:item})&&event.originalEvent&&/^key/.test(event.originalEvent.type)&&this._value(item.value),label=ui.item.attr("aria-label")||item.value,void(label&&$.trim(label).length&&(this.liveRegion.children().hide(),$("<div>").text(label).appendTo(this.liveRegion))))},menuselect:function(event,ui){var item=ui.item.data("ui-autocomplete-item"),previous=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=previous,this._delay(function(){this.previous=previous,this.selectedItem=item})),!1!==this._trigger("select",event,{item:item})&&this._value(item.value),this.term=this._value(),this.close(event),this.selectedItem=item}}),this.liveRegion=$("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(key,value){this._super(key,value),"source"===key&&this._initSource(),"appendTo"===key&&this.menu.element.appendTo(this._appendTo()),"disabled"===key&&value&&this.xhr&&this.xhr.abort()},_appendTo:function(){var element=this.options.appendTo;return element&&(element=element.jquery||element.nodeType?$(element):this.document.find(element).eq(0)),element&&element[0]||(element=this.element.closest(".ui-front")),element.length||(element=this.document[0].body),element},_initSource:function(){var array,url,that=this;$.isArray(this.options.source)?(array=this.options.source,this.source=function(request,response){response($.ui.autocomplete.filter(array,request.term))}):"string"==typeof this.options.source?(url=this.options.source,this.source=function(request,response){that.xhr&&that.xhr.abort(),that.xhr=$.ajax({url:url,data:request,dataType:"json",success:function(data){response(data)},error:function(){response([])}})}):this.source=this.options.source},_searchTimeout:function(event){clearTimeout(this.searching),this.searching=this._delay(function(){var equalValues=this.term===this._value(),menuVisible=this.menu.element.is(":visible"),modifierKey=event.altKey||event.ctrlKey||event.metaKey||event.shiftKey;(!equalValues||equalValues&&!menuVisible&&!modifierKey)&&(this.selectedItem=null,this.search(null,event))},this.options.delay)},search:function(value,event){return value=null!=value?value:this._value(),this.term=this._value(),value.length<this.options.minLength?this.close(event):this._trigger("search",event)!==!1?this._search(value):void 0},_search:function(value){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:value},this._response())},_response:function(){var index=++this.requestIndex;return $.proxy(function(content){index===this.requestIndex&&this.__response(content),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(content){content&&(content=this._normalize(content)),this._trigger("response",null,{content:content}),!this.options.disabled&&content&&content.length&&!this.cancelSearch?(this._suggest(content),this._trigger("open")):this._close()},close:function(event){this.cancelSearch=!0,this._close(event)},_close:function(event){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",event))},_change:function(event){this.previous!==this._value()&&this._trigger("change",event,{item:this.selectedItem})},_normalize:function(items){return items.length&&items[0].label&&items[0].value?items:$.map(items,function(item){return"string"==typeof item?{label:item,value:item}:$.extend({},item,{label:item.label||item.value,value:item.value||item.label})})},_suggest:function(items){var ul=this.menu.element.empty();this._renderMenu(ul,items),this.isNewMenu=!0,this.menu.refresh(),ul.show(),this._resizeMenu(),ul.position($.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var ul=this.menu.element;ul.outerWidth(Math.max(ul.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(ul,items){var that=this;$.each(items,function(index,item){that._renderItemData(ul,item)})},_renderItemData:function(ul,item){return this._renderItem(ul,item).data("ui-autocomplete-item",item)},_renderItem:function(ul,item){return $("<li>").text(item.label).appendTo(ul)},_move:function(direction,event){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(direction)||this.menu.isLastItem()&&/^next/.test(direction)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[direction](event):void this.search(null,event)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(keyEvent,event){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(keyEvent,event),event.preventDefault())}}),$.extend($.ui.autocomplete,{escapeRegex:function(value){return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(array,term){var matcher=new RegExp($.ui.autocomplete.escapeRegex(term),"i");return $.grep(array,function(value){return matcher.test(value.label||value.value||value)})}}),$.widget("ui.autocomplete",$.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(amount){return amount+(amount>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(content){var message;this._superApply(arguments),this.options.disabled||this.cancelSearch||(message=content&&content.length?this.options.messages.results(content.length):this.options.messages.noResults,this.liveRegion.children().hide(),$("<div>").text(message).appendTo(this.liveRegion))}});var lastActive,baseClasses=($.ui.autocomplete,"ui-button ui-widget ui-state-default ui-corner-all"),typeClasses="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",formResetHandler=function(){var form=$(this);setTimeout(function(){form.find(":ui-button").button("refresh")},1)},radioGroup=function(radio){var name=radio.name,form=radio.form,radios=$([]);return name&&(name=name.replace(/'/g,"\\'"),radios=form?$(form).find("[name='"+name+"'][type=radio]"):$("[name='"+name+"'][type=radio]",radio.ownerDocument).filter(function(){return!this.form})),radios};$.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,formResetHandler),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var that=this,options=this.options,toggleButton="checkbox"===this.type||"radio"===this.type,activeClass=toggleButton?"":"ui-state-active";null===options.label&&(options.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(baseClasses).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){options.disabled||this===lastActive&&$(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){options.disabled||$(this).removeClass(activeClass)}).bind("click"+this.eventNamespace,function(event){options.disabled&&(event.preventDefault(),event.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),toggleButton&&this.element.bind("change"+this.eventNamespace,function(){that.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return options.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(options.disabled)return!1;$(this).addClass("ui-state-active"),that.buttonElement.attr("aria-pressed","true");var radio=that.element[0];radioGroup(radio).not(radio).map(function(){return $(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return options.disabled?!1:($(this).addClass("ui-state-active"),lastActive=this,void that.document.one("mouseup",function(){lastActive=null}))}).bind("mouseup"+this.eventNamespace,function(){return options.disabled?!1:void $(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(event){return options.disabled?!1:void((event.keyCode===$.ui.keyCode.SPACE||event.keyCode===$.ui.keyCode.ENTER)&&$(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){$(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(event){event.keyCode===$.ui.keyCode.SPACE&&$(this).click()})),this._setOption("disabled",options.disabled),this._resetButton()},_determineButtonType:function(){var ancestor,labelSelector,checked;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(ancestor=this.element.parents().last(),labelSelector="label[for='"+this.element.attr("id")+"']",this.buttonElement=ancestor.find(labelSelector),this.buttonElement.length||(ancestor=ancestor.length?ancestor.siblings():this.element.siblings(),this.buttonElement=ancestor.filter(labelSelector),this.buttonElement.length||(this.buttonElement=ancestor.find(labelSelector))),this.element.addClass("ui-helper-hidden-accessible"),checked=this.element.is(":checked"),checked&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",checked)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(baseClasses+" ui-state-active "+typeClasses).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(key,value){return this._super(key,value),"disabled"===key?(this.widget().toggleClass("ui-state-disabled",!!value),this.element.prop("disabled",!!value),void(value&&this.buttonElement.removeClass("checkbox"===this.type||"radio"===this.type?"ui-state-focus":"ui-state-focus ui-state-active"))):void this._resetButton()},refresh:function(){var isDisabled=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");isDisabled!==this.options.disabled&&this._setOption("disabled",isDisabled),"radio"===this.type?radioGroup(this.element[0]).each(function(){$(this).is(":checked")?$(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):$(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));
var buttonElement=this.buttonElement.removeClass(typeClasses),buttonText=$("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(buttonElement.empty()).text(),icons=this.options.icons,multipleIcons=icons.primary&&icons.secondary,buttonClasses=[];icons.primary||icons.secondary?(this.options.text&&buttonClasses.push("ui-button-text-icon"+(multipleIcons?"s":icons.primary?"-primary":"-secondary")),icons.primary&&buttonElement.prepend("<span class='ui-button-icon-primary ui-icon "+icons.primary+"'></span>"),icons.secondary&&buttonElement.append("<span class='ui-button-icon-secondary ui-icon "+icons.secondary+"'></span>"),this.options.text||(buttonClasses.push(multipleIcons?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||buttonElement.attr("title",$.trim(buttonText)))):buttonClasses.push("ui-button-text-only"),buttonElement.addClass(buttonClasses.join(" "))}}),$.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(key,value){"disabled"===key&&this.buttons.button("option",key,value),this._super(key,value)},refresh:function(){var rtl="rtl"===this.element.css("direction"),allButtons=this.element.find(this.options.items),existingButtons=allButtons.filter(":ui-button");allButtons.not(":ui-button").button(),existingButtons.button("refresh"),this.buttons=allButtons.map(function(){return $(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(rtl?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(rtl?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return $(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});$.ui.button;$.extend($.ui,{datepicker:{version:"1.11.4"}});var datepicker_instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(settings){return datepicker_extendRemove(this._defaults,settings||{}),this},_attachDatepicker:function(target,settings){var nodeName,inline,inst;nodeName=target.nodeName.toLowerCase(),inline="div"===nodeName||"span"===nodeName,target.id||(this.uuid+=1,target.id="dp"+this.uuid),inst=this._newInst($(target),inline),inst.settings=$.extend({},settings||{}),"input"===nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(target,inline){var id=target[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:id,input:target,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:inline,dpDiv:inline?datepicker_bindHover($("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(target,inst){var input=$(target);inst.append=$([]),inst.trigger=$([]),input.hasClass(this.markerClassName)||(this._attachments(input,inst),input.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(inst),$.data(target,"datepicker",inst),inst.settings.disabled&&this._disableDatepicker(target))},_attachments:function(input,inst){var showOn,buttonText,buttonImage,appendText=this._get(inst,"appendText"),isRTL=this._get(inst,"isRTL");inst.append&&inst.append.remove(),appendText&&(inst.append=$("<span class='"+this._appendClass+"'>"+appendText+"</span>"),input[isRTL?"before":"after"](inst.append)),input.unbind("focus",this._showDatepicker),inst.trigger&&inst.trigger.remove(),showOn=this._get(inst,"showOn"),("focus"===showOn||"both"===showOn)&&input.focus(this._showDatepicker),("button"===showOn||"both"===showOn)&&(buttonText=this._get(inst,"buttonText"),buttonImage=this._get(inst,"buttonImage"),inst.trigger=$(this._get(inst,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:buttonImage,alt:buttonText,title:buttonText}):$("<button type='button'></button>").addClass(this._triggerClass).html(buttonImage?$("<img/>").attr({src:buttonImage,alt:buttonText,title:buttonText}):buttonText)),input[isRTL?"before":"after"](inst.trigger),inst.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput===input[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!==input[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(input[0])):$.datepicker._showDatepicker(input[0]),!1}))},_autoSize:function(inst){if(this._get(inst,"autoSize")&&!inst.inline){var findMax,max,maxI,i,date=new Date(2009,11,20),dateFormat=this._get(inst,"dateFormat");dateFormat.match(/[DM]/)&&(findMax=function(names){for(max=0,maxI=0,i=0;i<names.length;i++)names[i].length>max&&(max=names[i].length,maxI=i);return maxI},date.setMonth(findMax(this._get(inst,dateFormat.match(/MM/)?"monthNames":"monthNamesShort"))),date.setDate(findMax(this._get(inst,dateFormat.match(/DD/)?"dayNames":"dayNamesShort"))+20-date.getDay())),inst.input.attr("size",this._formatDate(inst,date).length)}},_inlineDatepicker:function(target,inst){var divSpan=$(target);divSpan.hasClass(this.markerClassName)||(divSpan.addClass(this.markerClassName).append(inst.dpDiv),$.data(target,"datepicker",inst),this._setDate(inst,this._getDefaultDate(inst),!0),this._updateDatepicker(inst),this._updateAlternate(inst),inst.settings.disabled&&this._disableDatepicker(target),inst.dpDiv.css("display","block"))},_dialogDatepicker:function(input,date,onSelect,settings,pos){var id,browserWidth,browserHeight,scrollX,scrollY,inst=this._dialogInst;return inst||(this.uuid+=1,id="dp"+this.uuid,this._dialogInput=$("<input type='text' id='"+id+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),inst=this._dialogInst=this._newInst(this._dialogInput,!1),inst.settings={},$.data(this._dialogInput[0],"datepicker",inst)),datepicker_extendRemove(inst.settings,settings||{}),date=date&&date.constructor===Date?this._formatDate(inst,date):date,this._dialogInput.val(date),this._pos=pos?pos.length?pos:[pos.pageX,pos.pageY]:null,this._pos||(browserWidth=document.documentElement.clientWidth,browserHeight=document.documentElement.clientHeight,scrollX=document.documentElement.scrollLeft||document.body.scrollLeft,scrollY=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[browserWidth/2-100+scrollX,browserHeight/2-150+scrollY]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),inst.settings.onSelect=onSelect,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],"datepicker",inst),this},_destroyDatepicker:function(target){var nodeName,$target=$(target),inst=$.data(target,"datepicker");$target.hasClass(this.markerClassName)&&(nodeName=target.nodeName.toLowerCase(),$.removeData(target,"datepicker"),"input"===nodeName?(inst.append.remove(),inst.trigger.remove(),$target.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===nodeName||"span"===nodeName)&&$target.removeClass(this.markerClassName).empty(),datepicker_instActive===inst&&(datepicker_instActive=null))},_enableDatepicker:function(target){var nodeName,inline,$target=$(target),inst=$.data(target,"datepicker");$target.hasClass(this.markerClassName)&&(nodeName=target.nodeName.toLowerCase(),"input"===nodeName?(target.disabled=!1,inst.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===nodeName||"span"===nodeName)&&(inline=$target.children("."+this._inlineClass),inline.children().removeClass("ui-state-disabled"),inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=$.map(this._disabledInputs,function(value){return value===target?null:value}))},_disableDatepicker:function(target){var nodeName,inline,$target=$(target),inst=$.data(target,"datepicker");$target.hasClass(this.markerClassName)&&(nodeName=target.nodeName.toLowerCase(),"input"===nodeName?(target.disabled=!0,inst.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===nodeName||"span"===nodeName)&&(inline=$target.children("."+this._inlineClass),inline.children().addClass("ui-state-disabled"),inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=$.map(this._disabledInputs,function(value){return value===target?null:value}),this._disabledInputs[this._disabledInputs.length]=target)},_isDisabledDatepicker:function(target){if(!target)return!1;for(var i=0;i<this._disabledInputs.length;i++)if(this._disabledInputs[i]===target)return!0;return!1},_getInst:function(target){try{return $.data(target,"datepicker")}catch(err){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(target,name,value){var settings,date,minDate,maxDate,inst=this._getInst(target);return 2===arguments.length&&"string"==typeof name?"defaults"===name?$.extend({},$.datepicker._defaults):inst?"all"===name?$.extend({},inst.settings):this._get(inst,name):null:(settings=name||{},"string"==typeof name&&(settings={},settings[name]=value),void(inst&&(this._curInst===inst&&this._hideDatepicker(),date=this._getDateDatepicker(target,!0),minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),datepicker_extendRemove(inst.settings,settings),null!==minDate&&void 0!==settings.dateFormat&&void 0===settings.minDate&&(inst.settings.minDate=this._formatDate(inst,minDate)),null!==maxDate&&void 0!==settings.dateFormat&&void 0===settings.maxDate&&(inst.settings.maxDate=this._formatDate(inst,maxDate)),"disabled"in settings&&(settings.disabled?this._disableDatepicker(target):this._enableDatepicker(target)),this._attachments($(target),inst),this._autoSize(inst),this._setDate(inst,date),this._updateAlternate(inst),this._updateDatepicker(inst))))},_changeDatepicker:function(target,name,value){this._optionDatepicker(target,name,value)},_refreshDatepicker:function(target){var inst=this._getInst(target);inst&&this._updateDatepicker(inst)},_setDateDatepicker:function(target,date){var inst=this._getInst(target);inst&&(this._setDate(inst,date),this._updateDatepicker(inst),this._updateAlternate(inst))},_getDateDatepicker:function(target,noDefault){var inst=this._getInst(target);return inst&&!inst.inline&&this._setDateFromField(inst,noDefault),inst?this._getDate(inst):null},_doKeyDown:function(event){var onSelect,dateStr,sel,inst=$.datepicker._getInst(event.target),handled=!0,isRTL=inst.dpDiv.is(".ui-datepicker-rtl");if(inst._keyEvent=!0,$.datepicker._datepickerShowing)switch(event.keyCode){case 9:$.datepicker._hideDatepicker(),handled=!1;break;case 13:return sel=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",inst.dpDiv),sel[0]&&$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0]),onSelect=$.datepicker._get(inst,"onSelect"),onSelect?(dateStr=$.datepicker._formatDate(inst),onSelect.apply(inst.input?inst.input[0]:null,[dateStr,inst])):$.datepicker._hideDatepicker(),!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(event.target,event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(event.target,event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths"),"M");break;case 35:(event.ctrlKey||event.metaKey)&&$.datepicker._clearDate(event.target),handled=event.ctrlKey||event.metaKey;break;case 36:(event.ctrlKey||event.metaKey)&&$.datepicker._gotoToday(event.target),handled=event.ctrlKey||event.metaKey;break;case 37:(event.ctrlKey||event.metaKey)&&$.datepicker._adjustDate(event.target,isRTL?1:-1,"D"),handled=event.ctrlKey||event.metaKey,event.originalEvent.altKey&&$.datepicker._adjustDate(event.target,event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths"),"M");break;case 38:(event.ctrlKey||event.metaKey)&&$.datepicker._adjustDate(event.target,-7,"D"),handled=event.ctrlKey||event.metaKey;break;case 39:(event.ctrlKey||event.metaKey)&&$.datepicker._adjustDate(event.target,isRTL?-1:1,"D"),handled=event.ctrlKey||event.metaKey,event.originalEvent.altKey&&$.datepicker._adjustDate(event.target,event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths"),"M");break;case 40:(event.ctrlKey||event.metaKey)&&$.datepicker._adjustDate(event.target,7,"D"),handled=event.ctrlKey||event.metaKey;break;default:handled=!1}else 36===event.keyCode&&event.ctrlKey?$.datepicker._showDatepicker(this):handled=!1;handled&&(event.preventDefault(),event.stopPropagation())},_doKeyPress:function(event){var chars,chr,inst=$.datepicker._getInst(event.target);return $.datepicker._get(inst,"constrainInput")?(chars=$.datepicker._possibleChars($.datepicker._get(inst,"dateFormat")),chr=String.fromCharCode(null==event.charCode?event.keyCode:event.charCode),event.ctrlKey||event.metaKey||" ">chr||!chars||chars.indexOf(chr)>-1):void 0},_doKeyUp:function(event){var date,inst=$.datepicker._getInst(event.target);if(inst.input.val()!==inst.lastVal)try{date=$.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),inst.input?inst.input.val():null,$.datepicker._getFormatConfig(inst)),date&&($.datepicker._setDateFromField(inst),$.datepicker._updateAlternate(inst),$.datepicker._updateDatepicker(inst))}catch(err){}return!0},_showDatepicker:function(input){if(input=input.target||input,"input"!==input.nodeName.toLowerCase()&&(input=$("input",input.parentNode)[0]),!$.datepicker._isDisabledDatepicker(input)&&$.datepicker._lastInput!==input){var inst,beforeShow,beforeShowSettings,isFixed,offset,showAnim,duration;inst=$.datepicker._getInst(input),$.datepicker._curInst&&$.datepicker._curInst!==inst&&($.datepicker._curInst.dpDiv.stop(!0,!0),inst&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0])),beforeShow=$.datepicker._get(inst,"beforeShow"),beforeShowSettings=beforeShow?beforeShow.apply(input,[input,inst]):{},beforeShowSettings!==!1&&(datepicker_extendRemove(inst.settings,beforeShowSettings),inst.lastVal=null,$.datepicker._lastInput=input,$.datepicker._setDateFromField(inst),$.datepicker._inDialog&&(input.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(input),$.datepicker._pos[1]+=input.offsetHeight),isFixed=!1,$(input).parents().each(function(){return isFixed|="fixed"===$(this).css("position"),!isFixed}),offset={left:$.datepicker._pos[0],top:$.datepicker._pos[1]},$.datepicker._pos=null,inst.dpDiv.empty(),inst.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(inst),offset=$.datepicker._checkOffset(inst,offset,isFixed),inst.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":isFixed?"fixed":"absolute",display:"none",left:offset.left+"px",top:offset.top+"px"}),inst.inline||(showAnim=$.datepicker._get(inst,"showAnim"),duration=$.datepicker._get(inst,"duration"),inst.dpDiv.css("z-index",datepicker_getZindex($(input))+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects.effect[showAnim]?inst.dpDiv.show(showAnim,$.datepicker._get(inst,"showOptions"),duration):inst.dpDiv[showAnim||"show"](showAnim?duration:null),$.datepicker._shouldFocusInput(inst)&&inst.input.focus(),$.datepicker._curInst=inst))}},_updateDatepicker:function(inst){this.maxRows=4,datepicker_instActive=inst,inst.dpDiv.empty().append(this._generateHTML(inst)),this._attachHandlers(inst);var origyearshtml,numMonths=this._getNumberOfMonths(inst),cols=numMonths[1],width=17,activeCell=inst.dpDiv.find("."+this._dayOverClass+" a");activeCell.length>0&&datepicker_handleMouseover.apply(activeCell.get(0)),inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),cols>1&&inst.dpDiv.addClass("ui-datepicker-multi-"+cols).css("width",width*cols+"em"),inst.dpDiv[(1!==numMonths[0]||1!==numMonths[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),inst.dpDiv[(this._get(inst,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),inst===$.datepicker._curInst&&$.datepicker._datepickerShowing&&$.datepicker._shouldFocusInput(inst)&&inst.input.focus(),inst.yearshtml&&(origyearshtml=inst.yearshtml,setTimeout(function(){origyearshtml===inst.yearshtml&&inst.yearshtml&&inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml),origyearshtml=inst.yearshtml=null},0))},_shouldFocusInput:function(inst){return inst.input&&inst.input.is(":visible")&&!inst.input.is(":disabled")&&!inst.input.is(":focus")},_checkOffset:function(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth(),dpHeight=inst.dpDiv.outerHeight(),inputWidth=inst.input?inst.input.outerWidth():0,inputHeight=inst.input?inst.input.outerHeight():0,viewWidth=document.documentElement.clientWidth+(isFixed?0:$(document).scrollLeft()),viewHeight=document.documentElement.clientHeight+(isFixed?0:$(document).scrollTop());return offset.left-=this._get(inst,"isRTL")?dpWidth-inputWidth:0,offset.left-=isFixed&&offset.left===inst.input.offset().left?$(document).scrollLeft():0,offset.top-=isFixed&&offset.top===inst.input.offset().top+inputHeight?$(document).scrollTop():0,offset.left-=Math.min(offset.left,offset.left+dpWidth>viewWidth&&viewWidth>dpWidth?Math.abs(offset.left+dpWidth-viewWidth):0),offset.top-=Math.min(offset.top,offset.top+dpHeight>viewHeight&&viewHeight>dpHeight?Math.abs(dpHeight+inputHeight):0),offset},_findPos:function(obj){for(var position,inst=this._getInst(obj),isRTL=this._get(inst,"isRTL");obj&&("hidden"===obj.type||1!==obj.nodeType||$.expr.filters.hidden(obj));)obj=obj[isRTL?"previousSibling":"nextSibling"];return position=$(obj).offset(),[position.left,position.top]},_hideDatepicker:function(input){var showAnim,duration,postProcess,onClose,inst=this._curInst;!inst||input&&inst!==$.data(input,"datepicker")||this._datepickerShowing&&(showAnim=this._get(inst,"showAnim"),duration=this._get(inst,"duration"),postProcess=function(){$.datepicker._tidyDialog(inst)},$.effects&&($.effects.effect[showAnim]||$.effects[showAnim])?inst.dpDiv.hide(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess):inst.dpDiv["slideDown"===showAnim?"slideUp":"fadeIn"===showAnim?"fadeOut":"hide"](showAnim?duration:null,postProcess),showAnim||postProcess(),this._datepickerShowing=!1,onClose=this._get(inst,"onClose"),onClose&&onClose.apply(inst.input?inst.input[0]:null,[inst.input?inst.input.val():"",inst]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(inst){inst.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(event){if($.datepicker._curInst){var $target=$(event.target),inst=$.datepicker._getInst($target[0]);($target[0].id!==$.datepicker._mainDivId&&0===$target.parents("#"+$.datepicker._mainDivId).length&&!$target.hasClass($.datepicker.markerClassName)&&!$target.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||$target.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!==inst)&&$.datepicker._hideDatepicker()}},_adjustDate:function(id,offset,period){var target=$(id),inst=this._getInst(target[0]);this._isDisabledDatepicker(target[0])||(this._adjustInstDate(inst,offset+("M"===period?this._get(inst,"showCurrentAtPos"):0),period),this._updateDatepicker(inst))},_gotoToday:function(id){var date,target=$(id),inst=this._getInst(target[0]);this._get(inst,"gotoCurrent")&&inst.currentDay?(inst.selectedDay=inst.currentDay,inst.drawMonth=inst.selectedMonth=inst.currentMonth,inst.drawYear=inst.selectedYear=inst.currentYear):(date=new Date,inst.selectedDay=date.getDate(),inst.drawMonth=inst.selectedMonth=date.getMonth(),inst.drawYear=inst.selectedYear=date.getFullYear()),this._notifyChange(inst),this._adjustDate(target)},_selectMonthYear:function(id,select,period){var target=$(id),inst=this._getInst(target[0]);inst["selected"+("M"===period?"Month":"Year")]=inst["draw"+("M"===period?"Month":"Year")]=parseInt(select.options[select.selectedIndex].value,10),this._notifyChange(inst),this._adjustDate(target)},_selectDay:function(id,month,year,td){var inst,target=$(id);$(td).hasClass(this._unselectableClass)||this._isDisabledDatepicker(target[0])||(inst=this._getInst(target[0]),inst.selectedDay=inst.currentDay=$("a",td).html(),inst.selectedMonth=inst.currentMonth=month,inst.selectedYear=inst.currentYear=year,this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear)))},_clearDate:function(id){var target=$(id);this._selectDate(target,"")},_selectDate:function(id,dateStr){var onSelect,target=$(id),inst=this._getInst(target[0]);dateStr=null!=dateStr?dateStr:this._formatDate(inst),inst.input&&inst.input.val(dateStr),this._updateAlternate(inst),onSelect=this._get(inst,"onSelect"),onSelect?onSelect.apply(inst.input?inst.input[0]:null,[dateStr,inst]):inst.input&&inst.input.trigger("change"),inst.inline?this._updateDatepicker(inst):(this._hideDatepicker(),this._lastInput=inst.input[0],"object"!=typeof inst.input[0]&&inst.input.focus(),this._lastInput=null)},_updateAlternate:function(inst){var altFormat,date,dateStr,altField=this._get(inst,"altField");altField&&(altFormat=this._get(inst,"altFormat")||this._get(inst,"dateFormat"),date=this._getDate(inst),dateStr=this.formatDate(altFormat,date,this._getFormatConfig(inst)),$(altField).each(function(){$(this).val(dateStr)}))},noWeekends:function(date){var day=date.getDay();return[day>0&&6>day,""]},iso8601Week:function(date){var time,checkDate=new Date(date.getTime());return checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7)),time=checkDate.getTime(),checkDate.setMonth(0),checkDate.setDate(1),Math.floor(Math.round((time-checkDate)/864e5)/7)+1},parseDate:function(format,value,settings){if(null==format||null==value)throw"Invalid arguments";if(value="object"==typeof value?value.toString():value+"",""===value)return null;var iFormat,dim,extra,date,iValue=0,shortYearCutoffTemp=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff,shortYearCutoff="string"!=typeof shortYearCutoffTemp?shortYearCutoffTemp:(new Date).getFullYear()%100+parseInt(shortYearCutoffTemp,10),dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,year=-1,month=-1,day=-1,doy=-1,literal=!1,lookAhead=function(match){var matches=iFormat+1<format.length&&format.charAt(iFormat+1)===match;return matches&&iFormat++,matches},getNumber=function(match){var isDoubled=lookAhead(match),size="@"===match?14:"!"===match?20:"y"===match&&isDoubled?4:"o"===match?3:2,minSize="y"===match?size:1,digits=new RegExp("^\\d{"+minSize+","+size+"}"),num=value.substring(iValue).match(digits);if(!num)throw"Missing number at position "+iValue;return iValue+=num[0].length,parseInt(num[0],10)},getName=function(match,shortNames,longNames){var index=-1,names=$.map(lookAhead(match)?longNames:shortNames,function(v,k){return[[k,v]]}).sort(function(a,b){return-(a[1].length-b[1].length)});if($.each(names,function(i,pair){var name=pair[1];return value.substr(iValue,name.length).toLowerCase()===name.toLowerCase()?(index=pair[0],iValue+=name.length,!1):void 0}),-1!==index)return index+1;throw"Unknown name at position "+iValue},checkLiteral=function(){if(value.charAt(iValue)!==format.charAt(iFormat))throw"Unexpected literal at position "+iValue;iValue++};for(iFormat=0;iFormat<format.length;iFormat++)if(literal)"'"!==format.charAt(iFormat)||lookAhead("'")?checkLiteral():literal=!1;else switch(format.charAt(iFormat)){case"d":day=getNumber("d");break;case"D":getName("D",dayNamesShort,dayNames);break;case"o":doy=getNumber("o");break;case"m":month=getNumber("m");break;case"M":month=getName("M",monthNamesShort,monthNames);break;case"y":year=getNumber("y");break;case"@":date=new Date(getNumber("@")),year=date.getFullYear(),month=date.getMonth()+1,day=date.getDate();break;case"!":date=new Date((getNumber("!")-this._ticksTo1970)/1e4),year=date.getFullYear(),month=date.getMonth()+1,day=date.getDate();break;case"'":lookAhead("'")?checkLiteral():literal=!0;break;default:checkLiteral()}if(iValue<value.length&&(extra=value.substr(iValue),!/^\s+/.test(extra)))throw"Extra/unparsed characters found in date: "+extra;if(-1===year?year=(new Date).getFullYear():100>year&&(year+=(new Date).getFullYear()-(new Date).getFullYear()%100+(shortYearCutoff>=year?0:-100)),doy>-1)for(month=1,day=doy;;){if(dim=this._getDaysInMonth(year,month-1),dim>=day)break;month++,day-=dim}if(date=this._daylightSavingAdjust(new Date(year,month-1,day)),date.getFullYear()!==year||date.getMonth()+1!==month||date.getDate()!==day)throw"Invalid date";return date},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(format,date,settings){if(!date)return"";var iFormat,dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,lookAhead=function(match){var matches=iFormat+1<format.length&&format.charAt(iFormat+1)===match;return matches&&iFormat++,matches},formatNumber=function(match,value,len){var num=""+value;if(lookAhead(match))for(;num.length<len;)num="0"+num;return num},formatName=function(match,value,shortNames,longNames){return lookAhead(match)?longNames[value]:shortNames[value]},output="",literal=!1;if(date)for(iFormat=0;iFormat<format.length;iFormat++)if(literal)"'"!==format.charAt(iFormat)||lookAhead("'")?output+=format.charAt(iFormat):literal=!1;else switch(format.charAt(iFormat)){case"d":output+=formatNumber("d",date.getDate(),2);break;case"D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case"o":output+=formatNumber("o",Math.round((new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime()-new Date(date.getFullYear(),0,0).getTime())/864e5),3);break;case"m":output+=formatNumber("m",date.getMonth()+1,2);break;case"M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case"y":output+=lookAhead("y")?date.getFullYear():(date.getYear()%100<10?"0":"")+date.getYear()%100;break;case"@":output+=date.getTime();break;case"!":output+=1e4*date.getTime()+this._ticksTo1970;break;case"'":lookAhead("'")?output+="'":literal=!0;break;default:output+=format.charAt(iFormat)}return output},_possibleChars:function(format){var iFormat,chars="",literal=!1,lookAhead=function(match){var matches=iFormat+1<format.length&&format.charAt(iFormat+1)===match;return matches&&iFormat++,matches};for(iFormat=0;iFormat<format.length;iFormat++)if(literal)"'"!==format.charAt(iFormat)||lookAhead("'")?chars+=format.charAt(iFormat):literal=!1;else switch(format.charAt(iFormat)){case"d":case"m":case"y":case"@":chars+="0123456789";break;case"D":case"M":return null;case"'":lookAhead("'")?chars+="'":literal=!0;break;default:chars+=format.charAt(iFormat)}return chars},_get:function(inst,name){return void 0!==inst.settings[name]?inst.settings[name]:this._defaults[name]},_setDateFromField:function(inst,noDefault){if(inst.input.val()!==inst.lastVal){var dateFormat=this._get(inst,"dateFormat"),dates=inst.lastVal=inst.input?inst.input.val():null,defaultDate=this._getDefaultDate(inst),date=defaultDate,settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate}catch(event){dates=noDefault?"":dates}inst.selectedDay=date.getDate(),inst.drawMonth=inst.selectedMonth=date.getMonth(),inst.drawYear=inst.selectedYear=date.getFullYear(),inst.currentDay=dates?date.getDate():0,inst.currentMonth=dates?date.getMonth():0,inst.currentYear=dates?date.getFullYear():0,this._adjustInstDate(inst)}},_getDefaultDate:function(inst){return this._restrictMinMax(inst,this._determineDate(inst,this._get(inst,"defaultDate"),new Date))},_determineDate:function(inst,date,defaultDate){var offsetNumeric=function(offset){var date=new Date;return date.setDate(date.getDate()+offset),date},offsetString=function(offset){try{return $.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),offset,$.datepicker._getFormatConfig(inst))}catch(e){}for(var date=(offset.toLowerCase().match(/^c/)?$.datepicker._getDate(inst):null)||new Date,year=date.getFullYear(),month=date.getMonth(),day=date.getDate(),pattern=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,matches=pattern.exec(offset);matches;){switch(matches[2]||"d"){case"d":case"D":day+=parseInt(matches[1],10);break;case"w":case"W":day+=7*parseInt(matches[1],10);break;case"m":case"M":month+=parseInt(matches[1],10),day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;case"y":case"Y":year+=parseInt(matches[1],10),day=Math.min(day,$.datepicker._getDaysInMonth(year,month))}matches=pattern.exec(offset)}return new Date(year,month,day)},newDate=null==date||""===date?defaultDate:"string"==typeof date?offsetString(date):"number"==typeof date?isNaN(date)?defaultDate:offsetNumeric(date):new Date(date.getTime());return newDate=newDate&&"Invalid Date"===newDate.toString()?defaultDate:newDate,newDate&&(newDate.setHours(0),newDate.setMinutes(0),newDate.setSeconds(0),newDate.setMilliseconds(0)),this._daylightSavingAdjust(newDate)},_daylightSavingAdjust:function(date){return date?(date.setHours(date.getHours()>12?date.getHours()+2:0),date):null},_setDate:function(inst,date,noChange){var clear=!date,origMonth=inst.selectedMonth,origYear=inst.selectedYear,newDate=this._restrictMinMax(inst,this._determineDate(inst,date,new Date));inst.selectedDay=inst.currentDay=newDate.getDate(),inst.drawMonth=inst.selectedMonth=inst.currentMonth=newDate.getMonth(),inst.drawYear=inst.selectedYear=inst.currentYear=newDate.getFullYear(),origMonth===inst.selectedMonth&&origYear===inst.selectedYear||noChange||this._notifyChange(inst),this._adjustInstDate(inst),inst.input&&inst.input.val(clear?"":this._formatDate(inst))},_getDate:function(inst){var startDate=!inst.currentYear||inst.input&&""===inst.input.val()?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay));return startDate},_attachHandlers:function(inst){var stepMonths=this._get(inst,"stepMonths"),id="#"+inst.id.replace(/\\\\/g,"\\");inst.dpDiv.find("[data-handler]").map(function(){var handler={prev:function(){$.datepicker._adjustDate(id,-stepMonths,"M")},next:function(){$.datepicker._adjustDate(id,+stepMonths,"M")},hide:function(){$.datepicker._hideDatepicker()},today:function(){$.datepicker._gotoToday(id)},selectDay:function(){return $.datepicker._selectDay(id,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return $.datepicker._selectMonthYear(id,this,"M"),!1},selectYear:function(){return $.datepicker._selectMonthYear(id,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),handler[this.getAttribute("data-handler")])
})},_generateHTML:function(inst){var maxDraw,prevText,prev,nextText,next,currentText,gotoDate,controls,buttonPanel,firstDay,showWeek,dayNames,dayNamesMin,monthNames,monthNamesShort,beforeShowDay,showOtherMonths,selectOtherMonths,defaultDate,html,dow,row,group,col,selectedDate,cornerClass,calender,thead,day,daysInMonth,leadDays,curRows,numRows,printDate,dRow,tbody,daySettings,otherMonth,unselectable,tempDate=new Date,today=this._daylightSavingAdjust(new Date(tempDate.getFullYear(),tempDate.getMonth(),tempDate.getDate())),isRTL=this._get(inst,"isRTL"),showButtonPanel=this._get(inst,"showButtonPanel"),hideIfNoPrevNext=this._get(inst,"hideIfNoPrevNext"),navigationAsDateFormat=this._get(inst,"navigationAsDateFormat"),numMonths=this._getNumberOfMonths(inst),showCurrentAtPos=this._get(inst,"showCurrentAtPos"),stepMonths=this._get(inst,"stepMonths"),isMultiMonth=1!==numMonths[0]||1!==numMonths[1],currentDate=this._daylightSavingAdjust(inst.currentDay?new Date(inst.currentYear,inst.currentMonth,inst.currentDay):new Date(9999,9,9)),minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),drawMonth=inst.drawMonth-showCurrentAtPos,drawYear=inst.drawYear;if(0>drawMonth&&(drawMonth+=12,drawYear--),maxDate)for(maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-numMonths[0]*numMonths[1]+1,maxDate.getDate())),maxDraw=minDate&&minDate>maxDraw?minDate:maxDraw;this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw;)drawMonth--,0>drawMonth&&(drawMonth=11,drawYear--);for(inst.drawMonth=drawMonth,inst.drawYear=drawYear,prevText=this._get(inst,"prevText"),prevText=navigationAsDateFormat?this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst)):prevText,prev=this._canAdjustMonth(inst,-1,drawYear,drawMonth)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+prevText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")+"'>"+prevText+"</span></a>":hideIfNoPrevNext?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+prevText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"e":"w")+"'>"+prevText+"</span></a>",nextText=this._get(inst,"nextText"),nextText=navigationAsDateFormat?this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst)):nextText,next=this._canAdjustMonth(inst,1,drawYear,drawMonth)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+nextText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")+"'>"+nextText+"</span></a>":hideIfNoPrevNext?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+nextText+"'><span class='ui-icon ui-icon-circle-triangle-"+(isRTL?"w":"e")+"'>"+nextText+"</span></a>",currentText=this._get(inst,"currentText"),gotoDate=this._get(inst,"gotoCurrent")&&inst.currentDay?currentDate:today,currentText=navigationAsDateFormat?this.formatDate(currentText,gotoDate,this._getFormatConfig(inst)):currentText,controls=inst.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(inst,"closeText")+"</button>",buttonPanel=showButtonPanel?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(isRTL?controls:"")+(this._isInRange(inst,gotoDate)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+currentText+"</button>":"")+(isRTL?"":controls)+"</div>":"",firstDay=parseInt(this._get(inst,"firstDay"),10),firstDay=isNaN(firstDay)?0:firstDay,showWeek=this._get(inst,"showWeek"),dayNames=this._get(inst,"dayNames"),dayNamesMin=this._get(inst,"dayNamesMin"),monthNames=this._get(inst,"monthNames"),monthNamesShort=this._get(inst,"monthNamesShort"),beforeShowDay=this._get(inst,"beforeShowDay"),showOtherMonths=this._get(inst,"showOtherMonths"),selectOtherMonths=this._get(inst,"selectOtherMonths"),defaultDate=this._getDefaultDate(inst),html="",row=0;row<numMonths[0];row++){for(group="",this.maxRows=4,col=0;col<numMonths[1];col++){if(selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay)),cornerClass=" ui-corner-all",calender="",isMultiMonth){if(calender+="<div class='ui-datepicker-group",numMonths[1]>1)switch(col){case 0:calender+=" ui-datepicker-group-first",cornerClass=" ui-corner-"+(isRTL?"right":"left");break;case numMonths[1]-1:calender+=" ui-datepicker-group-last",cornerClass=" ui-corner-"+(isRTL?"left":"right");break;default:calender+=" ui-datepicker-group-middle",cornerClass=""}calender+="'>"}for(calender+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+cornerClass+"'>"+(/all|left/.test(cornerClass)&&0===row?isRTL?next:prev:"")+(/all|right/.test(cornerClass)&&0===row?isRTL?prev:next:"")+this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,row>0||col>0,monthNames,monthNamesShort)+"</div><table class='ui-datepicker-calendar'><thead><tr>",thead=showWeek?"<th class='ui-datepicker-week-col'>"+this._get(inst,"weekHeader")+"</th>":"",dow=0;7>dow;dow++)day=(dow+firstDay)%7,thead+="<th scope='col'"+((dow+firstDay+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+dayNames[day]+"'>"+dayNamesMin[day]+"</span></th>";for(calender+=thead+"</tr></thead><tbody>",daysInMonth=this._getDaysInMonth(drawYear,drawMonth),drawYear===inst.selectedYear&&drawMonth===inst.selectedMonth&&(inst.selectedDay=Math.min(inst.selectedDay,daysInMonth)),leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7,curRows=Math.ceil((leadDays+daysInMonth)/7),numRows=isMultiMonth&&this.maxRows>curRows?this.maxRows:curRows,this.maxRows=numRows,printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays)),dRow=0;numRows>dRow;dRow++){for(calender+="<tr>",tbody=showWeek?"<td class='ui-datepicker-week-col'>"+this._get(inst,"calculateWeek")(printDate)+"</td>":"",dow=0;7>dow;dow++)daySettings=beforeShowDay?beforeShowDay.apply(inst.input?inst.input[0]:null,[printDate]):[!0,""],otherMonth=printDate.getMonth()!==drawMonth,unselectable=otherMonth&&!selectOtherMonths||!daySettings[0]||minDate&&minDate>printDate||maxDate&&printDate>maxDate,tbody+="<td class='"+((dow+firstDay+6)%7>=5?" ui-datepicker-week-end":"")+(otherMonth?" ui-datepicker-other-month":"")+(printDate.getTime()===selectedDate.getTime()&&drawMonth===inst.selectedMonth&&inst._keyEvent||defaultDate.getTime()===printDate.getTime()&&defaultDate.getTime()===selectedDate.getTime()?" "+this._dayOverClass:"")+(unselectable?" "+this._unselectableClass+" ui-state-disabled":"")+(otherMonth&&!showOtherMonths?"":" "+daySettings[1]+(printDate.getTime()===currentDate.getTime()?" "+this._currentClass:"")+(printDate.getTime()===today.getTime()?" ui-datepicker-today":""))+"'"+(otherMonth&&!showOtherMonths||!daySettings[2]?"":" title='"+daySettings[2].replace(/'/g,"&#39;")+"'")+(unselectable?"":" data-handler='selectDay' data-event='click' data-month='"+printDate.getMonth()+"' data-year='"+printDate.getFullYear()+"'")+">"+(otherMonth&&!showOtherMonths?"&#xa0;":unselectable?"<span class='ui-state-default'>"+printDate.getDate()+"</span>":"<a class='ui-state-default"+(printDate.getTime()===today.getTime()?" ui-state-highlight":"")+(printDate.getTime()===currentDate.getTime()?" ui-state-active":"")+(otherMonth?" ui-priority-secondary":"")+"' href='#'>"+printDate.getDate()+"</a>")+"</td>",printDate.setDate(printDate.getDate()+1),printDate=this._daylightSavingAdjust(printDate);calender+=tbody+"</tr>"}drawMonth++,drawMonth>11&&(drawMonth=0,drawYear++),calender+="</tbody></table>"+(isMultiMonth?"</div>"+(numMonths[0]>0&&col===numMonths[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),group+=calender}html+=group}return html+=buttonPanel,inst._keyEvent=!1,html},_generateMonthYearHeader:function(inst,drawMonth,drawYear,minDate,maxDate,secondary,monthNames,monthNamesShort){var inMinYear,inMaxYear,month,years,thisYear,determineYear,year,endYear,changeMonth=this._get(inst,"changeMonth"),changeYear=this._get(inst,"changeYear"),showMonthAfterYear=this._get(inst,"showMonthAfterYear"),html="<div class='ui-datepicker-title'>",monthHtml="";if(secondary||!changeMonth)monthHtml+="<span class='ui-datepicker-month'>"+monthNames[drawMonth]+"</span>";else{for(inMinYear=minDate&&minDate.getFullYear()===drawYear,inMaxYear=maxDate&&maxDate.getFullYear()===drawYear,monthHtml+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",month=0;12>month;month++)(!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth())&&(monthHtml+="<option value='"+month+"'"+(month===drawMonth?" selected='selected'":"")+">"+monthNamesShort[month]+"</option>");monthHtml+="</select>"}if(showMonthAfterYear||(html+=monthHtml+(!secondary&&changeMonth&&changeYear?"":"&#xa0;")),!inst.yearshtml)if(inst.yearshtml="",secondary||!changeYear)html+="<span class='ui-datepicker-year'>"+drawYear+"</span>";else{for(years=this._get(inst,"yearRange").split(":"),thisYear=(new Date).getFullYear(),determineYear=function(value){var year=value.match(/c[+\-].*/)?drawYear+parseInt(value.substring(1),10):value.match(/[+\-].*/)?thisYear+parseInt(value,10):parseInt(value,10);return isNaN(year)?thisYear:year},year=determineYear(years[0]),endYear=Math.max(year,determineYear(years[1]||"")),year=minDate?Math.max(year,minDate.getFullYear()):year,endYear=maxDate?Math.min(endYear,maxDate.getFullYear()):endYear,inst.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";endYear>=year;year++)inst.yearshtml+="<option value='"+year+"'"+(year===drawYear?" selected='selected'":"")+">"+year+"</option>";inst.yearshtml+="</select>",html+=inst.yearshtml,inst.yearshtml=null}return html+=this._get(inst,"yearSuffix"),showMonthAfterYear&&(html+=(!secondary&&changeMonth&&changeYear?"":"&#xa0;")+monthHtml),html+="</div>"},_adjustInstDate:function(inst,offset,period){var year=inst.drawYear+("Y"===period?offset:0),month=inst.drawMonth+("M"===period?offset:0),day=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+("D"===period?offset:0),date=this._restrictMinMax(inst,this._daylightSavingAdjust(new Date(year,month,day)));inst.selectedDay=date.getDate(),inst.drawMonth=inst.selectedMonth=date.getMonth(),inst.drawYear=inst.selectedYear=date.getFullYear(),("M"===period||"Y"===period)&&this._notifyChange(inst)},_restrictMinMax:function(inst,date){var minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),newDate=minDate&&minDate>date?minDate:date;return maxDate&&newDate>maxDate?maxDate:newDate},_notifyChange:function(inst){var onChange=this._get(inst,"onChangeMonthYear");onChange&&onChange.apply(inst.input?inst.input[0]:null,[inst.selectedYear,inst.selectedMonth+1,inst])},_getNumberOfMonths:function(inst){var numMonths=this._get(inst,"numberOfMonths");return null==numMonths?[1,1]:"number"==typeof numMonths?[1,numMonths]:numMonths},_getMinMaxDate:function(inst,minMax){return this._determineDate(inst,this._get(inst,minMax+"Date"),null)},_getDaysInMonth:function(year,month){return 32-this._daylightSavingAdjust(new Date(year,month,32)).getDate()},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay()},_canAdjustMonth:function(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst),date=this._daylightSavingAdjust(new Date(curYear,curMonth+(0>offset?offset:numMonths[0]*numMonths[1]),1));return 0>offset&&date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth())),this._isInRange(inst,date)},_isInRange:function(inst,date){var yearSplit,currentYear,minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),minYear=null,maxYear=null,years=this._get(inst,"yearRange");return years&&(yearSplit=years.split(":"),currentYear=(new Date).getFullYear(),minYear=parseInt(yearSplit[0],10),maxYear=parseInt(yearSplit[1],10),yearSplit[0].match(/[+\-].*/)&&(minYear+=currentYear),yearSplit[1].match(/[+\-].*/)&&(maxYear+=currentYear)),(!minDate||date.getTime()>=minDate.getTime())&&(!maxDate||date.getTime()<=maxDate.getTime())&&(!minYear||date.getFullYear()>=minYear)&&(!maxYear||date.getFullYear()<=maxYear)},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,"shortYearCutoff");return shortYearCutoff="string"!=typeof shortYearCutoff?shortYearCutoff:(new Date).getFullYear()%100+parseInt(shortYearCutoff,10),{shortYearCutoff:shortYearCutoff,dayNamesShort:this._get(inst,"dayNamesShort"),dayNames:this._get(inst,"dayNames"),monthNamesShort:this._get(inst,"monthNamesShort"),monthNames:this._get(inst,"monthNames")}},_formatDate:function(inst,day,month,year){day||(inst.currentDay=inst.selectedDay,inst.currentMonth=inst.selectedMonth,inst.currentYear=inst.selectedYear);var date=day?"object"==typeof day?day:this._daylightSavingAdjust(new Date(year,month,day)):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay));return this.formatDate(this._get(inst,"dateFormat"),date,this._getFormatConfig(inst))}}),$.fn.datepicker=function(options){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick),$.datepicker.initialized=!0),0===$("#"+$.datepicker._mainDivId).length&&$("body").append($.datepicker.dpDiv);var otherArgs=Array.prototype.slice.call(arguments,1);return"string"!=typeof options||"isDisabled"!==options&&"getDate"!==options&&"widget"!==options?"option"===options&&2===arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs)):this.each(function(){"string"==typeof options?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options)}):$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.11.4";$.datepicker;$.widget("ui.draggable",$.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(key,value){this._super(key,value),"handle"===key&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(event){var o=this.options;return this._blurActiveElement(event),this.helper||o.disabled||$(event.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(event),this.handle?(this._blockFrames(o.iframeFix===!0?"iframe":o.iframeFix),!0):!1)},_blockFrames:function(selector){this.iframeBlocks=this.document.find(selector).map(function(){var iframe=$(this);return $("<div>").css("position","absolute").appendTo(iframe.parent()).outerWidth(iframe.outerWidth()).outerHeight(iframe.outerHeight()).offset(iframe.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(event){var document=this.document[0];if(this.handleElement.is(event.target))try{document.activeElement&&"body"!==document.activeElement.nodeName.toLowerCase()&&$(document.activeElement).blur()}catch(error){}},_mouseStart:function(event){var o=this.options;return this.helper=this._createHelper(event),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),$.ui.ddmanager&&($.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===$(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(event),this.originalPosition=this.position=this._generatePosition(event,!1),this.originalPageX=event.pageX,this.originalPageY=event.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this._setContainment(),this._trigger("start",event)===!1?(this._clear(),!1):(this._cacheHelperProportions(),$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,event),this._normalizeRightBottom(),this._mouseDrag(event,!0),$.ui.ddmanager&&$.ui.ddmanager.dragStart(this,event),!0)},_refreshOffsets:function(event){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:event.pageX-this.offset.left,top:event.pageY-this.offset.top}},_mouseDrag:function(event,noPropagation){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(event,!0),this.positionAbs=this._convertPositionTo("absolute"),!noPropagation){var ui=this._uiHash();if(this._trigger("drag",event,ui)===!1)return this._mouseUp({}),!1;this.position=ui.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",$.ui.ddmanager&&$.ui.ddmanager.drag(this,event),!1},_mouseStop:function(event){var that=this,dropped=!1;return $.ui.ddmanager&&!this.options.dropBehaviour&&(dropped=$.ui.ddmanager.drop(this,event)),this.dropped&&(dropped=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!dropped||"valid"===this.options.revert&&dropped||this.options.revert===!0||$.isFunction(this.options.revert)&&this.options.revert.call(this.element,dropped)?$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){that._trigger("stop",event)!==!1&&that._clear()}):this._trigger("stop",event)!==!1&&this._clear(),!1},_mouseUp:function(event){return this._unblockFrames(),$.ui.ddmanager&&$.ui.ddmanager.dragStop(this,event),this.handleElement.is(event.target)&&this.element.focus(),$.ui.mouse.prototype._mouseUp.call(this,event)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(event){return this.options.handle?!!$(event.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(event){var o=this.options,helperIsFunction=$.isFunction(o.helper),helper=helperIsFunction?$(o.helper.apply(this.element[0],[event])):"clone"===o.helper?this.element.clone().removeAttr("id"):this.element;return helper.parents("body").length||helper.appendTo("parent"===o.appendTo?this.element[0].parentNode:o.appendTo),helperIsFunction&&helper[0]===this.element[0]&&this._setPositionRelative(),helper[0]===this.element[0]||/(fixed|absolute)/.test(helper.css("position"))||helper.css("position","absolute"),helper},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(obj){"string"==typeof obj&&(obj=obj.split(" ")),$.isArray(obj)&&(obj={left:+obj[0],top:+obj[1]||0}),"left"in obj&&(this.offset.click.left=obj.left+this.margins.left),"right"in obj&&(this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left),"top"in obj&&(this.offset.click.top=obj.top+this.margins.top),"bottom"in obj&&(this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top)},_isRootNode:function(element){return/(html|body)/i.test(element.tagName)||element===this.document[0]},_getParentOffset:function(){var po=this.offsetParent.offset(),document=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])&&(po.left+=this.scrollParent.scrollLeft(),po.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(po={top:0,left:0}),{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var p=this.element.position(),scrollIsRootNode=this._isRootNode(this.scrollParent[0]);return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+(scrollIsRootNode?0:this.scrollParent.scrollTop()),left:p.left-(parseInt(this.helper.css("left"),10)||0)+(scrollIsRootNode?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var isUserScrollable,c,ce,o=this.options,document=this.document[0];return this.relativeContainer=null,o.containment?"window"===o.containment?void(this.containment=[$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,$(window).scrollLeft()+$(window).width()-this.helperProportions.width-this.margins.left,$(window).scrollTop()+($(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,$(document).width()-this.helperProportions.width-this.margins.left,($(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),c=$(o.containment),ce=c[0],void(ce&&(isUserScrollable=/(scroll|auto)/.test(c.css("overflow")),this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(isUserScrollable?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(isUserScrollable?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=c))):void(this.containment=null)},_convertPositionTo:function(d,pos){pos||(pos=this.position);var mod="absolute"===d?1:-1,scrollIsRootNode=this._isRootNode(this.scrollParent[0]);return{top:pos.top+this.offset.relative.top*mod+this.offset.parent.top*mod-("fixed"===this.cssPosition?-this.offset.scroll.top:scrollIsRootNode?0:this.offset.scroll.top)*mod,left:pos.left+this.offset.relative.left*mod+this.offset.parent.left*mod-("fixed"===this.cssPosition?-this.offset.scroll.left:scrollIsRootNode?0:this.offset.scroll.left)*mod}},_generatePosition:function(event,constrainPosition){var containment,co,top,left,o=this.options,scrollIsRootNode=this._isRootNode(this.scrollParent[0]),pageX=event.pageX,pageY=event.pageY;return scrollIsRootNode&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),constrainPosition&&(this.containment&&(this.relativeContainer?(co=this.relativeContainer.offset(),containment=[this.containment[0]+co.left,this.containment[1]+co.top,this.containment[2]+co.left,this.containment[3]+co.top]):containment=this.containment,event.pageX-this.offset.click.left<containment[0]&&(pageX=containment[0]+this.offset.click.left),event.pageY-this.offset.click.top<containment[1]&&(pageY=containment[1]+this.offset.click.top),event.pageX-this.offset.click.left>containment[2]&&(pageX=containment[2]+this.offset.click.left),event.pageY-this.offset.click.top>containment[3]&&(pageY=containment[3]+this.offset.click.top)),o.grid&&(top=o.grid[1]?this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,pageY=containment?top-this.offset.click.top>=containment[1]||top-this.offset.click.top>containment[3]?top:top-this.offset.click.top>=containment[1]?top-o.grid[1]:top+o.grid[1]:top,left=o.grid[0]?this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,pageX=containment?left-this.offset.click.left>=containment[0]||left-this.offset.click.left>containment[2]?left:left-this.offset.click.left>=containment[0]?left-o.grid[0]:left+o.grid[0]:left),"y"===o.axis&&(pageX=this.originalPageX),"x"===o.axis&&(pageY=this.originalPageY)),{top:pageY-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:scrollIsRootNode?0:this.offset.scroll.top),left:pageX-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:scrollIsRootNode?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(type,event,ui){return ui=ui||this._uiHash(),$.ui.plugin.call(this,type,[event,ui,this],!0),/^(drag|start|stop)/.test(type)&&(this.positionAbs=this._convertPositionTo("absolute"),ui.offset=this.positionAbs),$.Widget.prototype._trigger.call(this,type,event,ui)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),$.ui.plugin.add("draggable","connectToSortable",{start:function(event,ui,draggable){var uiSortable=$.extend({},ui,{item:draggable.element});draggable.sortables=[],$(draggable.options.connectToSortable).each(function(){var sortable=$(this).sortable("instance");sortable&&!sortable.options.disabled&&(draggable.sortables.push(sortable),sortable.refreshPositions(),sortable._trigger("activate",event,uiSortable))})},stop:function(event,ui,draggable){var uiSortable=$.extend({},ui,{item:draggable.element});draggable.cancelHelperRemoval=!1,$.each(draggable.sortables,function(){var sortable=this;sortable.isOver?(sortable.isOver=0,draggable.cancelHelperRemoval=!0,sortable.cancelHelperRemoval=!1,sortable._storedCSS={position:sortable.placeholder.css("position"),top:sortable.placeholder.css("top"),left:sortable.placeholder.css("left")},sortable._mouseStop(event),sortable.options.helper=sortable.options._helper):(sortable.cancelHelperRemoval=!0,sortable._trigger("deactivate",event,uiSortable))})},drag:function(event,ui,draggable){$.each(draggable.sortables,function(){var innermostIntersecting=!1,sortable=this;sortable.positionAbs=draggable.positionAbs,sortable.helperProportions=draggable.helperProportions,sortable.offset.click=draggable.offset.click,sortable._intersectsWith(sortable.containerCache)&&(innermostIntersecting=!0,$.each(draggable.sortables,function(){return this.positionAbs=draggable.positionAbs,this.helperProportions=draggable.helperProportions,this.offset.click=draggable.offset.click,this!==sortable&&this._intersectsWith(this.containerCache)&&$.contains(sortable.element[0],this.element[0])&&(innermostIntersecting=!1),innermostIntersecting})),innermostIntersecting?(sortable.isOver||(sortable.isOver=1,draggable._parent=ui.helper.parent(),sortable.currentItem=ui.helper.appendTo(sortable.element).data("ui-sortable-item",!0),sortable.options._helper=sortable.options.helper,sortable.options.helper=function(){return ui.helper[0]},event.target=sortable.currentItem[0],sortable._mouseCapture(event,!0),sortable._mouseStart(event,!0,!0),sortable.offset.click.top=draggable.offset.click.top,sortable.offset.click.left=draggable.offset.click.left,sortable.offset.parent.left-=draggable.offset.parent.left-sortable.offset.parent.left,sortable.offset.parent.top-=draggable.offset.parent.top-sortable.offset.parent.top,draggable._trigger("toSortable",event),draggable.dropped=sortable.element,$.each(draggable.sortables,function(){this.refreshPositions()}),draggable.currentItem=draggable.element,sortable.fromOutside=draggable),sortable.currentItem&&(sortable._mouseDrag(event),ui.position=sortable.position)):sortable.isOver&&(sortable.isOver=0,sortable.cancelHelperRemoval=!0,sortable.options._revert=sortable.options.revert,sortable.options.revert=!1,sortable._trigger("out",event,sortable._uiHash(sortable)),sortable._mouseStop(event,!0),sortable.options.revert=sortable.options._revert,sortable.options.helper=sortable.options._helper,sortable.placeholder&&sortable.placeholder.remove(),ui.helper.appendTo(draggable._parent),draggable._refreshOffsets(event),ui.position=draggable._generatePosition(event,!0),draggable._trigger("fromSortable",event),draggable.dropped=!1,$.each(draggable.sortables,function(){this.refreshPositions()}))})}}),$.ui.plugin.add("draggable","cursor",{start:function(event,ui,instance){var t=$("body"),o=instance.options;t.css("cursor")&&(o._cursor=t.css("cursor")),t.css("cursor",o.cursor)},stop:function(event,ui,instance){var o=instance.options;o._cursor&&$("body").css("cursor",o._cursor)}}),$.ui.plugin.add("draggable","opacity",{start:function(event,ui,instance){var t=$(ui.helper),o=instance.options;t.css("opacity")&&(o._opacity=t.css("opacity")),t.css("opacity",o.opacity)},stop:function(event,ui,instance){var o=instance.options;o._opacity&&$(ui.helper).css("opacity",o._opacity)}}),$.ui.plugin.add("draggable","scroll",{start:function(event,ui,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(event,ui,i){var o=i.options,scrolled=!1,scrollParent=i.scrollParentNotHidden[0],document=i.document[0];scrollParent!==document&&"HTML"!==scrollParent.tagName?(o.axis&&"x"===o.axis||(i.overflowOffset.top+scrollParent.offsetHeight-event.pageY<o.scrollSensitivity?scrollParent.scrollTop=scrolled=scrollParent.scrollTop+o.scrollSpeed:event.pageY-i.overflowOffset.top<o.scrollSensitivity&&(scrollParent.scrollTop=scrolled=scrollParent.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(i.overflowOffset.left+scrollParent.offsetWidth-event.pageX<o.scrollSensitivity?scrollParent.scrollLeft=scrolled=scrollParent.scrollLeft+o.scrollSpeed:event.pageX-i.overflowOffset.left<o.scrollSensitivity&&(scrollParent.scrollLeft=scrolled=scrollParent.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(event.pageY-$(document).scrollTop()<o.scrollSensitivity?scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed):$(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity&&(scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(event.pageX-$(document).scrollLeft()<o.scrollSensitivity?scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed):$(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity&&(scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed)))),scrolled!==!1&&$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(i,event)
}}),$.ui.plugin.add("draggable","snap",{start:function(event,ui,i){var o=i.options;i.snapElements=[],$(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var $t=$(this),$o=$t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:$t.outerWidth(),height:$t.outerHeight(),top:$o.top,left:$o.left})})},drag:function(event,ui,inst){var ts,bs,ls,rs,l,r,t,b,i,first,o=inst.options,d=o.snapTolerance,x1=ui.offset.left,x2=x1+inst.helperProportions.width,y1=ui.offset.top,y2=y1+inst.helperProportions.height;for(i=inst.snapElements.length-1;i>=0;i--)l=inst.snapElements[i].left-inst.margins.left,r=l+inst.snapElements[i].width,t=inst.snapElements[i].top-inst.margins.top,b=t+inst.snapElements[i].height,l-d>x2||x1>r+d||t-d>y2||y1>b+d||!$.contains(inst.snapElements[i].item.ownerDocument,inst.snapElements[i].item)?(inst.snapElements[i].snapping&&inst.options.snap.release&&inst.options.snap.release.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})),inst.snapElements[i].snapping=!1):("inner"!==o.snapMode&&(ts=Math.abs(t-y2)<=d,bs=Math.abs(b-y1)<=d,ls=Math.abs(l-x2)<=d,rs=Math.abs(r-x1)<=d,ts&&(ui.position.top=inst._convertPositionTo("relative",{top:t-inst.helperProportions.height,left:0}).top),bs&&(ui.position.top=inst._convertPositionTo("relative",{top:b,left:0}).top),ls&&(ui.position.left=inst._convertPositionTo("relative",{top:0,left:l-inst.helperProportions.width}).left),rs&&(ui.position.left=inst._convertPositionTo("relative",{top:0,left:r}).left)),first=ts||bs||ls||rs,"outer"!==o.snapMode&&(ts=Math.abs(t-y1)<=d,bs=Math.abs(b-y2)<=d,ls=Math.abs(l-x1)<=d,rs=Math.abs(r-x2)<=d,ts&&(ui.position.top=inst._convertPositionTo("relative",{top:t,left:0}).top),bs&&(ui.position.top=inst._convertPositionTo("relative",{top:b-inst.helperProportions.height,left:0}).top),ls&&(ui.position.left=inst._convertPositionTo("relative",{top:0,left:l}).left),rs&&(ui.position.left=inst._convertPositionTo("relative",{top:0,left:r-inst.helperProportions.width}).left)),!inst.snapElements[i].snapping&&(ts||bs||ls||rs||first)&&inst.options.snap.snap&&inst.options.snap.snap.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})),inst.snapElements[i].snapping=ts||bs||ls||rs||first)}}),$.ui.plugin.add("draggable","stack",{start:function(event,ui,instance){var min,o=instance.options,group=$.makeArray($(o.stack)).sort(function(a,b){return(parseInt($(a).css("zIndex"),10)||0)-(parseInt($(b).css("zIndex"),10)||0)});group.length&&(min=parseInt($(group[0]).css("zIndex"),10)||0,$(group).each(function(i){$(this).css("zIndex",min+i)}),this.css("zIndex",min+group.length))}}),$.ui.plugin.add("draggable","zIndex",{start:function(event,ui,instance){var t=$(ui.helper),o=instance.options;t.css("zIndex")&&(o._zIndex=t.css("zIndex")),t.css("zIndex",o.zIndex)},stop:function(event,ui,instance){var o=instance.options;o._zIndex&&$(ui.helper).css("zIndex",o._zIndex)}});$.ui.draggable;$.widget("ui.resizable",$.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(value){return parseInt(value,10)||0},_isNumber:function(value){return!isNaN(parseInt(value,10))},_hasScroll:function(el,a){if("hidden"===$(el).css("overflow"))return!1;var scroll=a&&"left"===a?"scrollLeft":"scrollTop",has=!1;return el[scroll]>0?!0:(el[scroll]=1,has=el[scroll]>0,el[scroll]=0,has)},_create:function(){var n,i,handle,axis,hname,that=this,o=this.options;if(this.element.addClass("ui-resizable"),$.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap($("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=o.handles||($(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=$(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),n=this.handles.split(","),this.handles={},i=0;i<n.length;i++)handle=$.trim(n[i]),hname="ui-resizable-"+handle,axis=$("<div class='ui-resizable-handle "+hname+"'></div>"),axis.css({zIndex:o.zIndex}),"se"===handle&&axis.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[handle]=".ui-resizable-"+handle,this.element.append(axis);this._renderAxis=function(target){var i,axis,padPos,padWrapper;target=target||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=$(this.handles[i]),this._on(this.handles[i],{mousedown:that._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(axis=$(this.handles[i],this.element),padWrapper=/sw|ne|nw|se|n|s/.test(i)?axis.outerHeight():axis.outerWidth(),padPos=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),target.css(padPos,padWrapper),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){that.resizing||(this.className&&(axis=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),that.axis=axis&&axis[1]?axis[1]:"se")}),o.autoHide&&(this._handles.hide(),$(this.element).addClass("ui-resizable-autohide").mouseenter(function(){o.disabled||($(this).removeClass("ui-resizable-autohide"),that._handles.show())}).mouseleave(function(){o.disabled||that.resizing||($(this).addClass("ui-resizable-autohide"),that._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var wrapper,_destroy=function(exp){$(exp).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(_destroy(this.element),wrapper=this.element,this.originalElement.css({position:wrapper.css("position"),width:wrapper.outerWidth(),height:wrapper.outerHeight(),top:wrapper.css("top"),left:wrapper.css("left")}).insertAfter(wrapper),wrapper.remove()),this.originalElement.css("resize",this.originalResizeStyle),_destroy(this.originalElement),this},_mouseCapture:function(event){var i,handle,capture=!1;for(i in this.handles)handle=$(this.handles[i])[0],(handle===event.target||$.contains(handle,event.target))&&(capture=!0);return!this.options.disabled&&capture},_mouseStart:function(event){var curleft,curtop,cursor,o=this.options,el=this.element;return this.resizing=!0,this._renderProxy(),curleft=this._num(this.helper.css("left")),curtop=this._num(this.helper.css("top")),o.containment&&(curleft+=$(o.containment).scrollLeft()||0,curtop+=$(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:curleft,top:curtop},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:el.width(),height:el.height()},this.originalSize=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()},this.sizeDiff={width:el.outerWidth()-el.width(),height:el.outerHeight()-el.height()},this.originalPosition={left:curleft,top:curtop},this.originalMousePosition={left:event.pageX,top:event.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,cursor=$(".ui-resizable-"+this.axis).css("cursor"),$("body").css("cursor","auto"===cursor?this.axis+"-resize":cursor),el.addClass("ui-resizable-resizing"),this._propagate("start",event),!0},_mouseDrag:function(event){var data,props,smp=this.originalMousePosition,a=this.axis,dx=event.pageX-smp.left||0,dy=event.pageY-smp.top||0,trigger=this._change[a];return this._updatePrevProperties(),trigger?(data=trigger.apply(this,[event,dx,dy]),this._updateVirtualBoundaries(event.shiftKey),(this._aspectRatio||event.shiftKey)&&(data=this._updateRatio(data,event)),data=this._respectSize(data,event),this._updateCache(data),this._propagate("resize",event),props=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),$.isEmptyObject(props)||(this._updatePrevProperties(),this._trigger("resize",event,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(event){this.resizing=!1;var pr,ista,soffseth,soffsetw,s,left,top,o=this.options,that=this;return this._helper&&(pr=this._proportionallyResizeElements,ista=pr.length&&/textarea/i.test(pr[0].nodeName),soffseth=ista&&this._hasScroll(pr[0],"left")?0:that.sizeDiff.height,soffsetw=ista?0:that.sizeDiff.width,s={width:that.helper.width()-soffsetw,height:that.helper.height()-soffseth},left=parseInt(that.element.css("left"),10)+(that.position.left-that.originalPosition.left)||null,top=parseInt(that.element.css("top"),10)+(that.position.top-that.originalPosition.top)||null,o.animate||this.element.css($.extend(s,{top:top,left:left})),that.helper.height(that.size.height),that.helper.width(that.size.width),this._helper&&!o.animate&&this._proportionallyResize()),$("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",event),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var props={};return this.position.top!==this.prevPosition.top&&(props.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(props.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(props.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(props.height=this.size.height+"px"),this.helper.css(props),props},_updateVirtualBoundaries:function(forceAspectRatio){var pMinWidth,pMaxWidth,pMinHeight,pMaxHeight,b,o=this.options;b={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||forceAspectRatio)&&(pMinWidth=b.minHeight*this.aspectRatio,pMinHeight=b.minWidth/this.aspectRatio,pMaxWidth=b.maxHeight*this.aspectRatio,pMaxHeight=b.maxWidth/this.aspectRatio,pMinWidth>b.minWidth&&(b.minWidth=pMinWidth),pMinHeight>b.minHeight&&(b.minHeight=pMinHeight),pMaxWidth<b.maxWidth&&(b.maxWidth=pMaxWidth),pMaxHeight<b.maxHeight&&(b.maxHeight=pMaxHeight)),this._vBoundaries=b},_updateCache:function(data){this.offset=this.helper.offset(),this._isNumber(data.left)&&(this.position.left=data.left),this._isNumber(data.top)&&(this.position.top=data.top),this._isNumber(data.height)&&(this.size.height=data.height),this._isNumber(data.width)&&(this.size.width=data.width)},_updateRatio:function(data){var cpos=this.position,csize=this.size,a=this.axis;return this._isNumber(data.height)?data.width=data.height*this.aspectRatio:this._isNumber(data.width)&&(data.height=data.width/this.aspectRatio),"sw"===a&&(data.left=cpos.left+(csize.width-data.width),data.top=null),"nw"===a&&(data.top=cpos.top+(csize.height-data.height),data.left=cpos.left+(csize.width-data.width)),data},_respectSize:function(data){var o=this._vBoundaries,a=this.axis,ismaxw=this._isNumber(data.width)&&o.maxWidth&&o.maxWidth<data.width,ismaxh=this._isNumber(data.height)&&o.maxHeight&&o.maxHeight<data.height,isminw=this._isNumber(data.width)&&o.minWidth&&o.minWidth>data.width,isminh=this._isNumber(data.height)&&o.minHeight&&o.minHeight>data.height,dw=this.originalPosition.left+this.originalSize.width,dh=this.position.top+this.size.height,cw=/sw|nw|w/.test(a),ch=/nw|ne|n/.test(a);return isminw&&(data.width=o.minWidth),isminh&&(data.height=o.minHeight),ismaxw&&(data.width=o.maxWidth),ismaxh&&(data.height=o.maxHeight),isminw&&cw&&(data.left=dw-o.minWidth),ismaxw&&cw&&(data.left=dw-o.maxWidth),isminh&&ch&&(data.top=dh-o.minHeight),ismaxh&&ch&&(data.top=dh-o.maxHeight),data.width||data.height||data.left||!data.top?data.width||data.height||data.top||!data.left||(data.left=null):data.top=null,data},_getPaddingPlusBorderDimensions:function(element){for(var i=0,widths=[],borders=[element.css("borderTopWidth"),element.css("borderRightWidth"),element.css("borderBottomWidth"),element.css("borderLeftWidth")],paddings=[element.css("paddingTop"),element.css("paddingRight"),element.css("paddingBottom"),element.css("paddingLeft")];4>i;i++)widths[i]=parseInt(borders[i],10)||0,widths[i]+=parseInt(paddings[i],10)||0;return{height:widths[0]+widths[2],width:widths[1]+widths[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var prel,i=0,element=this.helper||this.element;i<this._proportionallyResizeElements.length;i++)prel=this._proportionallyResizeElements[i],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(prel)),prel.css({height:element.height()-this.outerDimensions.height||0,width:element.width()-this.outerDimensions.width||0})},_renderProxy:function(){var el=this.element,o=this.options;this.elementOffset=el.offset(),this._helper?(this.helper=this.helper||$("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++o.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(event,dx){return{width:this.originalSize.width+dx}},w:function(event,dx){var cs=this.originalSize,sp=this.originalPosition;return{left:sp.left+dx,width:cs.width-dx}},n:function(event,dx,dy){var cs=this.originalSize,sp=this.originalPosition;return{top:sp.top+dy,height:cs.height-dy}},s:function(event,dx,dy){return{height:this.originalSize.height+dy}},se:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]))},sw:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]))},ne:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]))},nw:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]))}},_propagate:function(n,event){$.ui.plugin.call(this,n,[event,this.ui()]),"resize"!==n&&this._trigger(n,event,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),$.ui.plugin.add("resizable","animate",{stop:function(event){var that=$(this).resizable("instance"),o=that.options,pr=that._proportionallyResizeElements,ista=pr.length&&/textarea/i.test(pr[0].nodeName),soffseth=ista&&that._hasScroll(pr[0],"left")?0:that.sizeDiff.height,soffsetw=ista?0:that.sizeDiff.width,style={width:that.size.width-soffsetw,height:that.size.height-soffseth},left=parseInt(that.element.css("left"),10)+(that.position.left-that.originalPosition.left)||null,top=parseInt(that.element.css("top"),10)+(that.position.top-that.originalPosition.top)||null;that.element.animate($.extend(style,top&&left?{top:top,left:left}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var data={width:parseInt(that.element.css("width"),10),height:parseInt(that.element.css("height"),10),top:parseInt(that.element.css("top"),10),left:parseInt(that.element.css("left"),10)};pr&&pr.length&&$(pr[0]).css({width:data.width,height:data.height}),that._updateCache(data),that._propagate("resize",event)}})}}),$.ui.plugin.add("resizable","containment",{start:function(){var element,p,co,ch,cw,width,height,that=$(this).resizable("instance"),o=that.options,el=that.element,oc=o.containment,ce=oc instanceof $?oc.get(0):/parent/.test(oc)?el.parent().get(0):oc;ce&&(that.containerElement=$(ce),/document/.test(oc)||oc===document?(that.containerOffset={left:0,top:0},that.containerPosition={left:0,top:0},that.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight}):(element=$(ce),p=[],$(["Top","Right","Left","Bottom"]).each(function(i,name){p[i]=that._num(element.css("padding"+name))}),that.containerOffset=element.offset(),that.containerPosition=element.position(),that.containerSize={height:element.innerHeight()-p[3],width:element.innerWidth()-p[1]},co=that.containerOffset,ch=that.containerSize.height,cw=that.containerSize.width,width=that._hasScroll(ce,"left")?ce.scrollWidth:cw,height=that._hasScroll(ce)?ce.scrollHeight:ch,that.parentData={element:ce,left:co.left,top:co.top,width:width,height:height}))},resize:function(event){var woset,hoset,isParent,isOffsetRelative,that=$(this).resizable("instance"),o=that.options,co=that.containerOffset,cp=that.position,pRatio=that._aspectRatio||event.shiftKey,cop={top:0,left:0},ce=that.containerElement,continueResize=!0;ce[0]!==document&&/static/.test(ce.css("position"))&&(cop=co),cp.left<(that._helper?co.left:0)&&(that.size.width=that.size.width+(that._helper?that.position.left-co.left:that.position.left-cop.left),pRatio&&(that.size.height=that.size.width/that.aspectRatio,continueResize=!1),that.position.left=o.helper?co.left:0),cp.top<(that._helper?co.top:0)&&(that.size.height=that.size.height+(that._helper?that.position.top-co.top:that.position.top),pRatio&&(that.size.width=that.size.height*that.aspectRatio,continueResize=!1),that.position.top=that._helper?co.top:0),isParent=that.containerElement.get(0)===that.element.parent().get(0),isOffsetRelative=/relative|absolute/.test(that.containerElement.css("position")),isParent&&isOffsetRelative?(that.offset.left=that.parentData.left+that.position.left,that.offset.top=that.parentData.top+that.position.top):(that.offset.left=that.element.offset().left,that.offset.top=that.element.offset().top),woset=Math.abs(that.sizeDiff.width+(that._helper?that.offset.left-cop.left:that.offset.left-co.left)),hoset=Math.abs(that.sizeDiff.height+(that._helper?that.offset.top-cop.top:that.offset.top-co.top)),woset+that.size.width>=that.parentData.width&&(that.size.width=that.parentData.width-woset,pRatio&&(that.size.height=that.size.width/that.aspectRatio,continueResize=!1)),hoset+that.size.height>=that.parentData.height&&(that.size.height=that.parentData.height-hoset,pRatio&&(that.size.width=that.size.height*that.aspectRatio,continueResize=!1)),continueResize||(that.position.left=that.prevPosition.left,that.position.top=that.prevPosition.top,that.size.width=that.prevSize.width,that.size.height=that.prevSize.height)},stop:function(){var that=$(this).resizable("instance"),o=that.options,co=that.containerOffset,cop=that.containerPosition,ce=that.containerElement,helper=$(that.helper),ho=helper.offset(),w=helper.outerWidth()-that.sizeDiff.width,h=helper.outerHeight()-that.sizeDiff.height;that._helper&&!o.animate&&/relative/.test(ce.css("position"))&&$(this).css({left:ho.left-cop.left-co.left,width:w,height:h}),that._helper&&!o.animate&&/static/.test(ce.css("position"))&&$(this).css({left:ho.left-cop.left-co.left,width:w,height:h})}}),$.ui.plugin.add("resizable","alsoResize",{start:function(){var that=$(this).resizable("instance"),o=that.options;$(o.alsoResize).each(function(){var el=$(this);el.data("ui-resizable-alsoresize",{width:parseInt(el.width(),10),height:parseInt(el.height(),10),left:parseInt(el.css("left"),10),top:parseInt(el.css("top"),10)})})},resize:function(event,ui){var that=$(this).resizable("instance"),o=that.options,os=that.originalSize,op=that.originalPosition,delta={height:that.size.height-os.height||0,width:that.size.width-os.width||0,top:that.position.top-op.top||0,left:that.position.left-op.left||0};$(o.alsoResize).each(function(){var el=$(this),start=$(this).data("ui-resizable-alsoresize"),style={},css=el.parents(ui.originalElement[0]).length?["width","height"]:["width","height","top","left"];$.each(css,function(i,prop){var sum=(start[prop]||0)+(delta[prop]||0);sum&&sum>=0&&(style[prop]=sum||null)}),el.css(style)})},stop:function(){$(this).removeData("resizable-alsoresize")}}),$.ui.plugin.add("resizable","ghost",{start:function(){var that=$(this).resizable("instance"),o=that.options,cs=that.size;that.ghost=that.originalElement.clone(),that.ghost.css({opacity:.25,display:"block",position:"relative",height:cs.height,width:cs.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof o.ghost?o.ghost:""),that.ghost.appendTo(that.helper)},resize:function(){var that=$(this).resizable("instance");that.ghost&&that.ghost.css({position:"relative",height:that.size.height,width:that.size.width})},stop:function(){var that=$(this).resizable("instance");that.ghost&&that.helper&&that.helper.get(0).removeChild(that.ghost.get(0))}}),$.ui.plugin.add("resizable","grid",{resize:function(){var outerDimensions,that=$(this).resizable("instance"),o=that.options,cs=that.size,os=that.originalSize,op=that.originalPosition,a=that.axis,grid="number"==typeof o.grid?[o.grid,o.grid]:o.grid,gridX=grid[0]||1,gridY=grid[1]||1,ox=Math.round((cs.width-os.width)/gridX)*gridX,oy=Math.round((cs.height-os.height)/gridY)*gridY,newWidth=os.width+ox,newHeight=os.height+oy,isMaxWidth=o.maxWidth&&o.maxWidth<newWidth,isMaxHeight=o.maxHeight&&o.maxHeight<newHeight,isMinWidth=o.minWidth&&o.minWidth>newWidth,isMinHeight=o.minHeight&&o.minHeight>newHeight;o.grid=grid,isMinWidth&&(newWidth+=gridX),isMinHeight&&(newHeight+=gridY),isMaxWidth&&(newWidth-=gridX),isMaxHeight&&(newHeight-=gridY),/^(se|s|e)$/.test(a)?(that.size.width=newWidth,that.size.height=newHeight):/^(ne)$/.test(a)?(that.size.width=newWidth,that.size.height=newHeight,that.position.top=op.top-oy):/^(sw)$/.test(a)?(that.size.width=newWidth,that.size.height=newHeight,that.position.left=op.left-ox):((0>=newHeight-gridY||0>=newWidth-gridX)&&(outerDimensions=that._getPaddingPlusBorderDimensions(this)),newHeight-gridY>0?(that.size.height=newHeight,that.position.top=op.top-oy):(newHeight=gridY-outerDimensions.height,that.size.height=newHeight,that.position.top=op.top+os.height-newHeight),newWidth-gridX>0?(that.size.width=newWidth,that.position.left=op.left-ox):(newWidth=gridX-outerDimensions.width,that.size.width=newWidth,that.position.left=op.left+os.width-newWidth))}});$.ui.resizable,$.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(pos){var topOffset=$(this).css(pos).offset().top;0>topOffset&&$(this).css("top",pos.top-topOffset)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&$.fn.draggable&&this._makeDraggable(),this.options.resizable&&$.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var element=this.options.appendTo;return element&&(element.jquery||element.nodeType)?$(element):this.document.find(element||"body").eq(0)},_destroy:function(){var next,originalPosition=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),next=originalPosition.parent.children().eq(originalPosition.index),next.length&&next[0]!==this.element[0]?next.before(this.element):originalPosition.parent.append(this.element)},widget:function(){return this.uiDialog},disable:$.noop,enable:$.noop,close:function(event){var activeElement,that=this;if(this._isOpen&&this._trigger("beforeClose",event)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{activeElement=this.document[0].activeElement,activeElement&&"body"!==activeElement.nodeName.toLowerCase()&&$(activeElement).blur()}catch(error){}this._hide(this.uiDialog,this.options.hide,function(){that._trigger("close",event)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(event,silent){var moved=!1,zIndices=this.uiDialog.siblings(".ui-front:visible").map(function(){return+$(this).css("z-index")}).get(),zIndexMax=Math.max.apply(null,zIndices);return zIndexMax>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",zIndexMax+1),moved=!0),moved&&!silent&&this._trigger("focus",event),moved},open:function(){var that=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=$(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){that._focusTabbable(),that._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var hasFocus=this._focusedElement;hasFocus||(hasFocus=this.element.find("[autofocus]")),hasFocus.length||(hasFocus=this.element.find(":tabbable")),hasFocus.length||(hasFocus=this.uiDialogButtonPane.find(":tabbable")),hasFocus.length||(hasFocus=this.uiDialogTitlebarClose.filter(":tabbable")),hasFocus.length||(hasFocus=this.uiDialog),hasFocus.eq(0).focus()},_keepFocus:function(event){function checkFocus(){var activeElement=this.document[0].activeElement,isActive=this.uiDialog[0]===activeElement||$.contains(this.uiDialog[0],activeElement);isActive||this._focusTabbable()}event.preventDefault(),checkFocus.call(this),this._delay(checkFocus)},_createWrapper:function(){this.uiDialog=$("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(event){if(this.options.closeOnEscape&&!event.isDefaultPrevented()&&event.keyCode&&event.keyCode===$.ui.keyCode.ESCAPE)return event.preventDefault(),void this.close(event);if(event.keyCode===$.ui.keyCode.TAB&&!event.isDefaultPrevented()){var tabbables=this.uiDialog.find(":tabbable"),first=tabbables.filter(":first"),last=tabbables.filter(":last");event.target!==last[0]&&event.target!==this.uiDialog[0]||event.shiftKey?event.target!==first[0]&&event.target!==this.uiDialog[0]||!event.shiftKey||(this._delay(function(){last.focus()}),event.preventDefault()):(this._delay(function(){first.focus()}),event.preventDefault())}},mousedown:function(event){this._moveToTop(event)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var uiDialogTitle;this.uiDialogTitlebar=$("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(event){$(event.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=$("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(event){event.preventDefault(),this.close(event)}}),uiDialogTitle=$("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(uiDialogTitle),this.uiDialog.attr({"aria-labelledby":uiDialogTitle.attr("id")})},_title:function(title){this.options.title||title.html("&#160;"),title.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=$("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=$("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var that=this,buttons=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),$.isEmptyObject(buttons)||$.isArray(buttons)&&!buttons.length?void this.uiDialog.removeClass("ui-dialog-buttons"):($.each(buttons,function(name,props){var click,buttonOptions;props=$.isFunction(props)?{click:props,text:name}:props,props=$.extend({type:"button"},props),click=props.click,props.click=function(){click.apply(that.element[0],arguments)},buttonOptions={icons:props.icons,text:props.showText},delete props.icons,delete props.showText,$("<button></button>",props).button(buttonOptions).appendTo(that.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function filteredUi(ui){return{position:ui.position,offset:ui.offset}}var that=this,options=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(event,ui){$(this).addClass("ui-dialog-dragging"),that._blockFrames(),that._trigger("dragStart",event,filteredUi(ui))},drag:function(event,ui){that._trigger("drag",event,filteredUi(ui))},stop:function(event,ui){var left=ui.offset.left-that.document.scrollLeft(),top=ui.offset.top-that.document.scrollTop();options.position={my:"left top",at:"left"+(left>=0?"+":"")+left+" top"+(top>=0?"+":"")+top,of:that.window},$(this).removeClass("ui-dialog-dragging"),that._unblockFrames(),that._trigger("dragStop",event,filteredUi(ui))
}})},_makeResizable:function(){function filteredUi(ui){return{originalPosition:ui.originalPosition,originalSize:ui.originalSize,position:ui.position,size:ui.size}}var that=this,options=this.options,handles=options.resizable,position=this.uiDialog.css("position"),resizeHandles="string"==typeof handles?handles:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:options.maxWidth,maxHeight:options.maxHeight,minWidth:options.minWidth,minHeight:this._minHeight(),handles:resizeHandles,start:function(event,ui){$(this).addClass("ui-dialog-resizing"),that._blockFrames(),that._trigger("resizeStart",event,filteredUi(ui))},resize:function(event,ui){that._trigger("resize",event,filteredUi(ui))},stop:function(event,ui){var offset=that.uiDialog.offset(),left=offset.left-that.document.scrollLeft(),top=offset.top-that.document.scrollTop();options.height=that.uiDialog.height(),options.width=that.uiDialog.width(),options.position={my:"left top",at:"left"+(left>=0?"+":"")+left+" top"+(top>=0?"+":"")+top,of:that.window},$(this).removeClass("ui-dialog-resizing"),that._unblockFrames(),that._trigger("resizeStop",event,filteredUi(ui))}}).css("position",position)},_trackFocus:function(){this._on(this.widget(),{focusin:function(event){this._makeFocusTarget(),this._focusedElement=$(event.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var instances=this._trackingInstances(),exists=$.inArray(this,instances);-1!==exists&&instances.splice(exists,1)},_trackingInstances:function(){var instances=this.document.data("ui-dialog-instances");return instances||(instances=[],this.document.data("ui-dialog-instances",instances)),instances},_minHeight:function(){var options=this.options;return"auto"===options.height?options.minHeight:Math.min(options.minHeight,options.height)},_position:function(){var isVisible=this.uiDialog.is(":visible");isVisible||this.uiDialog.show(),this.uiDialog.position(this.options.position),isVisible||this.uiDialog.hide()},_setOptions:function(options){var that=this,resize=!1,resizableOptions={};$.each(options,function(key,value){that._setOption(key,value),key in that.sizeRelatedOptions&&(resize=!0),key in that.resizableRelatedOptions&&(resizableOptions[key]=value)}),resize&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",resizableOptions)},_setOption:function(key,value){var isDraggable,isResizable,uiDialog=this.uiDialog;"dialogClass"===key&&uiDialog.removeClass(this.options.dialogClass).addClass(value),"disabled"!==key&&(this._super(key,value),"appendTo"===key&&this.uiDialog.appendTo(this._appendTo()),"buttons"===key&&this._createButtons(),"closeText"===key&&this.uiDialogTitlebarClose.button({label:""+value}),"draggable"===key&&(isDraggable=uiDialog.is(":data(ui-draggable)"),isDraggable&&!value&&uiDialog.draggable("destroy"),!isDraggable&&value&&this._makeDraggable()),"position"===key&&this._position(),"resizable"===key&&(isResizable=uiDialog.is(":data(ui-resizable)"),isResizable&&!value&&uiDialog.resizable("destroy"),isResizable&&"string"==typeof value&&uiDialog.resizable("option","handles",value),isResizable||value===!1||this._makeResizable()),"title"===key&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var nonContentHeight,minContentHeight,maxContentHeight,options=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),options.minWidth>options.width&&(options.width=options.minWidth),nonContentHeight=this.uiDialog.css({height:"auto",width:options.width}).outerHeight(),minContentHeight=Math.max(0,options.minHeight-nonContentHeight),maxContentHeight="number"==typeof options.maxHeight?Math.max(0,options.maxHeight-nonContentHeight):"none","auto"===options.height?this.element.css({minHeight:minContentHeight,maxHeight:maxContentHeight,height:"auto"}):this.element.height(Math.max(0,options.height-nonContentHeight)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var iframe=$(this);return $("<div>").css({position:"absolute",width:iframe.outerWidth(),height:iframe.outerHeight()}).appendTo(iframe.parent()).offset(iframe.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(event){return $(event.target).closest(".ui-dialog").length?!0:!!$(event.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var isOpening=!0;this._delay(function(){isOpening=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(event){isOpening||this._allowInteraction(event)||(event.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=$("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var overlays=this.document.data("ui-dialog-overlays")-1;overlays?this.document.data("ui-dialog-overlays",overlays):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}});$.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var proportions,o=this.options,accept=o.accept;this.isover=!1,this.isout=!0,this.accept=$.isFunction(accept)?accept:function(d){return d.is(accept)},this.proportions=function(){return arguments.length?void(proportions=arguments[0]):proportions?proportions:proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(o.scope),o.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(scope){$.ui.ddmanager.droppables[scope]=$.ui.ddmanager.droppables[scope]||[],$.ui.ddmanager.droppables[scope].push(this)},_splice:function(drop){for(var i=0;i<drop.length;i++)drop[i]===this&&drop.splice(i,1)},_destroy:function(){var drop=$.ui.ddmanager.droppables[this.options.scope];this._splice(drop),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(key,value){if("accept"===key)this.accept=$.isFunction(value)?value:function(d){return d.is(value)};else if("scope"===key){var drop=$.ui.ddmanager.droppables[this.options.scope];this._splice(drop),this._addToManager(value)}this._super(key,value)},_activate:function(event){var draggable=$.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),draggable&&this._trigger("activate",event,this.ui(draggable))},_deactivate:function(event){var draggable=$.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),draggable&&this._trigger("deactivate",event,this.ui(draggable))},_over:function(event){var draggable=$.ui.ddmanager.current;draggable&&(draggable.currentItem||draggable.element)[0]!==this.element[0]&&this.accept.call(this.element[0],draggable.currentItem||draggable.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",event,this.ui(draggable)))},_out:function(event){var draggable=$.ui.ddmanager.current;draggable&&(draggable.currentItem||draggable.element)[0]!==this.element[0]&&this.accept.call(this.element[0],draggable.currentItem||draggable.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",event,this.ui(draggable)))},_drop:function(event,custom){var draggable=custom||$.ui.ddmanager.current,childrenIntersection=!1;return draggable&&(draggable.currentItem||draggable.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var inst=$(this).droppable("instance");return inst.options.greedy&&!inst.options.disabled&&inst.options.scope===draggable.options.scope&&inst.accept.call(inst.element[0],draggable.currentItem||draggable.element)&&$.ui.intersect(draggable,$.extend(inst,{offset:inst.element.offset()}),inst.options.tolerance,event)?(childrenIntersection=!0,!1):void 0}),childrenIntersection?!1:this.accept.call(this.element[0],draggable.currentItem||draggable.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",event,this.ui(draggable)),this.element):!1):!1},ui:function(c){return{draggable:c.currentItem||c.element,helper:c.helper,position:c.position,offset:c.positionAbs}}}),$.ui.intersect=function(){function isOverAxis(x,reference,size){return x>=reference&&reference+size>x}return function(draggable,droppable,toleranceMode,event){if(!droppable.offset)return!1;var x1=(draggable.positionAbs||draggable.position.absolute).left+draggable.margins.left,y1=(draggable.positionAbs||draggable.position.absolute).top+draggable.margins.top,x2=x1+draggable.helperProportions.width,y2=y1+draggable.helperProportions.height,l=droppable.offset.left,t=droppable.offset.top,r=l+droppable.proportions().width,b=t+droppable.proportions().height;switch(toleranceMode){case"fit":return x1>=l&&r>=x2&&y1>=t&&b>=y2;case"intersect":return l<x1+draggable.helperProportions.width/2&&x2-draggable.helperProportions.width/2<r&&t<y1+draggable.helperProportions.height/2&&y2-draggable.helperProportions.height/2<b;case"pointer":return isOverAxis(event.pageY,t,droppable.proportions().height)&&isOverAxis(event.pageX,l,droppable.proportions().width);case"touch":return(y1>=t&&b>=y1||y2>=t&&b>=y2||t>y1&&y2>b)&&(x1>=l&&r>=x1||x2>=l&&r>=x2||l>x1&&x2>r);default:return!1}}}(),$.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,event){var i,j,m=$.ui.ddmanager.droppables[t.options.scope]||[],type=event?event.type:null,list=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();droppablesLoop:for(i=0;i<m.length;i++)if(!(m[i].options.disabled||t&&!m[i].accept.call(m[i].element[0],t.currentItem||t.element))){for(j=0;j<list.length;j++)if(list[j]===m[i].element[0]){m[i].proportions().height=0;continue droppablesLoop}m[i].visible="none"!==m[i].element.css("display"),m[i].visible&&("mousedown"===type&&m[i]._activate.call(m[i],event),m[i].offset=m[i].element.offset(),m[i].proportions({width:m[i].element[0].offsetWidth,height:m[i].element[0].offsetHeight}))}},drop:function(draggable,event){var dropped=!1;return $.each(($.ui.ddmanager.droppables[draggable.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&$.ui.intersect(draggable,this,this.options.tolerance,event)&&(dropped=this._drop.call(this,event)||dropped),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],draggable.currentItem||draggable.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,event)))}),dropped},dragStart:function(draggable,event){draggable.element.parentsUntil("body").bind("scroll.droppable",function(){draggable.options.refreshPositions||$.ui.ddmanager.prepareOffsets(draggable,event)})},drag:function(draggable,event){draggable.options.refreshPositions&&$.ui.ddmanager.prepareOffsets(draggable,event),$.each($.ui.ddmanager.droppables[draggable.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var parentInstance,scope,parent,intersects=$.ui.intersect(draggable,this,this.options.tolerance,event),c=!intersects&&this.isover?"isout":intersects&&!this.isover?"isover":null;c&&(this.options.greedy&&(scope=this.options.scope,parent=this.element.parents(":data(ui-droppable)").filter(function(){return $(this).droppable("instance").options.scope===scope}),parent.length&&(parentInstance=$(parent[0]).droppable("instance"),parentInstance.greedyChild="isover"===c)),parentInstance&&"isover"===c&&(parentInstance.isover=!1,parentInstance.isout=!0,parentInstance._out.call(parentInstance,event)),this[c]=!0,this["isout"===c?"isover":"isout"]=!1,this["isover"===c?"_over":"_out"].call(this,event),parentInstance&&"isout"===c&&(parentInstance.isout=!1,parentInstance.isover=!0,parentInstance._over.call(parentInstance,event)))}})},dragStop:function(draggable,event){draggable.element.parentsUntil("body").unbind("scroll.droppable"),draggable.options.refreshPositions||$.ui.ddmanager.prepareOffsets(draggable,event)}};var dataSpace=($.ui.droppable,"ui-effects-"),jQuery=$;$.effects={effect:{}},function(jQuery,undefined){function clamp(value,prop,allowEmpty){var type=propTypes[prop.type]||{};return null==value?allowEmpty||!prop.def?null:prop.def:(value=type.floor?~~value:parseFloat(value),isNaN(value)?prop.def:type.mod?(value+type.mod)%type.mod:0>value?0:type.max<value?type.max:value)}function stringParse(string){var inst=color(),rgba=inst._rgba=[];return string=string.toLowerCase(),each(stringParsers,function(i,parser){var parsed,match=parser.re.exec(string),values=match&&parser.parse(match),spaceName=parser.space||"rgba";return values?(parsed=inst[spaceName](values),inst[spaces[spaceName].cache]=parsed[spaces[spaceName].cache],rgba=inst._rgba=parsed._rgba,!1):void 0}),rgba.length?("0,0,0,0"===rgba.join()&&jQuery.extend(rgba,colors.transparent),inst):colors[string]}function hue2rgb(p,q,h){return h=(h+1)%1,1>6*h?p+(q-p)*h*6:1>2*h?q:2>3*h?p+(q-p)*(2/3-h)*6:p}var colors,stepHooks="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",rplusequals=/^([\-+])=\s*(\d+\.?\d*)/,stringParsers=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1],execResult[2],execResult[3],execResult[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[2.55*execResult[1],2.55*execResult[2],2.55*execResult[3],execResult[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(execResult){return[parseInt(execResult[1],16),parseInt(execResult[2],16),parseInt(execResult[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(execResult){return[parseInt(execResult[1]+execResult[1],16),parseInt(execResult[2]+execResult[2],16),parseInt(execResult[3]+execResult[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(execResult){return[execResult[1],execResult[2]/100,execResult[3]/100,execResult[4]]}}],color=jQuery.Color=function(color,green,blue,alpha){return new jQuery.Color.fn.parse(color,green,blue,alpha)},spaces={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},propTypes={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},support=color.support={},supportElem=jQuery("<p>")[0],each=jQuery.each;supportElem.style.cssText="background-color:rgba(1,1,1,.5)",support.rgba=supportElem.style.backgroundColor.indexOf("rgba")>-1,each(spaces,function(spaceName,space){space.cache="_"+spaceName,space.props.alpha={idx:3,type:"percent",def:1}}),color.fn=jQuery.extend(color.prototype,{parse:function(red,green,blue,alpha){if(red===undefined)return this._rgba=[null,null,null,null],this;(red.jquery||red.nodeType)&&(red=jQuery(red).css(green),green=undefined);var inst=this,type=jQuery.type(red),rgba=this._rgba=[];return green!==undefined&&(red=[red,green,blue,alpha],type="array"),"string"===type?this.parse(stringParse(red)||colors._default):"array"===type?(each(spaces.rgba.props,function(key,prop){rgba[prop.idx]=clamp(red[prop.idx],prop)}),this):"object"===type?(red instanceof color?each(spaces,function(spaceName,space){red[space.cache]&&(inst[space.cache]=red[space.cache].slice())}):each(spaces,function(spaceName,space){var cache=space.cache;each(space.props,function(key,prop){if(!inst[cache]&&space.to){if("alpha"===key||null==red[key])return;inst[cache]=space.to(inst._rgba)}inst[cache][prop.idx]=clamp(red[key],prop,!0)}),inst[cache]&&jQuery.inArray(null,inst[cache].slice(0,3))<0&&(inst[cache][3]=1,space.from&&(inst._rgba=space.from(inst[cache])))}),this):void 0},is:function(compare){var is=color(compare),same=!0,inst=this;return each(spaces,function(_,space){var localCache,isCache=is[space.cache];return isCache&&(localCache=inst[space.cache]||space.to&&space.to(inst._rgba)||[],each(space.props,function(_,prop){return null!=isCache[prop.idx]?same=isCache[prop.idx]===localCache[prop.idx]:void 0})),same}),same},_space:function(){var used=[],inst=this;return each(spaces,function(spaceName,space){inst[space.cache]&&used.push(spaceName)}),used.pop()},transition:function(other,distance){var end=color(other),spaceName=end._space(),space=spaces[spaceName],startColor=0===this.alpha()?color("transparent"):this,start=startColor[space.cache]||space.to(startColor._rgba),result=start.slice();return end=end[space.cache],each(space.props,function(key,prop){var index=prop.idx,startValue=start[index],endValue=end[index],type=propTypes[prop.type]||{};null!==endValue&&(null===startValue?result[index]=endValue:(type.mod&&(endValue-startValue>type.mod/2?startValue+=type.mod:startValue-endValue>type.mod/2&&(startValue-=type.mod)),result[index]=clamp((endValue-startValue)*distance+startValue,prop)))}),this[spaceName](result)},blend:function(opaque){if(1===this._rgba[3])return this;var rgb=this._rgba.slice(),a=rgb.pop(),blend=color(opaque)._rgba;return color(jQuery.map(rgb,function(v,i){return(1-a)*blend[i]+a*v}))},toRgbaString:function(){var prefix="rgba(",rgba=jQuery.map(this._rgba,function(v,i){return null==v?i>2?1:0:v});return 1===rgba[3]&&(rgba.pop(),prefix="rgb("),prefix+rgba.join()+")"},toHslaString:function(){var prefix="hsla(",hsla=jQuery.map(this.hsla(),function(v,i){return null==v&&(v=i>2?1:0),i&&3>i&&(v=Math.round(100*v)+"%"),v});return 1===hsla[3]&&(hsla.pop(),prefix="hsl("),prefix+hsla.join()+")"},toHexString:function(includeAlpha){var rgba=this._rgba.slice(),alpha=rgba.pop();return includeAlpha&&rgba.push(~~(255*alpha)),"#"+jQuery.map(rgba,function(v){return v=(v||0).toString(16),1===v.length?"0"+v:v}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),color.fn.parse.prototype=color.fn,spaces.hsla.to=function(rgba){if(null==rgba[0]||null==rgba[1]||null==rgba[2])return[null,null,null,rgba[3]];var h,s,r=rgba[0]/255,g=rgba[1]/255,b=rgba[2]/255,a=rgba[3],max=Math.max(r,g,b),min=Math.min(r,g,b),diff=max-min,add=max+min,l=.5*add;return h=min===max?0:r===max?60*(g-b)/diff+360:g===max?60*(b-r)/diff+120:60*(r-g)/diff+240,s=0===diff?0:.5>=l?diff/add:diff/(2-add),[Math.round(h)%360,s,l,null==a?1:a]},spaces.hsla.from=function(hsla){if(null==hsla[0]||null==hsla[1]||null==hsla[2])return[null,null,null,hsla[3]];var h=hsla[0]/360,s=hsla[1],l=hsla[2],a=hsla[3],q=.5>=l?l*(1+s):l+s-l*s,p=2*l-q;return[Math.round(255*hue2rgb(p,q,h+1/3)),Math.round(255*hue2rgb(p,q,h)),Math.round(255*hue2rgb(p,q,h-1/3)),a]},each(spaces,function(spaceName,space){var props=space.props,cache=space.cache,to=space.to,from=space.from;color.fn[spaceName]=function(value){if(to&&!this[cache]&&(this[cache]=to(this._rgba)),value===undefined)return this[cache].slice();var ret,type=jQuery.type(value),arr="array"===type||"object"===type?value:arguments,local=this[cache].slice();return each(props,function(key,prop){var val=arr["object"===type?key:prop.idx];null==val&&(val=local[prop.idx]),local[prop.idx]=clamp(val,prop)}),from?(ret=color(from(local)),ret[cache]=local,ret):color(local)},each(props,function(key,prop){color.fn[key]||(color.fn[key]=function(value){var match,vtype=jQuery.type(value),fn="alpha"===key?this._hsla?"hsla":"rgba":spaceName,local=this[fn](),cur=local[prop.idx];return"undefined"===vtype?cur:("function"===vtype&&(value=value.call(this,cur),vtype=jQuery.type(value)),null==value&&prop.empty?this:("string"===vtype&&(match=rplusequals.exec(value),match&&(value=cur+parseFloat(match[2])*("+"===match[1]?1:-1))),local[prop.idx]=value,this[fn](local)))})})}),color.hook=function(hook){var hooks=hook.split(" ");each(hooks,function(i,hook){jQuery.cssHooks[hook]={set:function(elem,value){var parsed,curElem,backgroundColor="";if("transparent"!==value&&("string"!==jQuery.type(value)||(parsed=stringParse(value)))){if(value=color(parsed||value),!support.rgba&&1!==value._rgba[3]){for(curElem="backgroundColor"===hook?elem.parentNode:elem;(""===backgroundColor||"transparent"===backgroundColor)&&curElem&&curElem.style;)try{backgroundColor=jQuery.css(curElem,"backgroundColor"),curElem=curElem.parentNode}catch(e){}value=value.blend(backgroundColor&&"transparent"!==backgroundColor?backgroundColor:"_default")}value=value.toRgbaString()}try{elem.style[hook]=value}catch(e){}}},jQuery.fx.step[hook]=function(fx){fx.colorInit||(fx.start=color(fx.elem,hook),fx.end=color(fx.end),fx.colorInit=!0),jQuery.cssHooks[hook].set(fx.elem,fx.start.transition(fx.end,fx.pos))}})},color.hook(stepHooks),jQuery.cssHooks.borderColor={expand:function(value){var expanded={};return each(["Top","Right","Bottom","Left"],function(i,part){expanded["border"+part+"Color"]=value}),expanded}},colors=jQuery.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function getElementStyles(elem){var key,len,style=elem.ownerDocument.defaultView?elem.ownerDocument.defaultView.getComputedStyle(elem,null):elem.currentStyle,styles={};if(style&&style.length&&style[0]&&style[style[0]])for(len=style.length;len--;)key=style[len],"string"==typeof style[key]&&(styles[$.camelCase(key)]=style[key]);else for(key in style)"string"==typeof style[key]&&(styles[key]=style[key]);return styles}function styleDifference(oldStyle,newStyle){var name,value,diff={};for(name in newStyle)value=newStyle[name],oldStyle[name]!==value&&(shorthandStyles[name]||($.fx.step[name]||!isNaN(parseFloat(value)))&&(diff[name]=value));return diff}var classAnimationActions=["add","remove","toggle"],shorthandStyles={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};$.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(_,prop){$.fx.step[prop]=function(fx){("none"!==fx.end&&!fx.setAttr||1===fx.pos&&!fx.setAttr)&&(jQuery.style(fx.elem,prop,fx.end),fx.setAttr=!0)}}),$.fn.addBack||($.fn.addBack=function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}),$.effects.animateClass=function(value,duration,easing,callback){var o=$.speed(duration,easing,callback);return this.queue(function(){var applyClassChange,animated=$(this),baseClass=animated.attr("class")||"",allAnimations=o.children?animated.find("*").addBack():animated;allAnimations=allAnimations.map(function(){var el=$(this);return{el:el,start:getElementStyles(this)}}),applyClassChange=function(){$.each(classAnimationActions,function(i,action){value[action]&&animated[action+"Class"](value[action])})},applyClassChange(),allAnimations=allAnimations.map(function(){return this.end=getElementStyles(this.el[0]),this.diff=styleDifference(this.start,this.end),this}),animated.attr("class",baseClass),allAnimations=allAnimations.map(function(){var styleInfo=this,dfd=$.Deferred(),opts=$.extend({},o,{queue:!1,complete:function(){dfd.resolve(styleInfo)}});return this.el.animate(this.diff,opts),dfd.promise()}),$.when.apply($,allAnimations.get()).done(function(){applyClassChange(),$.each(arguments,function(){var el=this.el;$.each(this.diff,function(key){el.css(key,"")})}),o.complete.call(animated[0])})})},$.fn.extend({addClass:function(orig){return function(classNames,speed,easing,callback){return speed?$.effects.animateClass.call(this,{add:classNames},speed,easing,callback):orig.apply(this,arguments)}}($.fn.addClass),removeClass:function(orig){return function(classNames,speed,easing,callback){return arguments.length>1?$.effects.animateClass.call(this,{remove:classNames},speed,easing,callback):orig.apply(this,arguments)}}($.fn.removeClass),toggleClass:function(orig){return function(classNames,force,speed,easing,callback){return"boolean"==typeof force||void 0===force?speed?$.effects.animateClass.call(this,force?{add:classNames}:{remove:classNames},speed,easing,callback):orig.apply(this,arguments):$.effects.animateClass.call(this,{toggle:classNames},force,speed,easing)}}($.fn.toggleClass),switchClass:function(remove,add,speed,easing,callback){return $.effects.animateClass.call(this,{add:add,remove:remove},speed,easing,callback)}})}(),function(){function _normalizeArguments(effect,options,speed,callback){return $.isPlainObject(effect)&&(options=effect,effect=effect.effect),effect={effect:effect},null==options&&(options={}),$.isFunction(options)&&(callback=options,speed=null,options={}),("number"==typeof options||$.fx.speeds[options])&&(callback=speed,speed=options,options={}),$.isFunction(speed)&&(callback=speed,speed=null),options&&$.extend(effect,options),speed=speed||options.duration,effect.duration=$.fx.off?0:"number"==typeof speed?speed:speed in $.fx.speeds?$.fx.speeds[speed]:$.fx.speeds._default,effect.complete=callback||options.complete,effect}function standardAnimationOption(option){return!option||"number"==typeof option||$.fx.speeds[option]?!0:"string"!=typeof option||$.effects.effect[option]?$.isFunction(option)?!0:"object"!=typeof option||option.effect?!1:!0:!0}$.extend($.effects,{version:"1.11.4",save:function(element,set){for(var i=0;i<set.length;i++)null!==set[i]&&element.data(dataSpace+set[i],element[0].style[set[i]])},restore:function(element,set){var val,i;for(i=0;i<set.length;i++)null!==set[i]&&(val=element.data(dataSpace+set[i]),void 0===val&&(val=""),element.css(set[i],val))},setMode:function(el,mode){return"toggle"===mode&&(mode=el.is(":hidden")?"show":"hide"),mode},getBaseline:function(origin,original){var y,x;switch(origin[0]){case"top":y=0;break;case"middle":y=.5;break;case"bottom":y=1;break;default:y=origin[0]/original.height}switch(origin[1]){case"left":x=0;break;case"center":x=.5;break;case"right":x=1;break;default:x=origin[1]/original.width}return{x:x,y:y}},createWrapper:function(element){if(element.parent().is(".ui-effects-wrapper"))return element.parent();var props={width:element.outerWidth(!0),height:element.outerHeight(!0),"float":element.css("float")},wrapper=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),size={width:element.width(),height:element.height()},active=document.activeElement;try{active.id}catch(e){active=document.body}return element.wrap(wrapper),(element[0]===active||$.contains(element[0],active))&&$(active).focus(),wrapper=element.parent(),"static"===element.css("position")?(wrapper.css({position:"relative"}),element.css({position:"relative"})):($.extend(props,{position:element.css("position"),zIndex:element.css("z-index")}),$.each(["top","left","bottom","right"],function(i,pos){props[pos]=element.css(pos),isNaN(parseInt(props[pos],10))&&(props[pos]="auto")}),element.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),element.css(size),wrapper.css(props).show()},removeWrapper:function(element){var active=document.activeElement;return element.parent().is(".ui-effects-wrapper")&&(element.parent().replaceWith(element),(element[0]===active||$.contains(element[0],active))&&$(active).focus()),element},setTransition:function(element,list,factor,value){return value=value||{},$.each(list,function(i,x){var unit=element.cssUnit(x);unit[0]>0&&(value[x]=unit[0]*factor+unit[1])}),value}}),$.fn.extend({effect:function(){function run(next){function done(){$.isFunction(complete)&&complete.call(elem[0]),$.isFunction(next)&&next()}var elem=$(this),complete=args.complete,mode=args.mode;(elem.is(":hidden")?"hide"===mode:"show"===mode)?(elem[mode](),done()):effectMethod.call(elem[0],args,done)}var args=_normalizeArguments.apply(this,arguments),mode=args.mode,queue=args.queue,effectMethod=$.effects.effect[args.effect];return $.fx.off||!effectMethod?mode?this[mode](args.duration,args.complete):this.each(function(){args.complete&&args.complete.call(this)}):queue===!1?this.each(run):this.queue(queue||"fx",run)},show:function(orig){return function(option){if(standardAnimationOption(option))return orig.apply(this,arguments);var args=_normalizeArguments.apply(this,arguments);return args.mode="show",this.effect.call(this,args)}}($.fn.show),hide:function(orig){return function(option){if(standardAnimationOption(option))return orig.apply(this,arguments);var args=_normalizeArguments.apply(this,arguments);return args.mode="hide",this.effect.call(this,args)}}($.fn.hide),toggle:function(orig){return function(option){if(standardAnimationOption(option)||"boolean"==typeof option)return orig.apply(this,arguments);var args=_normalizeArguments.apply(this,arguments);return args.mode="toggle",this.effect.call(this,args)}}($.fn.toggle),cssUnit:function(key){var style=this.css(key),val=[];return $.each(["em","px","%","pt"],function(i,unit){style.indexOf(unit)>0&&(val=[parseFloat(style),unit])}),val}})}(),function(){var baseEasings={};$.each(["Quad","Cubic","Quart","Quint","Expo"],function(i,name){baseEasings[name]=function(p){return Math.pow(p,i+2)}}),$.extend(baseEasings,{Sine:function(p){return 1-Math.cos(p*Math.PI/2)},Circ:function(p){return 1-Math.sqrt(1-p*p)},Elastic:function(p){return 0===p||1===p?p:-Math.pow(2,8*(p-1))*Math.sin((80*(p-1)-7.5)*Math.PI/15)},Back:function(p){return p*p*(3*p-2)},Bounce:function(p){for(var pow2,bounce=4;p<((pow2=Math.pow(2,--bounce))-1)/11;);return 1/Math.pow(4,3-bounce)-7.5625*Math.pow((3*pow2-2)/22-p,2)}}),$.each(baseEasings,function(name,easeIn){$.easing["easeIn"+name]=easeIn,$.easing["easeOut"+name]=function(p){return 1-easeIn(1-p)},$.easing["easeInOut"+name]=function(p){return.5>p?easeIn(2*p)/2:1-easeIn(-2*p+2)/2}})}();$.effects,$.effects.effect.blind=function(o,done){var wrapper,distance,margin,el=$(this),rvertical=/up|down|vertical/,rpositivemotion=/up|left|vertical|horizontal/,props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),direction=o.direction||"up",vertical=rvertical.test(direction),ref=vertical?"height":"width",ref2=vertical?"top":"left",motion=rpositivemotion.test(direction),animation={},show="show"===mode;el.parent().is(".ui-effects-wrapper")?$.effects.save(el.parent(),props):$.effects.save(el,props),el.show(),wrapper=$.effects.createWrapper(el).css({overflow:"hidden"}),distance=wrapper[ref](),margin=parseFloat(wrapper.css(ref2))||0,animation[ref]=show?distance:0,motion||(el.css(vertical?"bottom":"right",0).css(vertical?"top":"left","auto").css({position:"absolute"}),animation[ref2]=show?margin:distance+margin),show&&(wrapper.css(ref,0),motion||wrapper.css(ref2,margin+distance)),wrapper.animate(animation,{duration:o.duration,easing:o.easing,queue:!1,complete:function(){"hide"===mode&&el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),done()}})},$.effects.effect.bounce=function(o,done){var i,upAnim,downAnim,el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"effect"),hide="hide"===mode,show="show"===mode,direction=o.direction||"up",distance=o.distance,times=o.times||5,anims=2*times+(show||hide?1:0),speed=o.duration/anims,easing=o.easing,ref="up"===direction||"down"===direction?"top":"left",motion="up"===direction||"left"===direction,queue=el.queue(),queuelen=queue.length;
for((show||hide)&&props.push("opacity"),$.effects.save(el,props),el.show(),$.effects.createWrapper(el),distance||(distance=el["top"===ref?"outerHeight":"outerWidth"]()/3),show&&(downAnim={opacity:1},downAnim[ref]=0,el.css("opacity",0).css(ref,motion?2*-distance:2*distance).animate(downAnim,speed,easing)),hide&&(distance/=Math.pow(2,times-1)),downAnim={},downAnim[ref]=0,i=0;times>i;i++)upAnim={},upAnim[ref]=(motion?"-=":"+=")+distance,el.animate(upAnim,speed,easing).animate(downAnim,speed,easing),distance=hide?2*distance:distance/2;hide&&(upAnim={opacity:0},upAnim[ref]=(motion?"-=":"+=")+distance,el.animate(upAnim,speed,easing)),el.queue(function(){hide&&el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),done()}),queuelen>1&&queue.splice.apply(queue,[1,0].concat(queue.splice(queuelen,anims+1))),el.dequeue()},$.effects.effect.clip=function(o,done){var wrapper,animate,distance,el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),show="show"===mode,direction=o.direction||"vertical",vert="vertical"===direction,size=vert?"height":"width",position=vert?"top":"left",animation={};$.effects.save(el,props),el.show(),wrapper=$.effects.createWrapper(el).css({overflow:"hidden"}),animate="IMG"===el[0].tagName?wrapper:el,distance=animate[size](),show&&(animate.css(size,0),animate.css(position,distance/2)),animation[size]=show?distance:0,animation[position]=show?0:distance/2,animate.animate(animation,{queue:!1,duration:o.duration,easing:o.easing,complete:function(){show||el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),done()}})},$.effects.effect.drop=function(o,done){var distance,el=$(this),props=["position","top","bottom","left","right","opacity","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),show="show"===mode,direction=o.direction||"left",ref="up"===direction||"down"===direction?"top":"left",motion="up"===direction||"left"===direction?"pos":"neg",animation={opacity:show?1:0};$.effects.save(el,props),el.show(),$.effects.createWrapper(el),distance=o.distance||el["top"===ref?"outerHeight":"outerWidth"](!0)/2,show&&el.css("opacity",0).css(ref,"pos"===motion?-distance:distance),animation[ref]=(show?"pos"===motion?"+=":"-=":"pos"===motion?"-=":"+=")+distance,el.animate(animation,{queue:!1,duration:o.duration,easing:o.easing,complete:function(){"hide"===mode&&el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),done()}})},$.effects.effect.explode=function(o,done){function childComplete(){pieces.push(this),pieces.length===rows*cells&&animComplete()}function animComplete(){el.css({visibility:"visible"}),$(pieces).remove(),show||el.hide(),done()}var i,j,left,top,mx,my,rows=o.pieces?Math.round(Math.sqrt(o.pieces)):3,cells=rows,el=$(this),mode=$.effects.setMode(el,o.mode||"hide"),show="show"===mode,offset=el.show().css("visibility","hidden").offset(),width=Math.ceil(el.outerWidth()/cells),height=Math.ceil(el.outerHeight()/rows),pieces=[];for(i=0;rows>i;i++)for(top=offset.top+i*height,my=i-(rows-1)/2,j=0;cells>j;j++)left=offset.left+j*width,mx=j-(cells-1)/2,el.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-j*width,top:-i*height}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:width,height:height,left:left+(show?mx*width:0),top:top+(show?my*height:0),opacity:show?0:1}).animate({left:left+(show?0:mx*width),top:top+(show?0:my*height),opacity:show?1:0},o.duration||500,o.easing,childComplete)},$.effects.effect.fade=function(o,done){var el=$(this),mode=$.effects.setMode(el,o.mode||"toggle");el.animate({opacity:mode},{queue:!1,duration:o.duration,easing:o.easing,complete:done})},$.effects.effect.fold=function(o,done){var wrapper,distance,el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),show="show"===mode,hide="hide"===mode,size=o.size||15,percent=/([0-9]+)%/.exec(size),horizFirst=!!o.horizFirst,widthFirst=show!==horizFirst,ref=widthFirst?["width","height"]:["height","width"],duration=o.duration/2,animation1={},animation2={};$.effects.save(el,props),el.show(),wrapper=$.effects.createWrapper(el).css({overflow:"hidden"}),distance=widthFirst?[wrapper.width(),wrapper.height()]:[wrapper.height(),wrapper.width()],percent&&(size=parseInt(percent[1],10)/100*distance[hide?0:1]),show&&wrapper.css(horizFirst?{height:0,width:size}:{height:size,width:0}),animation1[ref[0]]=show?distance[0]:size,animation2[ref[1]]=show?distance[1]:0,wrapper.animate(animation1,duration,o.easing).animate(animation2,duration,o.easing,function(){hide&&el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),done()})},$.effects.effect.highlight=function(o,done){var elem=$(this),props=["backgroundImage","backgroundColor","opacity"],mode=$.effects.setMode(elem,o.mode||"show"),animation={backgroundColor:elem.css("backgroundColor")};"hide"===mode&&(animation.opacity=0),$.effects.save(elem,props),elem.show().css({backgroundImage:"none",backgroundColor:o.color||"#ffff99"}).animate(animation,{queue:!1,duration:o.duration,easing:o.easing,complete:function(){"hide"===mode&&elem.hide(),$.effects.restore(elem,props),done()}})},$.effects.effect.size=function(o,done){var original,baseline,factor,el=$(this),props0=["position","top","bottom","left","right","width","height","overflow","opacity"],props1=["position","top","bottom","left","right","overflow","opacity"],props2=["width","height","overflow"],cProps=["fontSize"],vProps=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],hProps=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],mode=$.effects.setMode(el,o.mode||"effect"),restore=o.restore||"effect"!==mode,scale=o.scale||"both",origin=o.origin||["middle","center"],position=el.css("position"),props=restore?props0:props1,zero={height:0,width:0,outerHeight:0,outerWidth:0};"show"===mode&&el.show(),original={height:el.height(),width:el.width(),outerHeight:el.outerHeight(),outerWidth:el.outerWidth()},"toggle"===o.mode&&"show"===mode?(el.from=o.to||zero,el.to=o.from||original):(el.from=o.from||("show"===mode?zero:original),el.to=o.to||("hide"===mode?zero:original)),factor={from:{y:el.from.height/original.height,x:el.from.width/original.width},to:{y:el.to.height/original.height,x:el.to.width/original.width}},("box"===scale||"both"===scale)&&(factor.from.y!==factor.to.y&&(props=props.concat(vProps),el.from=$.effects.setTransition(el,vProps,factor.from.y,el.from),el.to=$.effects.setTransition(el,vProps,factor.to.y,el.to)),factor.from.x!==factor.to.x&&(props=props.concat(hProps),el.from=$.effects.setTransition(el,hProps,factor.from.x,el.from),el.to=$.effects.setTransition(el,hProps,factor.to.x,el.to))),("content"===scale||"both"===scale)&&factor.from.y!==factor.to.y&&(props=props.concat(cProps).concat(props2),el.from=$.effects.setTransition(el,cProps,factor.from.y,el.from),el.to=$.effects.setTransition(el,cProps,factor.to.y,el.to)),$.effects.save(el,props),el.show(),$.effects.createWrapper(el),el.css("overflow","hidden").css(el.from),origin&&(baseline=$.effects.getBaseline(origin,original),el.from.top=(original.outerHeight-el.outerHeight())*baseline.y,el.from.left=(original.outerWidth-el.outerWidth())*baseline.x,el.to.top=(original.outerHeight-el.to.outerHeight)*baseline.y,el.to.left=(original.outerWidth-el.to.outerWidth)*baseline.x),el.css(el.from),("content"===scale||"both"===scale)&&(vProps=vProps.concat(["marginTop","marginBottom"]).concat(cProps),hProps=hProps.concat(["marginLeft","marginRight"]),props2=props0.concat(vProps).concat(hProps),el.find("*[width]").each(function(){var child=$(this),c_original={height:child.height(),width:child.width(),outerHeight:child.outerHeight(),outerWidth:child.outerWidth()};restore&&$.effects.save(child,props2),child.from={height:c_original.height*factor.from.y,width:c_original.width*factor.from.x,outerHeight:c_original.outerHeight*factor.from.y,outerWidth:c_original.outerWidth*factor.from.x},child.to={height:c_original.height*factor.to.y,width:c_original.width*factor.to.x,outerHeight:c_original.height*factor.to.y,outerWidth:c_original.width*factor.to.x},factor.from.y!==factor.to.y&&(child.from=$.effects.setTransition(child,vProps,factor.from.y,child.from),child.to=$.effects.setTransition(child,vProps,factor.to.y,child.to)),factor.from.x!==factor.to.x&&(child.from=$.effects.setTransition(child,hProps,factor.from.x,child.from),child.to=$.effects.setTransition(child,hProps,factor.to.x,child.to)),child.css(child.from),child.animate(child.to,o.duration,o.easing,function(){restore&&$.effects.restore(child,props2)})})),el.animate(el.to,{queue:!1,duration:o.duration,easing:o.easing,complete:function(){0===el.to.opacity&&el.css("opacity",el.from.opacity),"hide"===mode&&el.hide(),$.effects.restore(el,props),restore||("static"===position?el.css({position:"relative",top:el.to.top,left:el.to.left}):$.each(["top","left"],function(idx,pos){el.css(pos,function(_,str){var val=parseInt(str,10),toRef=idx?el.to.left:el.to.top;return"auto"===str?toRef+"px":val+toRef+"px"})})),$.effects.removeWrapper(el),done()}})},$.effects.effect.scale=function(o,done){var el=$(this),options=$.extend(!0,{},o),mode=$.effects.setMode(el,o.mode||"effect"),percent=parseInt(o.percent,10)||(0===parseInt(o.percent,10)?0:"hide"===mode?0:100),direction=o.direction||"both",origin=o.origin,original={height:el.height(),width:el.width(),outerHeight:el.outerHeight(),outerWidth:el.outerWidth()},factor={y:"horizontal"!==direction?percent/100:1,x:"vertical"!==direction?percent/100:1};options.effect="size",options.queue=!1,options.complete=done,"effect"!==mode&&(options.origin=origin||["middle","center"],options.restore=!0),options.from=o.from||("show"===mode?{height:0,width:0,outerHeight:0,outerWidth:0}:original),options.to={height:original.height*factor.y,width:original.width*factor.x,outerHeight:original.outerHeight*factor.y,outerWidth:original.outerWidth*factor.x},options.fade&&("show"===mode&&(options.from.opacity=0,options.to.opacity=1),"hide"===mode&&(options.from.opacity=1,options.to.opacity=0)),el.effect(options)},$.effects.effect.puff=function(o,done){var elem=$(this),mode=$.effects.setMode(elem,o.mode||"hide"),hide="hide"===mode,percent=parseInt(o.percent,10)||150,factor=percent/100,original={height:elem.height(),width:elem.width(),outerHeight:elem.outerHeight(),outerWidth:elem.outerWidth()};$.extend(o,{effect:"scale",queue:!1,fade:!0,mode:mode,complete:done,percent:hide?percent:100,from:hide?original:{height:original.height*factor,width:original.width*factor,outerHeight:original.outerHeight*factor,outerWidth:original.outerWidth*factor}}),elem.effect(o)},$.effects.effect.pulsate=function(o,done){var i,elem=$(this),mode=$.effects.setMode(elem,o.mode||"show"),show="show"===mode,hide="hide"===mode,showhide=show||"hide"===mode,anims=2*(o.times||5)+(showhide?1:0),duration=o.duration/anims,animateTo=0,queue=elem.queue(),queuelen=queue.length;for((show||!elem.is(":visible"))&&(elem.css("opacity",0).show(),animateTo=1),i=1;anims>i;i++)elem.animate({opacity:animateTo},duration,o.easing),animateTo=1-animateTo;elem.animate({opacity:animateTo},duration,o.easing),elem.queue(function(){hide&&elem.hide(),done()}),queuelen>1&&queue.splice.apply(queue,[1,0].concat(queue.splice(queuelen,anims+1))),elem.dequeue()},$.effects.effect.shake=function(o,done){var i,el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"effect"),direction=o.direction||"left",distance=o.distance||20,times=o.times||3,anims=2*times+1,speed=Math.round(o.duration/anims),ref="up"===direction||"down"===direction?"top":"left",positiveMotion="up"===direction||"left"===direction,animation={},animation1={},animation2={},queue=el.queue(),queuelen=queue.length;for($.effects.save(el,props),el.show(),$.effects.createWrapper(el),animation[ref]=(positiveMotion?"-=":"+=")+distance,animation1[ref]=(positiveMotion?"+=":"-=")+2*distance,animation2[ref]=(positiveMotion?"-=":"+=")+2*distance,el.animate(animation,speed,o.easing),i=1;times>i;i++)el.animate(animation1,speed,o.easing).animate(animation2,speed,o.easing);el.animate(animation1,speed,o.easing).animate(animation,speed/2,o.easing).queue(function(){"hide"===mode&&el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),done()}),queuelen>1&&queue.splice.apply(queue,[1,0].concat(queue.splice(queuelen,anims+1))),el.dequeue()},$.effects.effect.slide=function(o,done){var distance,el=$(this),props=["position","top","bottom","left","right","width","height"],mode=$.effects.setMode(el,o.mode||"show"),show="show"===mode,direction=o.direction||"left",ref="up"===direction||"down"===direction?"top":"left",positiveMotion="up"===direction||"left"===direction,animation={};$.effects.save(el,props),el.show(),distance=o.distance||el["top"===ref?"outerHeight":"outerWidth"](!0),$.effects.createWrapper(el).css({overflow:"hidden"}),show&&el.css(ref,positiveMotion?isNaN(distance)?"-"+distance:-distance:distance),animation[ref]=(show?positiveMotion?"+=":"-=":positiveMotion?"-=":"+=")+distance,el.animate(animation,{queue:!1,duration:o.duration,easing:o.easing,complete:function(){"hide"===mode&&el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),done()}})},$.effects.effect.transfer=function(o,done){var elem=$(this),target=$(o.to),targetFixed="fixed"===target.css("position"),body=$("body"),fixTop=targetFixed?body.scrollTop():0,fixLeft=targetFixed?body.scrollLeft():0,endPosition=target.offset(),animation={top:endPosition.top-fixTop,left:endPosition.left-fixLeft,height:target.innerHeight(),width:target.innerWidth()},startPosition=elem.offset(),transfer=$("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(o.className).css({top:startPosition.top-fixTop,left:startPosition.left-fixLeft,height:elem.innerHeight(),width:elem.innerWidth(),position:targetFixed?"fixed":"absolute"}).animate(animation,o.duration,o.easing,function(){transfer.remove(),done()})},$.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=$("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(newValue){return void 0===newValue?this.options.value:(this.options.value=this._constrainedValue(newValue),void this._refreshValue())},_constrainedValue:function(newValue){return void 0===newValue&&(newValue=this.options.value),this.indeterminate=newValue===!1,"number"!=typeof newValue&&(newValue=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,newValue))},_setOptions:function(options){var value=options.value;delete options.value,this._super(options),this.options.value=this._constrainedValue(value),this._refreshValue()},_setOption:function(key,value){"max"===key&&(value=Math.max(this.min,value)),"disabled"===key&&this.element.toggleClass("ui-state-disabled",!!value).attr("aria-disabled",value),this._super(key,value)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var value=this.options.value,percentage=this._percentage();this.valueDiv.toggle(this.indeterminate||value>this.min).toggleClass("ui-corner-right",value===this.options.max).width(percentage.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=$("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":value}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==value&&(this.oldValue=value,this._trigger("change")),value===this.options.max&&this._trigger("complete")}}),$.widget("ui.selectable",$.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var selectees,that=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){selectees=$(that.options.filter,that.element[0]),selectees.addClass("ui-selectee"),selectees.each(function(){var $this=$(this),pos=$this.offset();$.data(this,"selectable-item",{element:this,$element:$this,left:pos.left,top:pos.top,right:pos.left+$this.outerWidth(),bottom:pos.top+$this.outerHeight(),startselected:!1,selected:$this.hasClass("ui-selected"),selecting:$this.hasClass("ui-selecting"),unselecting:$this.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=selectees.addClass("ui-selectee"),this._mouseInit(),this.helper=$("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(event){var that=this,options=this.options;this.opos=[event.pageX,event.pageY],this.options.disabled||(this.selectees=$(options.filter,this.element[0]),this._trigger("start",event),$(options.appendTo).append(this.helper),this.helper.css({left:event.pageX,top:event.pageY,width:0,height:0}),options.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var selectee=$.data(this,"selectable-item");selectee.startselected=!0,event.metaKey||event.ctrlKey||(selectee.$element.removeClass("ui-selected"),selectee.selected=!1,selectee.$element.addClass("ui-unselecting"),selectee.unselecting=!0,that._trigger("unselecting",event,{unselecting:selectee.element}))}),$(event.target).parents().addBack().each(function(){var doSelect,selectee=$.data(this,"selectable-item");return selectee?(doSelect=!event.metaKey&&!event.ctrlKey||!selectee.$element.hasClass("ui-selected"),selectee.$element.removeClass(doSelect?"ui-unselecting":"ui-selected").addClass(doSelect?"ui-selecting":"ui-unselecting"),selectee.unselecting=!doSelect,selectee.selecting=doSelect,selectee.selected=doSelect,doSelect?that._trigger("selecting",event,{selecting:selectee.element}):that._trigger("unselecting",event,{unselecting:selectee.element}),!1):void 0}))},_mouseDrag:function(event){if(this.dragged=!0,!this.options.disabled){var tmp,that=this,options=this.options,x1=this.opos[0],y1=this.opos[1],x2=event.pageX,y2=event.pageY;return x1>x2&&(tmp=x2,x2=x1,x1=tmp),y1>y2&&(tmp=y2,y2=y1,y1=tmp),this.helper.css({left:x1,top:y1,width:x2-x1,height:y2-y1}),this.selectees.each(function(){var selectee=$.data(this,"selectable-item"),hit=!1;selectee&&selectee.element!==that.element[0]&&("touch"===options.tolerance?hit=!(selectee.left>x2||selectee.right<x1||selectee.top>y2||selectee.bottom<y1):"fit"===options.tolerance&&(hit=selectee.left>x1&&selectee.right<x2&&selectee.top>y1&&selectee.bottom<y2),hit?(selectee.selected&&(selectee.$element.removeClass("ui-selected"),selectee.selected=!1),selectee.unselecting&&(selectee.$element.removeClass("ui-unselecting"),selectee.unselecting=!1),selectee.selecting||(selectee.$element.addClass("ui-selecting"),selectee.selecting=!0,that._trigger("selecting",event,{selecting:selectee.element}))):(selectee.selecting&&((event.metaKey||event.ctrlKey)&&selectee.startselected?(selectee.$element.removeClass("ui-selecting"),selectee.selecting=!1,selectee.$element.addClass("ui-selected"),selectee.selected=!0):(selectee.$element.removeClass("ui-selecting"),selectee.selecting=!1,selectee.startselected&&(selectee.$element.addClass("ui-unselecting"),selectee.unselecting=!0),that._trigger("unselecting",event,{unselecting:selectee.element}))),selectee.selected&&(event.metaKey||event.ctrlKey||selectee.startselected||(selectee.$element.removeClass("ui-selected"),selectee.selected=!1,selectee.$element.addClass("ui-unselecting"),selectee.unselecting=!0,that._trigger("unselecting",event,{unselecting:selectee.element})))))}),!1}},_mouseStop:function(event){var that=this;return this.dragged=!1,$(".ui-unselecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");selectee.$element.removeClass("ui-unselecting"),selectee.unselecting=!1,selectee.startselected=!1,that._trigger("unselected",event,{unselected:selectee.element})}),$(".ui-selecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");selectee.$element.removeClass("ui-selecting").addClass("ui-selected"),selectee.selecting=!1,selectee.selected=!0,selectee.startselected=!0,that._trigger("selected",event,{selected:selectee.element})}),this._trigger("stop",event),this.helper.remove(),!1}}),$.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var selectmenuId=this.element.uniqueId().attr("id");this.ids={element:selectmenuId,button:selectmenuId+"-button",menu:selectmenuId+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var that=this;this.label=$("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(event){this.button.focus(),event.preventDefault()}}),this.element.hide(),this.button=$("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),$("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=$("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){that.menuItems||that._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var that=this;this.menu=$("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=$("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(event,ui){event.preventDefault(),that._setSelection(),that._select(ui.item.data("ui-selectmenu-item"),event)},focus:function(event,ui){var item=ui.item.data("ui-selectmenu-item");null!=that.focusIndex&&item.index!==that.focusIndex&&(that._trigger("focus",event,{item:item}),that.isOpen||that._select(item,event)),that.focusIndex=item.index,that.button.attr("aria-activedescendant",that.menuItems.eq(item.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var item,options=this.element.find("option");options.length&&(this._parseOptions(options),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),item=this._getSelectedItem(),this.menuInstance.focus(null,item),this._setAria(item.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(event){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",event))},_position:function(){this.menuWrap.position($.extend({of:this.button},this.options.position))},close:function(event){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",event))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(ul,items){var that=this,currentOptgroup="";$.each(items,function(index,item){item.optgroup!==currentOptgroup&&($("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(item.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:item.optgroup}).appendTo(ul),currentOptgroup=item.optgroup),that._renderItemData(ul,item)})},_renderItemData:function(ul,item){return this._renderItem(ul,item).data("ui-selectmenu-item",item)},_renderItem:function(ul,item){var li=$("<li>");return item.disabled&&li.addClass("ui-state-disabled"),this._setText(li,item.label),li.appendTo(ul)},_setText:function(element,value){value?element.text(value):element.html("&#160;")},_move:function(direction,event){var item,next,filter=".ui-menu-item";this.isOpen?item=this.menuItems.eq(this.focusIndex):(item=this.menuItems.eq(this.element[0].selectedIndex),filter+=":not(.ui-state-disabled)"),next="first"===direction||"last"===direction?item["first"===direction?"prevAll":"nextAll"](filter).eq(-1):item[direction+"All"](filter).eq(0),next.length&&this.menuInstance.focus(event,next)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(event){this[this.isOpen?"close":"open"](event)},_setSelection:function(){var selection;this.range&&(window.getSelection?(selection=window.getSelection(),selection.removeAllRanges(),selection.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(event){this.isOpen&&($(event.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(event))}},_buttonEvents:{mousedown:function(){var selection;window.getSelection?(selection=window.getSelection(),selection.rangeCount&&(this.range=selection.getRangeAt(0))):this.range=document.selection.createRange()},click:function(event){this._setSelection(),this._toggle(event)},keydown:function(event){var preventDefault=!0;switch(event.keyCode){case $.ui.keyCode.TAB:case $.ui.keyCode.ESCAPE:this.close(event),preventDefault=!1;break;case $.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(event);break;case $.ui.keyCode.UP:event.altKey?this._toggle(event):this._move("prev",event);break;case $.ui.keyCode.DOWN:event.altKey?this._toggle(event):this._move("next",event);break;case $.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(event):this._toggle(event);break;case $.ui.keyCode.LEFT:this._move("prev",event);break;case $.ui.keyCode.RIGHT:this._move("next",event);break;case $.ui.keyCode.HOME:case $.ui.keyCode.PAGE_UP:this._move("first",event);break;case $.ui.keyCode.END:case $.ui.keyCode.PAGE_DOWN:this._move("last",event);break;default:this.menu.trigger(event),preventDefault=!1}preventDefault&&event.preventDefault()}},_selectFocusedItem:function(event){var item=this.menuItems.eq(this.focusIndex);item.hasClass("ui-state-disabled")||this._select(item.data("ui-selectmenu-item"),event)},_select:function(item,event){var oldIndex=this.element[0].selectedIndex;this.element[0].selectedIndex=item.index,this._setText(this.buttonText,item.label),this._setAria(item),this._trigger("select",event,{item:item}),item.index!==oldIndex&&this._trigger("change",event,{item:item}),this.close(event)},_setAria:function(item){var id=this.menuItems.eq(item.index).attr("id");this.button.attr({"aria-labelledby":id,"aria-activedescendant":id}),this.menu.attr("aria-activedescendant",id)},_setOption:function(key,value){"icons"===key&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(value.button),this._super(key,value),"appendTo"===key&&this.menuWrap.appendTo(this._appendTo()),"disabled"===key&&(this.menuInstance.option("disabled",value),this.button.toggleClass("ui-state-disabled",value).attr("aria-disabled",value),this.element.prop("disabled",value),value?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===key&&this._resizeButton()},_appendTo:function(){var element=this.options.appendTo;return element&&(element=element.jquery||element.nodeType?$(element):this.document.find(element).eq(0)),element&&element[0]||(element=this.element.closest(".ui-front")),element.length||(element=this.document[0].body),element},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var width=this.options.width;width||(width=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(width)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(options){var data=[];options.each(function(index,item){var option=$(item),optgroup=option.parent("optgroup");data.push({element:option,index:index,value:option.val(),label:option.text(),optgroup:optgroup.attr("label")||"",disabled:optgroup.prop("disabled")||option.prop("disabled")})}),this.items=data},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),$.widget("ui.slider",$.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var i,handleCount,options=this.options,existingHandles=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),handle="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",handles=[];for(handleCount=options.values&&options.values.length||1,existingHandles.length>handleCount&&(existingHandles.slice(handleCount).remove(),existingHandles=existingHandles.slice(0,handleCount)),i=existingHandles.length;handleCount>i;i++)handles.push(handle);this.handles=existingHandles.add($(handles.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(i){$(this).data("ui-slider-handle-index",i)})},_createRange:function(){var options=this.options,classes="";options.range?(options.range===!0&&(options.values?options.values.length&&2!==options.values.length?options.values=[options.values[0],options.values[0]]:$.isArray(options.values)&&(options.values=options.values.slice(0)):options.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=$("<div></div>").appendTo(this.element),classes="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(classes+("min"===options.range||"max"===options.range?" ui-slider-range-"+options.range:""))):(this.range&&this.range.remove(),this.range=null)
},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(event){var position,normValue,distance,closestHandle,index,allowed,offset,mouseOverHandle,that=this,o=this.options;return o.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position),distance=this._valueMax()-this._valueMin()+1,this.handles.each(function(i){var thisDistance=Math.abs(normValue-that.values(i));(distance>thisDistance||distance===thisDistance&&(i===that._lastChangedValue||that.values(i)===o.min))&&(distance=thisDistance,closestHandle=$(this),index=i)}),allowed=this._start(event,index),allowed===!1?!1:(this._mouseSliding=!0,this._handleIndex=index,closestHandle.addClass("ui-state-active").focus(),offset=closestHandle.offset(),mouseOverHandle=!$(event.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=mouseOverHandle?{left:0,top:0}:{left:event.pageX-offset.left-closestHandle.width()/2,top:event.pageY-offset.top-closestHandle.height()/2-(parseInt(closestHandle.css("borderTopWidth"),10)||0)-(parseInt(closestHandle.css("borderBottomWidth"),10)||0)+(parseInt(closestHandle.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(event,index,normValue),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(event){var position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position);return this._slide(event,this._handleIndex,normValue),!1},_mouseStop:function(event){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(event,this._handleIndex),this._change(event,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(position){var pixelTotal,pixelMouse,percentMouse,valueTotal,valueMouse;return"horizontal"===this.orientation?(pixelTotal=this.elementSize.width,pixelMouse=position.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(pixelTotal=this.elementSize.height,pixelMouse=position.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),percentMouse=pixelMouse/pixelTotal,percentMouse>1&&(percentMouse=1),0>percentMouse&&(percentMouse=0),"vertical"===this.orientation&&(percentMouse=1-percentMouse),valueTotal=this._valueMax()-this._valueMin(),valueMouse=this._valueMin()+percentMouse*valueTotal,this._trimAlignValue(valueMouse)},_start:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};return this.options.values&&this.options.values.length&&(uiHash.value=this.values(index),uiHash.values=this.values()),this._trigger("start",event,uiHash)},_slide:function(event,index,newVal){var otherVal,newValues,allowed;this.options.values&&this.options.values.length?(otherVal=this.values(index?0:1),2===this.options.values.length&&this.options.range===!0&&(0===index&&newVal>otherVal||1===index&&otherVal>newVal)&&(newVal=otherVal),newVal!==this.values(index)&&(newValues=this.values(),newValues[index]=newVal,allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal,values:newValues}),otherVal=this.values(index?0:1),allowed!==!1&&this.values(index,newVal))):newVal!==this.value()&&(allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal}),allowed!==!1&&this.value(newVal))},_stop:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};this.options.values&&this.options.values.length&&(uiHash.value=this.values(index),uiHash.values=this.values()),this._trigger("stop",event,uiHash)},_change:function(event,index){if(!this._keySliding&&!this._mouseSliding){var uiHash={handle:this.handles[index],value:this.value()};this.options.values&&this.options.values.length&&(uiHash.value=this.values(index),uiHash.values=this.values()),this._lastChangedValue=index,this._trigger("change",event,uiHash)}},value:function(newValue){return arguments.length?(this.options.value=this._trimAlignValue(newValue),this._refreshValue(),void this._change(null,0)):this._value()},values:function(index,newValue){var vals,newValues,i;if(arguments.length>1)return this.options.values[index]=this._trimAlignValue(newValue),this._refreshValue(),void this._change(null,index);if(!arguments.length)return this._values();if(!$.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(index):this.value();for(vals=this.options.values,newValues=arguments[0],i=0;i<vals.length;i+=1)vals[i]=this._trimAlignValue(newValues[i]),this._change(null,i);this._refreshValue()},_setOption:function(key,value){var i,valsLength=0;switch("range"===key&&this.options.range===!0&&("min"===value?(this.options.value=this._values(0),this.options.values=null):"max"===value&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),$.isArray(this.options.values)&&(valsLength=this.options.values.length),"disabled"===key&&this.element.toggleClass("ui-state-disabled",!!value),this._super(key,value),key){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===value?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;valsLength>i;i+=1)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var val=this.options.value;return val=this._trimAlignValue(val)},_values:function(index){var val,vals,i;if(arguments.length)return val=this.options.values[index],val=this._trimAlignValue(val);if(this.options.values&&this.options.values.length){for(vals=this.options.values.slice(),i=0;i<vals.length;i+=1)vals[i]=this._trimAlignValue(vals[i]);return vals}return[]},_trimAlignValue:function(val){if(val<=this._valueMin())return this._valueMin();if(val>=this._valueMax())return this._valueMax();var step=this.options.step>0?this.options.step:1,valModStep=(val-this._valueMin())%step,alignValue=val-valModStep;return 2*Math.abs(valModStep)>=step&&(alignValue+=valModStep>0?step:-step),parseFloat(alignValue.toFixed(5))},_calculateNewMax:function(){var max=this.options.max,min=this._valueMin(),step=this.options.step,aboveMin=Math.floor(+(max-min).toFixed(this._precision())/step)*step;max=aboveMin+min,this.max=parseFloat(max.toFixed(this._precision()))},_precision:function(){var precision=this._precisionOf(this.options.step);return null!==this.options.min&&(precision=Math.max(precision,this._precisionOf(this.options.min))),precision},_precisionOf:function(num){var str=num.toString(),decimal=str.indexOf(".");return-1===decimal?0:str.length-decimal-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var lastValPercent,valPercent,value,valueMin,valueMax,oRange=this.options.range,o=this.options,that=this,animate=this._animateOff?!1:o.animate,_set={};this.options.values&&this.options.values.length?this.handles.each(function(i){valPercent=(that.values(i)-that._valueMin())/(that._valueMax()-that._valueMin())*100,_set["horizontal"===that.orientation?"left":"bottom"]=valPercent+"%",$(this).stop(1,1)[animate?"animate":"css"](_set,o.animate),that.options.range===!0&&("horizontal"===that.orientation?(0===i&&that.range.stop(1,1)[animate?"animate":"css"]({left:valPercent+"%"},o.animate),1===i&&that.range[animate?"animate":"css"]({width:valPercent-lastValPercent+"%"},{queue:!1,duration:o.animate})):(0===i&&that.range.stop(1,1)[animate?"animate":"css"]({bottom:valPercent+"%"},o.animate),1===i&&that.range[animate?"animate":"css"]({height:valPercent-lastValPercent+"%"},{queue:!1,duration:o.animate}))),lastValPercent=valPercent}):(value=this.value(),valueMin=this._valueMin(),valueMax=this._valueMax(),valPercent=valueMax!==valueMin?(value-valueMin)/(valueMax-valueMin)*100:0,_set["horizontal"===this.orientation?"left":"bottom"]=valPercent+"%",this.handle.stop(1,1)[animate?"animate":"css"](_set,o.animate),"min"===oRange&&"horizontal"===this.orientation&&this.range.stop(1,1)[animate?"animate":"css"]({width:valPercent+"%"},o.animate),"max"===oRange&&"horizontal"===this.orientation&&this.range[animate?"animate":"css"]({width:100-valPercent+"%"},{queue:!1,duration:o.animate}),"min"===oRange&&"vertical"===this.orientation&&this.range.stop(1,1)[animate?"animate":"css"]({height:valPercent+"%"},o.animate),"max"===oRange&&"vertical"===this.orientation&&this.range[animate?"animate":"css"]({height:100-valPercent+"%"},{queue:!1,duration:o.animate}))},_handleEvents:{keydown:function(event){var allowed,curVal,newVal,step,index=$(event.target).data("ui-slider-handle-index");switch(event.keyCode){case $.ui.keyCode.HOME:case $.ui.keyCode.END:case $.ui.keyCode.PAGE_UP:case $.ui.keyCode.PAGE_DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(event.preventDefault(),!this._keySliding&&(this._keySliding=!0,$(event.target).addClass("ui-state-active"),allowed=this._start(event,index),allowed===!1))return}switch(step=this.options.step,curVal=newVal=this.options.values&&this.options.values.length?this.values(index):this.value(),event.keyCode){case $.ui.keyCode.HOME:newVal=this._valueMin();break;case $.ui.keyCode.END:newVal=this._valueMax();break;case $.ui.keyCode.PAGE_UP:newVal=this._trimAlignValue(curVal+(this._valueMax()-this._valueMin())/this.numPages);break;case $.ui.keyCode.PAGE_DOWN:newVal=this._trimAlignValue(curVal-(this._valueMax()-this._valueMin())/this.numPages);break;case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:if(curVal===this._valueMax())return;newVal=this._trimAlignValue(curVal+step);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(curVal===this._valueMin())return;newVal=this._trimAlignValue(curVal-step)}this._slide(event,index,newVal)},keyup:function(event){var index=$(event.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(event,index),this._change(event,index),$(event.target).removeClass("ui-state-active"))}}}),$.widget("ui.sortable",$.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(x,reference,size){return x>=reference&&reference+size>x},_isFloating:function(item){return/left|right/.test(item.css("float"))||/inline|table-cell/.test(item.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(key,value){this._super(key,value),"handle"===key&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),$.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var i=this.items.length-1;i>=0;i--)this.items[i].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(event,overrideHandle){var currentItem=null,validHandle=!1,that=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(event),$(event.target).parents().each(function(){return $.data(this,that.widgetName+"-item")===that?(currentItem=$(this),!1):void 0}),$.data(event.target,that.widgetName+"-item")===that&&(currentItem=$(event.target)),currentItem&&(!this.options.handle||overrideHandle||($(this.options.handle,currentItem).find("*").addBack().each(function(){this===event.target&&(validHandle=!0)}),validHandle))?(this.currentItem=currentItem,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(event,overrideHandle,noActivation){var i,body,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(event),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(event),this.originalPageX=event.pageX,this.originalPageY=event.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(body=this.document.find("body"),this.storedCursor=body.css("cursor"),body.css("cursor",o.cursor),this.storedStylesheet=$("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(body)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",event,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!noActivation)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",event,this._uiHash(this));return $.ui.ddmanager&&($.ui.ddmanager.current=this),$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,event),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(event),!0},_mouseDrag:function(event){var i,item,itemElement,intersection,o=this.options,scrolled=!1;for(this.position=this._generatePosition(event),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-event.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop+o.scrollSpeed:event.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-event.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft+o.scrollSpeed:event.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(event.pageY-this.document.scrollTop()<o.scrollSensitivity?scrolled=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(event.pageY-this.document.scrollTop())<o.scrollSensitivity&&(scrolled=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),event.pageX-this.document.scrollLeft()<o.scrollSensitivity?scrolled=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(event.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(scrolled=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),scrolled!==!1&&$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,event)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(item=this.items[i],itemElement=item.item[0],intersection=this._intersectsWithPointer(item),intersection&&item.instance===this.currentContainer&&itemElement!==this.currentItem[0]&&this.placeholder[1===intersection?"next":"prev"]()[0]!==itemElement&&!$.contains(this.placeholder[0],itemElement)&&("semi-dynamic"===this.options.type?!$.contains(this.element[0],itemElement):!0)){if(this.direction=1===intersection?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(item))break;this._rearrange(event,item),this._trigger("change",event,this._uiHash());break}return this._contactContainers(event),$.ui.ddmanager&&$.ui.ddmanager.drag(this,event),this._trigger("sort",event,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(event,noPropagation){if(event){if($.ui.ddmanager&&!this.options.dropBehaviour&&$.ui.ddmanager.drop(this,event),this.options.revert){var that=this,cur=this.placeholder.offset(),axis=this.options.axis,animation={};axis&&"x"!==axis||(animation.left=cur.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),axis&&"y"!==axis||(animation.top=cur.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,$(this.helper).animate(animation,parseInt(this.options.revert,10)||500,function(){that._clear(event)})}else this._clear(event,noPropagation);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("deactivate",null,this._uiHash(this)),this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",null,this._uiHash(this)),this.containers[i].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),$.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?$(this.domPosition.prev).after(this.currentItem):$(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(o){var items=this._getItemsAsjQuery(o&&o.connected),str=[];return o=o||{},$(items).each(function(){var res=($(o.item||this).attr(o.attribute||"id")||"").match(o.expression||/(.+)[\-=_](.+)/);res&&str.push((o.key||res[1]+"[]")+"="+(o.key&&o.expression?res[1]:res[2]))}),!str.length&&o.key&&str.push(o.key+"="),str.join("&")},toArray:function(o){var items=this._getItemsAsjQuery(o&&o.connected),ret=[];return o=o||{},items.each(function(){ret.push($(o.item||this).attr(o.attribute||"id")||"")}),ret},_intersectsWith:function(item){var x1=this.positionAbs.left,x2=x1+this.helperProportions.width,y1=this.positionAbs.top,y2=y1+this.helperProportions.height,l=item.left,r=l+item.width,t=item.top,b=t+item.height,dyClick=this.offset.click.top,dxClick=this.offset.click.left,isOverElementHeight="x"===this.options.axis||y1+dyClick>t&&b>y1+dyClick,isOverElementWidth="y"===this.options.axis||x1+dxClick>l&&r>x1+dxClick,isOverElement=isOverElementHeight&&isOverElementWidth;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>item[this.floating?"width":"height"]?isOverElement:l<x1+this.helperProportions.width/2&&x2-this.helperProportions.width/2<r&&t<y1+this.helperProportions.height/2&&y2-this.helperProportions.height/2<b},_intersectsWithPointer:function(item){var isOverElementHeight="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,item.top,item.height),isOverElementWidth="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,item.left,item.width),isOverElement=isOverElementHeight&&isOverElementWidth,verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();return isOverElement?this.floating?horizontalDirection&&"right"===horizontalDirection||"down"===verticalDirection?2:1:verticalDirection&&("down"===verticalDirection?2:1):!1},_intersectsWithSides:function(item){var isOverBottomHalf=this._isOverAxis(this.positionAbs.top+this.offset.click.top,item.top+item.height/2,item.height),isOverRightHalf=this._isOverAxis(this.positionAbs.left+this.offset.click.left,item.left+item.width/2,item.width),verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();return this.floating&&horizontalDirection?"right"===horizontalDirection&&isOverRightHalf||"left"===horizontalDirection&&!isOverRightHalf:verticalDirection&&("down"===verticalDirection&&isOverBottomHalf||"up"===verticalDirection&&!isOverBottomHalf)},_getDragVerticalDirection:function(){var delta=this.positionAbs.top-this.lastPositionAbs.top;return 0!==delta&&(delta>0?"down":"up")},_getDragHorizontalDirection:function(){var delta=this.positionAbs.left-this.lastPositionAbs.left;return 0!==delta&&(delta>0?"right":"left")},refresh:function(event){return this._refreshItems(event),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var options=this.options;return options.connectWith.constructor===String?[options.connectWith]:options.connectWith},_getItemsAsjQuery:function(connected){function addItems(){items.push(this)}var i,j,cur,inst,items=[],queries=[],connectWith=this._connectWith();if(connectWith&&connected)for(i=connectWith.length-1;i>=0;i--)for(cur=$(connectWith[i],this.document[0]),j=cur.length-1;j>=0;j--)inst=$.data(cur[j],this.widgetFullName),inst&&inst!==this&&!inst.options.disabled&&queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element):$(inst.options.items,inst.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),inst]);for(queries.push([$.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):$(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=queries.length-1;i>=0;i--)queries[i][0].each(addItems);return $(items)},_removeCurrentsFromItems:function(){var list=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=$.grep(this.items,function(item){for(var j=0;j<list.length;j++)if(list[j]===item.item[0])return!1;return!0})},_refreshItems:function(event){this.items=[],this.containers=[this];var i,j,cur,inst,targetData,_queries,item,queriesLength,items=this.items,queries=[[$.isFunction(this.options.items)?this.options.items.call(this.element[0],event,{item:this.currentItem}):$(this.options.items,this.element),this]],connectWith=this._connectWith();if(connectWith&&this.ready)for(i=connectWith.length-1;i>=0;i--)for(cur=$(connectWith[i],this.document[0]),j=cur.length-1;j>=0;j--)inst=$.data(cur[j],this.widgetFullName),inst&&inst!==this&&!inst.options.disabled&&(queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element[0],event,{item:this.currentItem}):$(inst.options.items,inst.element),inst]),this.containers.push(inst));for(i=queries.length-1;i>=0;i--)for(targetData=queries[i][1],_queries=queries[i][0],j=0,queriesLength=_queries.length;queriesLength>j;j++)item=$(_queries[j]),item.data(this.widgetName+"-item",targetData),items.push({item:item,instance:targetData,width:0,height:0,left:0,top:0})},refreshPositions:function(fast){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,item,t,p;for(i=this.items.length-1;i>=0;i--)item=this.items[i],item.instance!==this.currentContainer&&this.currentContainer&&item.item[0]!==this.currentItem[0]||(t=this.options.toleranceElement?$(this.options.toleranceElement,item.item):item.item,fast||(item.width=t.outerWidth(),item.height=t.outerHeight()),p=t.offset(),item.left=p.left,item.top=p.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)p=this.containers[i].element.offset(),this.containers[i].containerCache.left=p.left,this.containers[i].containerCache.top=p.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(that){that=that||this;var className,o=that.options;o.placeholder&&o.placeholder.constructor!==String||(className=o.placeholder,o.placeholder={element:function(){var nodeName=that.currentItem[0].nodeName.toLowerCase(),element=$("<"+nodeName+">",that.document[0]).addClass(className||that.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===nodeName?that._createTrPlaceholder(that.currentItem.find("tr").eq(0),$("<tr>",that.document[0]).appendTo(element)):"tr"===nodeName?that._createTrPlaceholder(that.currentItem,element):"img"===nodeName&&element.attr("src",that.currentItem.attr("src")),className||element.css("visibility","hidden"),element},update:function(container,p){(!className||o.forcePlaceholderSize)&&(p.height()||p.height(that.currentItem.innerHeight()-parseInt(that.currentItem.css("paddingTop")||0,10)-parseInt(that.currentItem.css("paddingBottom")||0,10)),p.width()||p.width(that.currentItem.innerWidth()-parseInt(that.currentItem.css("paddingLeft")||0,10)-parseInt(that.currentItem.css("paddingRight")||0,10)))}}),that.placeholder=$(o.placeholder.element.call(that.element,that.currentItem)),that.currentItem.after(that.placeholder),o.placeholder.update(that,that.placeholder)},_createTrPlaceholder:function(sourceTr,targetTr){var that=this;sourceTr.children().each(function(){$("<td>&#160;</td>",that.document[0]).attr("colspan",$(this).attr("colspan")||1).appendTo(targetTr)})},_contactContainers:function(event){var i,j,dist,itemWithLeastDistance,posProperty,sizeProperty,cur,nearBottom,floating,axis,innermostContainer=null,innermostIndex=null;for(i=this.containers.length-1;i>=0;i--)if(!$.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(innermostContainer&&$.contains(this.containers[i].element[0],innermostContainer.element[0]))continue;innermostContainer=this.containers[i],innermostIndex=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",event,this._uiHash(this)),this.containers[i].containerCache.over=0);if(innermostContainer)if(1===this.containers.length)this.containers[innermostIndex].containerCache.over||(this.containers[innermostIndex]._trigger("over",event,this._uiHash(this)),this.containers[innermostIndex].containerCache.over=1);else{for(dist=1e4,itemWithLeastDistance=null,floating=innermostContainer.floating||this._isFloating(this.currentItem),posProperty=floating?"left":"top",sizeProperty=floating?"width":"height",axis=floating?"clientX":"clientY",j=this.items.length-1;j>=0;j--)$.contains(this.containers[innermostIndex].element[0],this.items[j].item[0])&&this.items[j].item[0]!==this.currentItem[0]&&(cur=this.items[j].item.offset()[posProperty],nearBottom=!1,event[axis]-cur>this.items[j][sizeProperty]/2&&(nearBottom=!0),Math.abs(event[axis]-cur)<dist&&(dist=Math.abs(event[axis]-cur),itemWithLeastDistance=this.items[j],this.direction=nearBottom?"up":"down"));if(!itemWithLeastDistance&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[innermostIndex])return void(this.currentContainer.containerCache.over||(this.containers[innermostIndex]._trigger("over",event,this._uiHash()),this.currentContainer.containerCache.over=1));itemWithLeastDistance?this._rearrange(event,itemWithLeastDistance,null,!0):this._rearrange(event,null,this.containers[innermostIndex].element,!0),this._trigger("change",event,this._uiHash()),this.containers[innermostIndex]._trigger("change",event,this._uiHash(this)),this.currentContainer=this.containers[innermostIndex],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[innermostIndex]._trigger("over",event,this._uiHash(this)),this.containers[innermostIndex].containerCache.over=1}},_createHelper:function(event){var o=this.options,helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event,this.currentItem])):"clone"===o.helper?this.currentItem.clone():this.currentItem;return helper.parents("body").length||$("parent"!==o.appendTo?o.appendTo:this.currentItem[0].parentNode)[0].appendChild(helper[0]),helper[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!helper[0].style.width||o.forceHelperSize)&&helper.width(this.currentItem.width()),(!helper[0].style.height||o.forceHelperSize)&&helper.height(this.currentItem.height()),helper},_adjustOffsetFromHelper:function(obj){"string"==typeof obj&&(obj=obj.split(" ")),$.isArray(obj)&&(obj={left:+obj[0],top:+obj[1]||0}),"left"in obj&&(this.offset.click.left=obj.left+this.margins.left),"right"in obj&&(this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left),"top"in obj&&(this.offset.click.top=obj.top+this.margins.top),"bottom"in obj&&(this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0])&&(po.left+=this.scrollParent.scrollLeft(),po.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&$.ui.ie)&&(po={top:0,left:0}),{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var p=this.currentItem.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var ce,co,over,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),("document"===o.containment||"window"===o.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===o.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===o.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(ce=$(o.containment)[0],co=$(o.containment).offset(),over="hidden"!==$(ce).css("overflow"),this.containment=[co.left+(parseInt($(ce).css("borderLeftWidth"),10)||0)+(parseInt($(ce).css("paddingLeft"),10)||0)-this.margins.left,co.top+(parseInt($(ce).css("borderTopWidth"),10)||0)+(parseInt($(ce).css("paddingTop"),10)||0)-this.margins.top,co.left+(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt($(ce).css("borderLeftWidth"),10)||0)-(parseInt($(ce).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,co.top+(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt($(ce).css("borderTopWidth"),10)||0)-(parseInt($(ce).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])
},_convertPositionTo:function(d,pos){pos||(pos=this.position);var mod="absolute"===d?1:-1,scroll="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName);return{top:pos.top+this.offset.relative.top*mod+this.offset.parent.top*mod-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop())*mod,left:pos.left+this.offset.relative.left*mod+this.offset.parent.left*mod-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())*mod}},_generatePosition:function(event){var top,left,o=this.options,pageX=event.pageX,pageY=event.pageY,scroll="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&$.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(event.pageX-this.offset.click.left<this.containment[0]&&(pageX=this.containment[0]+this.offset.click.left),event.pageY-this.offset.click.top<this.containment[1]&&(pageY=this.containment[1]+this.offset.click.top),event.pageX-this.offset.click.left>this.containment[2]&&(pageX=this.containment[2]+this.offset.click.left),event.pageY-this.offset.click.top>this.containment[3]&&(pageY=this.containment[3]+this.offset.click.top)),o.grid&&(top=this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1],pageY=this.containment?top-this.offset.click.top>=this.containment[1]&&top-this.offset.click.top<=this.containment[3]?top:top-this.offset.click.top>=this.containment[1]?top-o.grid[1]:top+o.grid[1]:top,left=this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0],pageX=this.containment?left-this.offset.click.left>=this.containment[0]&&left-this.offset.click.left<=this.containment[2]?left:left-this.offset.click.left>=this.containment[0]?left-o.grid[0]:left+o.grid[0]:left)),{top:pageY-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop()),left:pageX-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())}},_rearrange:function(event,i,a,hardRefresh){a?a[0].appendChild(this.placeholder[0]):i.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?i.item[0]:i.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var counter=this.counter;this._delay(function(){counter===this.counter&&this.refreshPositions(!hardRefresh)})},_clear:function(event,noPropagation){function delayEvent(type,instance,container){return function(event){container._trigger(type,event,instance._uiHash(instance))}}this.reverting=!1;var i,delayedTriggers=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!noPropagation&&delayedTriggers.push(function(event){this._trigger("receive",event,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||noPropagation||delayedTriggers.push(function(event){this._trigger("update",event,this._uiHash())}),this!==this.currentContainer&&(noPropagation||(delayedTriggers.push(function(event){this._trigger("remove",event,this._uiHash())}),delayedTriggers.push(function(c){return function(event){c._trigger("receive",event,this._uiHash(this))}}.call(this,this.currentContainer)),delayedTriggers.push(function(c){return function(event){c._trigger("update",event,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)noPropagation||delayedTriggers.push(delayEvent("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(delayedTriggers.push(delayEvent("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,noPropagation||this._trigger("beforeStop",event,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!noPropagation){for(i=0;i<delayedTriggers.length;i++)delayedTriggers[i].call(this,event);this._trigger("stop",event,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){$.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(_inst){var inst=_inst||this;return{helper:inst.helper,placeholder:inst.placeholder||$([]),position:inst.position,originalPosition:inst.originalPosition,offset:inst.positionAbs,item:inst.currentItem,sender:_inst?_inst.element:null}}}),$.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var options={},element=this.element;return $.each(["min","max","step"],function(i,option){var value=element.attr(option);void 0!==value&&value.length&&(options[option]=value)}),options},_events:{keydown:function(event){this._start(event)&&this._keydown(event)&&event.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(event){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",event)))},mousewheel:function(event,delta){if(delta){if(!this.spinning&&!this._start(event))return!1;this._spin((delta>0?1:-1)*this.options.step,event),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(event)},100),event.preventDefault()}},"mousedown .ui-spinner-button":function(event){function checkFocus(){var isActive=this.element[0]===this.document[0].activeElement;isActive||(this.element.focus(),this.previous=previous,this._delay(function(){this.previous=previous}))}var previous;previous=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),event.preventDefault(),checkFocus.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,checkFocus.call(this)}),this._start(event)!==!1&&this._repeat(null,$(event.currentTarget).hasClass("ui-spinner-up")?1:-1,event)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(event){return $(event.currentTarget).hasClass("ui-state-active")?this._start(event)===!1?!1:void this._repeat(null,$(event.currentTarget).hasClass("ui-spinner-up")?1:-1,event):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var uiSpinner=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=uiSpinner.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*uiSpinner.height())&&uiSpinner.height()>0&&uiSpinner.height(uiSpinner.height()),this.options.disabled&&this.disable()},_keydown:function(event){var options=this.options,keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.UP:return this._repeat(null,1,event),!0;case keyCode.DOWN:return this._repeat(null,-1,event),!0;case keyCode.PAGE_UP:return this._repeat(null,options.page,event),!0;case keyCode.PAGE_DOWN:return this._repeat(null,-options.page,event),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(event){return this.spinning||this._trigger("start",event)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(i,steps,event){i=i||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,steps,event)},i),this._spin(steps*this.options.step,event)},_spin:function(step,event){var value=this.value()||0;this.counter||(this.counter=1),value=this._adjustValue(value+step*this._increment(this.counter)),this.spinning&&this._trigger("spin",event,{value:value})===!1||(this._value(value),this.counter++)},_increment:function(i){var incremental=this.options.incremental;return incremental?$.isFunction(incremental)?incremental(i):Math.floor(i*i*i/5e4-i*i/500+17*i/200+1):1},_precision:function(){var precision=this._precisionOf(this.options.step);return null!==this.options.min&&(precision=Math.max(precision,this._precisionOf(this.options.min))),precision},_precisionOf:function(num){var str=num.toString(),decimal=str.indexOf(".");return-1===decimal?0:str.length-decimal-1},_adjustValue:function(value){var base,aboveMin,options=this.options;return base=null!==options.min?options.min:0,aboveMin=value-base,aboveMin=Math.round(aboveMin/options.step)*options.step,value=base+aboveMin,value=parseFloat(value.toFixed(this._precision())),null!==options.max&&value>options.max?options.max:null!==options.min&&value<options.min?options.min:value},_stop:function(event){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",event))},_setOption:function(key,value){if("culture"===key||"numberFormat"===key){var prevValue=this._parse(this.element.val());return this.options[key]=value,void this.element.val(this._format(prevValue))}("max"===key||"min"===key||"step"===key)&&"string"==typeof value&&(value=this._parse(value)),"icons"===key&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(value.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(value.down)),this._super(key,value),"disabled"===key&&(this.widget().toggleClass("ui-state-disabled",!!value),this.element.prop("disabled",!!value),this.buttons.button(value?"disable":"enable"))},_setOptions:spinner_modifier(function(options){this._super(options)}),_parse:function(val){return"string"==typeof val&&""!==val&&(val=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(val,10,this.options.culture):+val),""===val||isNaN(val)?null:val},_format:function(value){return""===value?"":window.Globalize&&this.options.numberFormat?Globalize.format(value,this.options.numberFormat,this.options.culture):value},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var value=this.value();return null===value?!1:value===this._adjustValue(value)},_value:function(value,allowAny){var parsed;""!==value&&(parsed=this._parse(value),null!==parsed&&(allowAny||(parsed=this._adjustValue(parsed)),value=this._format(parsed))),this.element.val(value),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:spinner_modifier(function(steps){this._stepUp(steps)}),_stepUp:function(steps){this._start()&&(this._spin((steps||1)*this.options.step),this._stop())},stepDown:spinner_modifier(function(steps){this._stepDown(steps)}),_stepDown:function(steps){this._start()&&(this._spin((steps||1)*-this.options.step),this._stop())},pageUp:spinner_modifier(function(pages){this._stepUp((pages||1)*this.options.page)}),pageDown:spinner_modifier(function(pages){this._stepDown((pages||1)*this.options.page)}),value:function(newVal){return arguments.length?void spinner_modifier(this._value).call(this,newVal):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),$.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var rhash=/#.*$/;return function(anchor){var anchorUrl,locationUrl;anchor=anchor.cloneNode(!1),anchorUrl=anchor.href.replace(rhash,""),locationUrl=location.href.replace(rhash,"");try{anchorUrl=decodeURIComponent(anchorUrl)}catch(error){}try{locationUrl=decodeURIComponent(locationUrl)}catch(error){}return anchor.hash.length>1&&anchorUrl===locationUrl}}(),_create:function(){var that=this,options=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",options.collapsible),this._processTabs(),options.active=this._initialActive(),$.isArray(options.disabled)&&(options.disabled=$.unique(options.disabled.concat($.map(this.tabs.filter(".ui-state-disabled"),function(li){return that.tabs.index(li)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(options.active):$(),this._refresh(),this.active.length&&this.load(options.active)},_initialActive:function(){var active=this.options.active,collapsible=this.options.collapsible,locationHash=location.hash.substring(1);return null===active&&(locationHash&&this.tabs.each(function(i,tab){return $(tab).attr("aria-controls")===locationHash?(active=i,!1):void 0}),null===active&&(active=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===active||-1===active)&&(active=this.tabs.length?0:!1)),active!==!1&&(active=this.tabs.index(this.tabs.eq(active)),-1===active&&(active=collapsible?!1:0)),!collapsible&&active===!1&&this.anchors.length&&(active=0),active},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):$()}},_tabKeydown:function(event){var focusedTab=$(this.document[0].activeElement).closest("li"),selectedIndex=this.tabs.index(focusedTab),goingForward=!0;if(!this._handlePageNav(event)){switch(event.keyCode){case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:selectedIndex++;break;case $.ui.keyCode.UP:case $.ui.keyCode.LEFT:goingForward=!1,selectedIndex--;break;case $.ui.keyCode.END:selectedIndex=this.anchors.length-1;break;case $.ui.keyCode.HOME:selectedIndex=0;break;case $.ui.keyCode.SPACE:return event.preventDefault(),clearTimeout(this.activating),void this._activate(selectedIndex);case $.ui.keyCode.ENTER:return event.preventDefault(),clearTimeout(this.activating),void this._activate(selectedIndex===this.options.active?!1:selectedIndex);default:return}event.preventDefault(),clearTimeout(this.activating),selectedIndex=this._focusNextTab(selectedIndex,goingForward),event.ctrlKey||event.metaKey||(focusedTab.attr("aria-selected","false"),this.tabs.eq(selectedIndex).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",selectedIndex)},this.delay))}},_panelKeydown:function(event){this._handlePageNav(event)||event.ctrlKey&&event.keyCode===$.ui.keyCode.UP&&(event.preventDefault(),this.active.focus())},_handlePageNav:function(event){return event.altKey&&event.keyCode===$.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):event.altKey&&event.keyCode===$.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(index,goingForward){function constrain(){return index>lastTabIndex&&(index=0),0>index&&(index=lastTabIndex),index}for(var lastTabIndex=this.tabs.length-1;-1!==$.inArray(constrain(),this.options.disabled);)index=goingForward?index+1:index-1;return index},_focusNextTab:function(index,goingForward){return index=this._findNextTab(index,goingForward),this.tabs.eq(index).focus(),index},_setOption:function(key,value){return"active"===key?void this._activate(value):"disabled"===key?void this._setupDisabled(value):(this._super(key,value),"collapsible"===key&&(this.element.toggleClass("ui-tabs-collapsible",value),value||this.options.active!==!1||this._activate(0)),"event"===key&&this._setupEvents(value),void("heightStyle"===key&&this._setupHeightStyle(value)))},_sanitizeSelector:function(hash){return hash?hash.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var options=this.options,lis=this.tablist.children(":has(a[href])");options.disabled=$.map(lis.filter(".ui-state-disabled"),function(tab){return lis.index(tab)}),this._processTabs(),options.active!==!1&&this.anchors.length?this.active.length&&!$.contains(this.tablist[0],this.active[0])?this.tabs.length===options.disabled.length?(options.active=!1,this.active=$()):this._activate(this._findNextTab(Math.max(0,options.active-1),!1)):options.active=this.tabs.index(this.active):(options.active=!1,this.active=$()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var that=this,prevTabs=this.tabs,prevAnchors=this.anchors,prevPanels=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(event){$(this).is(".ui-state-disabled")&&event.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){$(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return $("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=$(),this.anchors.each(function(i,anchor){var selector,panel,panelId,anchorId=$(anchor).uniqueId().attr("id"),tab=$(anchor).closest("li"),originalAriaControls=tab.attr("aria-controls");that._isLocal(anchor)?(selector=anchor.hash,panelId=selector.substring(1),panel=that.element.find(that._sanitizeSelector(selector))):(panelId=tab.attr("aria-controls")||$({}).uniqueId()[0].id,selector="#"+panelId,panel=that.element.find(selector),panel.length||(panel=that._createPanel(panelId),panel.insertAfter(that.panels[i-1]||that.tablist)),panel.attr("aria-live","polite")),panel.length&&(that.panels=that.panels.add(panel)),originalAriaControls&&tab.data("ui-tabs-aria-controls",originalAriaControls),tab.attr({"aria-controls":panelId,"aria-labelledby":anchorId}),panel.attr("aria-labelledby",anchorId)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),prevTabs&&(this._off(prevTabs.not(this.tabs)),this._off(prevAnchors.not(this.anchors)),this._off(prevPanels.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(id){return $("<div>").attr("id",id).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(disabled){$.isArray(disabled)&&(disabled.length?disabled.length===this.anchors.length&&(disabled=!0):disabled=!1);for(var li,i=0;li=this.tabs[i];i++)disabled===!0||-1!==$.inArray(i,disabled)?$(li).addClass("ui-state-disabled").attr("aria-disabled","true"):$(li).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=disabled},_setupEvents:function(event){var events={};event&&$.each(event.split(" "),function(index,eventName){events[eventName]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(event){event.preventDefault()}}),this._on(this.anchors,events),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(heightStyle){var maxHeight,parent=this.element.parent();"fill"===heightStyle?(maxHeight=parent.height(),maxHeight-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var elem=$(this),position=elem.css("position");"absolute"!==position&&"fixed"!==position&&(maxHeight-=elem.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){maxHeight-=$(this).outerHeight(!0)}),this.panels.each(function(){$(this).height(Math.max(0,maxHeight-$(this).innerHeight()+$(this).height()))}).css("overflow","auto")):"auto"===heightStyle&&(maxHeight=0,this.panels.each(function(){maxHeight=Math.max(maxHeight,$(this).height("").height())}).height(maxHeight))},_eventHandler:function(event){var options=this.options,active=this.active,anchor=$(event.currentTarget),tab=anchor.closest("li"),clickedIsActive=tab[0]===active[0],collapsing=clickedIsActive&&options.collapsible,toShow=collapsing?$():this._getPanelForTab(tab),toHide=active.length?this._getPanelForTab(active):$(),eventData={oldTab:active,oldPanel:toHide,newTab:collapsing?$():tab,newPanel:toShow};event.preventDefault(),tab.hasClass("ui-state-disabled")||tab.hasClass("ui-tabs-loading")||this.running||clickedIsActive&&!options.collapsible||this._trigger("beforeActivate",event,eventData)===!1||(options.active=collapsing?!1:this.tabs.index(tab),this.active=clickedIsActive?$():tab,this.xhr&&this.xhr.abort(),toHide.length||toShow.length||$.error("jQuery UI Tabs: Mismatching fragment identifier."),toShow.length&&this.load(this.tabs.index(tab),event),this._toggle(event,eventData))},_toggle:function(event,eventData){function complete(){that.running=!1,that._trigger("activate",event,eventData)}function show(){eventData.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),toShow.length&&that.options.show?that._show(toShow,that.options.show,complete):(toShow.show(),complete())}var that=this,toShow=eventData.newPanel,toHide=eventData.oldPanel;this.running=!0,toHide.length&&this.options.hide?this._hide(toHide,this.options.hide,function(){eventData.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),show()}):(eventData.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),toHide.hide(),show()),toHide.attr("aria-hidden","true"),eventData.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),toShow.length&&toHide.length?eventData.oldTab.attr("tabIndex",-1):toShow.length&&this.tabs.filter(function(){return 0===$(this).attr("tabIndex")}).attr("tabIndex",-1),toShow.attr("aria-hidden","false"),eventData.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(index){var anchor,active=this._findActive(index);active[0]!==this.active[0]&&(active.length||(active=this.active),anchor=active.find(".ui-tabs-anchor")[0],this._eventHandler({target:anchor,currentTarget:anchor,preventDefault:$.noop}))},_findActive:function(index){return index===!1?$():this.tabs.eq(index)},_getIndex:function(index){return"string"==typeof index&&(index=this.anchors.index(this.anchors.filter("[href$='"+index+"']"))),index},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){$.data(this,"ui-tabs-destroy")?$(this).remove():$(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var li=$(this),prev=li.data("ui-tabs-aria-controls");prev?li.attr("aria-controls",prev).removeData("ui-tabs-aria-controls"):li.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(index){var disabled=this.options.disabled;disabled!==!1&&(void 0===index?disabled=!1:(index=this._getIndex(index),disabled=$.isArray(disabled)?$.map(disabled,function(num){return num!==index?num:null}):$.map(this.tabs,function(li,num){return num!==index?num:null})),this._setupDisabled(disabled))},disable:function(index){var disabled=this.options.disabled;if(disabled!==!0){if(void 0===index)disabled=!0;else{if(index=this._getIndex(index),-1!==$.inArray(index,disabled))return;disabled=$.isArray(disabled)?$.merge([index],disabled).sort():[index]}this._setupDisabled(disabled)}},load:function(index,event){index=this._getIndex(index);var that=this,tab=this.tabs.eq(index),anchor=tab.find(".ui-tabs-anchor"),panel=this._getPanelForTab(tab),eventData={tab:tab,panel:panel},complete=function(jqXHR,status){"abort"===status&&that.panels.stop(!1,!0),tab.removeClass("ui-tabs-loading"),panel.removeAttr("aria-busy"),jqXHR===that.xhr&&delete that.xhr};this._isLocal(anchor[0])||(this.xhr=$.ajax(this._ajaxSettings(anchor,event,eventData)),this.xhr&&"canceled"!==this.xhr.statusText&&(tab.addClass("ui-tabs-loading"),panel.attr("aria-busy","true"),this.xhr.done(function(response,status,jqXHR){setTimeout(function(){panel.html(response),that._trigger("load",event,eventData),complete(jqXHR,status)},1)}).fail(function(jqXHR,status){setTimeout(function(){complete(jqXHR,status)},1)})))},_ajaxSettings:function(anchor,event,eventData){var that=this;return{url:anchor.attr("href"),beforeSend:function(jqXHR,settings){return that._trigger("beforeLoad",event,$.extend({jqXHR:jqXHR,ajaxSettings:settings},eventData))}}},_getPanelForTab:function(tab){var id=$(tab).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+id))}}),$.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var title=$(this).attr("title")||"";return $("<a>").text(title).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(elem,id){var describedby=(elem.attr("aria-describedby")||"").split(/\s+/);describedby.push(id),elem.data("ui-tooltip-id",id).attr("aria-describedby",$.trim(describedby.join(" ")))},_removeDescribedBy:function(elem){var id=elem.data("ui-tooltip-id"),describedby=(elem.attr("aria-describedby")||"").split(/\s+/),index=$.inArray(id,describedby);-1!==index&&describedby.splice(index,1),elem.removeData("ui-tooltip-id"),describedby=$.trim(describedby.join(" ")),describedby?elem.attr("aria-describedby",describedby):elem.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=$("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(key,value){var that=this;return"disabled"===key?(this[value?"_disable":"_enable"](),void(this.options[key]=value)):(this._super(key,value),void("content"===key&&$.each(this.tooltips,function(id,tooltipData){that._updateContent(tooltipData.element)})))},_disable:function(){var that=this;$.each(this.tooltips,function(id,tooltipData){var event=$.Event("blur");event.target=event.currentTarget=tooltipData.element[0],that.close(event,!0)}),this.element.find(this.options.items).addBack().each(function(){var element=$(this);element.is("[title]")&&element.data("ui-tooltip-title",element.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var element=$(this);element.data("ui-tooltip-title")&&element.attr("title",element.data("ui-tooltip-title"))})},open:function(event){var that=this,target=$(event?event.target:this.element).closest(this.options.items);target.length&&!target.data("ui-tooltip-id")&&(target.attr("title")&&target.data("ui-tooltip-title",target.attr("title")),target.data("ui-tooltip-open",!0),event&&"mouseover"===event.type&&target.parents().each(function(){var blurEvent,parent=$(this);parent.data("ui-tooltip-open")&&(blurEvent=$.Event("blur"),blurEvent.target=blurEvent.currentTarget=this,that.close(blurEvent,!0)),parent.attr("title")&&(parent.uniqueId(),that.parents[this.id]={element:this,title:parent.attr("title")},parent.attr("title",""))}),this._registerCloseHandlers(event,target),this._updateContent(target,event))},_updateContent:function(target,event){var content,contentOption=this.options.content,that=this,eventType=event?event.type:null;return"string"==typeof contentOption?this._open(event,target,contentOption):(content=contentOption.call(target[0],function(response){that._delay(function(){target.data("ui-tooltip-open")&&(event&&(event.type=eventType),this._open(event,target,response))})}),void(content&&this._open(event,target,content)))},_open:function(event,target,content){function position(event){positionOption.of=event,tooltip.is(":hidden")||tooltip.position(positionOption)}var tooltipData,tooltip,delayedShow,a11yContent,positionOption=$.extend({},this.options.position);if(content){if(tooltipData=this._find(target))return void tooltipData.tooltip.find(".ui-tooltip-content").html(content);target.is("[title]")&&(event&&"mouseover"===event.type?target.attr("title",""):target.removeAttr("title")),tooltipData=this._tooltip(target),tooltip=tooltipData.tooltip,this._addDescribedBy(target,tooltip.attr("id")),tooltip.find(".ui-tooltip-content").html(content),this.liveRegion.children().hide(),content.clone?(a11yContent=content.clone(),a11yContent.removeAttr("id").find("[id]").removeAttr("id")):a11yContent=content,$("<div>").html(a11yContent).appendTo(this.liveRegion),this.options.track&&event&&/^mouse/.test(event.type)?(this._on(this.document,{mousemove:position}),position(event)):tooltip.position($.extend({of:target},this.options.position)),tooltip.hide(),this._show(tooltip,this.options.show),this.options.show&&this.options.show.delay&&(delayedShow=this.delayedShow=setInterval(function(){tooltip.is(":visible")&&(position(positionOption.of),clearInterval(delayedShow))},$.fx.interval)),this._trigger("open",event,{tooltip:tooltip})}},_registerCloseHandlers:function(event,target){var events={keyup:function(event){if(event.keyCode===$.ui.keyCode.ESCAPE){var fakeEvent=$.Event(event);
fakeEvent.currentTarget=target[0],this.close(fakeEvent,!0)}}};target[0]!==this.element[0]&&(events.remove=function(){this._removeTooltip(this._find(target).tooltip)}),event&&"mouseover"!==event.type||(events.mouseleave="close"),event&&"focusin"!==event.type||(events.focusout="close"),this._on(!0,target,events)},close:function(event){var tooltip,that=this,target=$(event?event.currentTarget:this.element),tooltipData=this._find(target);return tooltipData?(tooltip=tooltipData.tooltip,void(tooltipData.closing||(clearInterval(this.delayedShow),target.data("ui-tooltip-title")&&!target.attr("title")&&target.attr("title",target.data("ui-tooltip-title")),this._removeDescribedBy(target),tooltipData.hiding=!0,tooltip.stop(!0),this._hide(tooltip,this.options.hide,function(){that._removeTooltip($(this))}),target.removeData("ui-tooltip-open"),this._off(target,"mouseleave focusout keyup"),target[0]!==this.element[0]&&this._off(target,"remove"),this._off(this.document,"mousemove"),event&&"mouseleave"===event.type&&$.each(this.parents,function(id,parent){$(parent.element).attr("title",parent.title),delete that.parents[id]}),tooltipData.closing=!0,this._trigger("close",event,{tooltip:tooltip}),tooltipData.hiding||(tooltipData.closing=!1)))):void target.removeData("ui-tooltip-open")},_tooltip:function(element){var tooltip=$("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),id=tooltip.uniqueId().attr("id");return $("<div>").addClass("ui-tooltip-content").appendTo(tooltip),tooltip.appendTo(this.document[0].body),this.tooltips[id]={element:element,tooltip:tooltip}},_find:function(target){var id=target.data("ui-tooltip-id");return id?this.tooltips[id]:null},_removeTooltip:function(tooltip){tooltip.remove(),delete this.tooltips[tooltip.attr("id")]},_destroy:function(){var that=this;$.each(this.tooltips,function(id,tooltipData){var event=$.Event("blur"),element=tooltipData.element;event.target=event.currentTarget=element[0],that.close(event,!0),$("#"+id).remove(),element.data("ui-tooltip-title")&&(element.attr("title")||element.attr("title",element.data("ui-tooltip-title")),element.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})}),+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.affix"),options="object"==typeof option&&option;data||$this.data("bs.affix",data=new Affix(this,options)),"string"==typeof option&&data[option]()})}var Affix=function(element,options){this.options=$.extend({},Affix.DEFAULTS,options),this.$target=$(this.options.target).on("scroll.bs.affix.data-api",$.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",$.proxy(this.checkPositionWithEventLoop,this)),this.$element=$(element),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};Affix.VERSION="3.3.0",Affix.RESET="affix affix-top affix-bottom",Affix.DEFAULTS={offset:0,target:window},Affix.prototype.getState=function(scrollHeight,height,offsetTop,offsetBottom){var scrollTop=this.$target.scrollTop(),position=this.$element.offset(),targetHeight=this.$target.height();if(null!=offsetTop&&"top"==this.affixed)return offsetTop>scrollTop?"top":!1;if("bottom"==this.affixed)return null!=offsetTop?scrollTop+this.unpin<=position.top?!1:"bottom":scrollHeight-offsetBottom>=scrollTop+targetHeight?!1:"bottom";var initializing=null==this.affixed,colliderTop=initializing?scrollTop:position.top,colliderHeight=initializing?targetHeight:height;return null!=offsetTop&&offsetTop>=colliderTop?"top":null!=offsetBottom&&colliderTop+colliderHeight>=scrollHeight-offsetBottom?"bottom":!1},Affix.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(Affix.RESET).addClass("affix");var scrollTop=this.$target.scrollTop(),position=this.$element.offset();return this.pinnedOffset=position.top-scrollTop},Affix.prototype.checkPositionWithEventLoop=function(){setTimeout($.proxy(this.checkPosition,this),1)},Affix.prototype.checkPosition=function(){if(this.$element.is(":visible")){var height=this.$element.height(),offset=this.options.offset,offsetTop=offset.top,offsetBottom=offset.bottom,scrollHeight=$("body").height();"object"!=typeof offset&&(offsetBottom=offsetTop=offset),"function"==typeof offsetTop&&(offsetTop=offset.top(this.$element)),"function"==typeof offsetBottom&&(offsetBottom=offset.bottom(this.$element));var affix=this.getState(scrollHeight,height,offsetTop,offsetBottom);if(this.affixed!=affix){null!=this.unpin&&this.$element.css("top","");var affixType="affix"+(affix?"-"+affix:""),e=$.Event(affixType+".bs.affix");if(this.$element.trigger(e),e.isDefaultPrevented())return;this.affixed=affix,this.unpin="bottom"==affix?this.getPinnedOffset():null,this.$element.removeClass(Affix.RESET).addClass(affixType).trigger(affixType.replace("affix","affixed")+".bs.affix")}"bottom"==affix&&this.$element.offset({top:scrollHeight-height-offsetBottom})}};var old=$.fn.affix;$.fn.affix=Plugin,$.fn.affix.Constructor=Affix,$.fn.affix.noConflict=function(){return $.fn.affix=old,this},$(window).on("load",function(){$('[data-spy="affix"]').each(function(){var $spy=$(this),data=$spy.data();data.offset=data.offset||{},null!=data.offsetBottom&&(data.offset.bottom=data.offsetBottom),null!=data.offsetTop&&(data.offset.top=data.offsetTop),Plugin.call($spy,data)})})}(jQuery),+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.alert");data||$this.data("bs.alert",data=new Alert(this)),"string"==typeof option&&data[option].call($this)})}var dismiss='[data-dismiss="alert"]',Alert=function(el){$(el).on("click",dismiss,this.close)};Alert.VERSION="3.3.0",Alert.TRANSITION_DURATION=150,Alert.prototype.close=function(e){function removeElement(){$parent.detach().trigger("closed.bs.alert").remove()}var $this=$(this),selector=$this.attr("data-target");selector||(selector=$this.attr("href"),selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,""));var $parent=$(selector);e&&e.preventDefault(),$parent.length||($parent=$this.closest(".alert")),$parent.trigger(e=$.Event("close.bs.alert")),e.isDefaultPrevented()||($parent.removeClass("in"),$.support.transition&&$parent.hasClass("fade")?$parent.one("bsTransitionEnd",removeElement).emulateTransitionEnd(Alert.TRANSITION_DURATION):removeElement())};var old=$.fn.alert;$.fn.alert=Plugin,$.fn.alert.Constructor=Alert,$.fn.alert.noConflict=function(){return $.fn.alert=old,this},$(document).on("click.bs.alert.data-api",dismiss,Alert.prototype.close)}(jQuery),+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.button"),options="object"==typeof option&&option;data||$this.data("bs.button",data=new Button(this,options)),"toggle"==option?data.toggle():option&&data.setState(option)})}var Button=function(element,options){this.$element=$(element),this.options=$.extend({},Button.DEFAULTS,options),this.isLoading=!1};Button.VERSION="3.3.0",Button.DEFAULTS={loadingText:"loading..."},Button.prototype.setState=function(state){var d="disabled",$el=this.$element,val=$el.is("input")?"val":"html",data=$el.data();state+="Text",null==data.resetText&&$el.data("resetText",$el[val]()),setTimeout($.proxy(function(){$el[val](null==data[state]?this.options[state]:data[state]),"loadingText"==state?(this.isLoading=!0,$el.addClass(d).attr(d,d)):this.isLoading&&(this.isLoading=!1,$el.removeClass(d).removeAttr(d))},this),0)},Button.prototype.toggle=function(){var changed=!0,$parent=this.$element.closest('[data-toggle="buttons"]');if($parent.length){var $input=this.$element.find("input");"radio"==$input.prop("type")&&($input.prop("checked")&&this.$element.hasClass("active")?changed=!1:$parent.find(".active").removeClass("active")),changed&&$input.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));changed&&this.$element.toggleClass("active")};var old=$.fn.button;$.fn.button=Plugin,$.fn.button.Constructor=Button,$.fn.button.noConflict=function(){return $.fn.button=old,this},$(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var $btn=$(e.target);$btn.hasClass("btn")||($btn=$btn.closest(".btn")),Plugin.call($btn,"toggle"),e.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){$(e.target).closest(".btn").toggleClass("focus","focus"==e.type)})}(jQuery),+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.carousel"),options=$.extend({},Carousel.DEFAULTS,$this.data(),"object"==typeof option&&option),action="string"==typeof option?option:options.slide;data||$this.data("bs.carousel",data=new Carousel(this,options)),"number"==typeof option?data.to(option):action?data[action]():options.interval&&data.pause().cycle()})}var Carousel=function(element,options){this.$element=$(element),this.$indicators=this.$element.find(".carousel-indicators"),this.options=options,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",$.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",$.proxy(this.pause,this)).on("mouseleave.bs.carousel",$.proxy(this.cycle,this))};Carousel.VERSION="3.3.0",Carousel.TRANSITION_DURATION=600,Carousel.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},Carousel.prototype.keydown=function(e){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()},Carousel.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval)),this},Carousel.prototype.getItemIndex=function(item){return this.$items=item.parent().children(".item"),this.$items.index(item||this.$active)},Carousel.prototype.getItemForDirection=function(direction,active){var delta="prev"==direction?-1:1,activeIndex=this.getItemIndex(active),itemIndex=(activeIndex+delta)%this.$items.length;return this.$items.eq(itemIndex)},Carousel.prototype.to=function(pos){var that=this,activeIndex=this.getItemIndex(this.$active=this.$element.find(".item.active"));return pos>this.$items.length-1||0>pos?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){that.to(pos)}):activeIndex==pos?this.pause().cycle():this.slide(pos>activeIndex?"next":"prev",this.$items.eq(pos))},Carousel.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&$.support.transition&&(this.$element.trigger($.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},Carousel.prototype.next=function(){return this.sliding?void 0:this.slide("next")},Carousel.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},Carousel.prototype.slide=function(type,next){var $active=this.$element.find(".item.active"),$next=next||this.getItemForDirection(type,$active),isCycling=this.interval,direction="next"==type?"left":"right",fallback="next"==type?"first":"last",that=this;if(!$next.length){if(!this.options.wrap)return;$next=this.$element.find(".item")[fallback]()}if($next.hasClass("active"))return this.sliding=!1;var relatedTarget=$next[0],slideEvent=$.Event("slide.bs.carousel",{relatedTarget:relatedTarget,direction:direction});if(this.$element.trigger(slideEvent),!slideEvent.isDefaultPrevented()){if(this.sliding=!0,isCycling&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var $nextIndicator=$(this.$indicators.children()[this.getItemIndex($next)]);$nextIndicator&&$nextIndicator.addClass("active")}var slidEvent=$.Event("slid.bs.carousel",{relatedTarget:relatedTarget,direction:direction});return $.support.transition&&this.$element.hasClass("slide")?($next.addClass(type),$next[0].offsetWidth,$active.addClass(direction),$next.addClass(direction),$active.one("bsTransitionEnd",function(){$next.removeClass([type,direction].join(" ")).addClass("active"),$active.removeClass(["active",direction].join(" ")),that.sliding=!1,setTimeout(function(){that.$element.trigger(slidEvent)},0)}).emulateTransitionEnd(Carousel.TRANSITION_DURATION)):($active.removeClass("active"),$next.addClass("active"),this.sliding=!1,this.$element.trigger(slidEvent)),isCycling&&this.cycle(),this}};var old=$.fn.carousel;$.fn.carousel=Plugin,$.fn.carousel.Constructor=Carousel,$.fn.carousel.noConflict=function(){return $.fn.carousel=old,this};var clickHandler=function(e){var href,$this=$(this),$target=$($this.attr("data-target")||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,""));if($target.hasClass("carousel")){var options=$.extend({},$target.data(),$this.data()),slideIndex=$this.attr("data-slide-to");slideIndex&&(options.interval=!1),Plugin.call($target,options),slideIndex&&$target.data("bs.carousel").to(slideIndex),e.preventDefault()}};$(document).on("click.bs.carousel.data-api","[data-slide]",clickHandler).on("click.bs.carousel.data-api","[data-slide-to]",clickHandler),$(window).on("load",function(){$('[data-ride="carousel"]').each(function(){var $carousel=$(this);Plugin.call($carousel,$carousel.data())})})}(jQuery),+function($){"use strict";function getTargetFromTrigger($trigger){var href,target=$trigger.attr("data-target")||(href=$trigger.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,"");return $(target)}function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.collapse"),options=$.extend({},Collapse.DEFAULTS,$this.data(),"object"==typeof option&&option);!data&&options.toggle&&"show"==option&&(options.toggle=!1),data||$this.data("bs.collapse",data=new Collapse(this,options)),"string"==typeof option&&data[option]()})}var Collapse=function(element,options){this.$element=$(element),this.options=$.extend({},Collapse.DEFAULTS,options),this.$trigger=$(this.options.trigger).filter('[href="#'+element.id+'"], [data-target="#'+element.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};Collapse.VERSION="3.3.0",Collapse.TRANSITION_DURATION=350,Collapse.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},Collapse.prototype.dimension=function(){var hasWidth=this.$element.hasClass("width");return hasWidth?"width":"height"},Collapse.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var activesData,actives=this.$parent&&this.$parent.find("> .panel").children(".in, .collapsing");if(!(actives&&actives.length&&(activesData=actives.data("bs.collapse"),activesData&&activesData.transitioning))){var startEvent=$.Event("show.bs.collapse");if(this.$element.trigger(startEvent),!startEvent.isDefaultPrevented()){actives&&actives.length&&(Plugin.call(actives,"hide"),activesData||actives.data("bs.collapse",null));var dimension=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[dimension](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var complete=function(){this.$element.removeClass("collapsing").addClass("collapse in")[dimension](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!$.support.transition)return complete.call(this);var scrollSize=$.camelCase(["scroll",dimension].join("-"));this.$element.one("bsTransitionEnd",$.proxy(complete,this)).emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])}}}},Collapse.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var startEvent=$.Event("hide.bs.collapse");if(this.$element.trigger(startEvent),!startEvent.isDefaultPrevented()){var dimension=this.dimension();this.$element[dimension](this.$element[dimension]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var complete=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return $.support.transition?void this.$element[dimension](0).one("bsTransitionEnd",$.proxy(complete,this)).emulateTransitionEnd(Collapse.TRANSITION_DURATION):complete.call(this)}}},Collapse.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},Collapse.prototype.getParent=function(){return $(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each($.proxy(function(i,element){var $element=$(element);this.addAriaAndCollapsedClass(getTargetFromTrigger($element),$element)},this)).end()},Collapse.prototype.addAriaAndCollapsedClass=function($element,$trigger){var isOpen=$element.hasClass("in");$element.attr("aria-expanded",isOpen),$trigger.toggleClass("collapsed",!isOpen).attr("aria-expanded",isOpen)};var old=$.fn.collapse;$.fn.collapse=Plugin,$.fn.collapse.Constructor=Collapse,$.fn.collapse.noConflict=function(){return $.fn.collapse=old,this},$(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var $this=$(this);$this.attr("data-target")||e.preventDefault();var $target=getTargetFromTrigger($this),data=$target.data("bs.collapse"),option=data?"toggle":$.extend({},$this.data(),{trigger:this});Plugin.call($target,option)})}(jQuery),+function($){"use strict";function clearMenus(e){e&&3===e.which||($(backdrop).remove(),$(toggle).each(function(){var $this=$(this),$parent=getParent($this),relatedTarget={relatedTarget:this};$parent.hasClass("open")&&($parent.trigger(e=$.Event("hide.bs.dropdown",relatedTarget)),e.isDefaultPrevented()||($this.attr("aria-expanded","false"),$parent.removeClass("open").trigger("hidden.bs.dropdown",relatedTarget)))}))}function getParent($this){var selector=$this.attr("data-target");selector||(selector=$this.attr("href"),selector=selector&&/#[A-Za-z]/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,""));var $parent=selector&&$(selector);return $parent&&$parent.length?$parent:$this.parent()}function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.dropdown");data||$this.data("bs.dropdown",data=new Dropdown(this)),"string"==typeof option&&data[option].call($this)})}var backdrop=".dropdown-backdrop",toggle='[data-toggle="dropdown"]',Dropdown=function(element){$(element).on("click.bs.dropdown",this.toggle)};Dropdown.VERSION="3.3.0",Dropdown.prototype.toggle=function(e){var $this=$(this);if(!$this.is(".disabled, :disabled")){var $parent=getParent($this),isActive=$parent.hasClass("open");if(clearMenus(),!isActive){"ontouchstart"in document.documentElement&&!$parent.closest(".navbar-nav").length&&$('<div class="dropdown-backdrop"/>').insertAfter($(this)).on("click",clearMenus);var relatedTarget={relatedTarget:this};if($parent.trigger(e=$.Event("show.bs.dropdown",relatedTarget)),e.isDefaultPrevented())return;$this.trigger("focus").attr("aria-expanded","true"),$parent.toggleClass("open").trigger("shown.bs.dropdown",relatedTarget)}return!1}},Dropdown.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)){var $this=$(this);if(e.preventDefault(),e.stopPropagation(),!$this.is(".disabled, :disabled")){var $parent=getParent($this),isActive=$parent.hasClass("open");if(!isActive&&27!=e.which||isActive&&27==e.which)return 27==e.which&&$parent.find(toggle).trigger("focus"),$this.trigger("click");var desc=" li:not(.divider):visible a",$items=$parent.find('[role="menu"]'+desc+', [role="listbox"]'+desc);if($items.length){var index=$items.index(e.target);38==e.which&&index>0&&index--,40==e.which&&index<$items.length-1&&index++,~index||(index=0),$items.eq(index).trigger("focus")}}}};var old=$.fn.dropdown;$.fn.dropdown=Plugin,$.fn.dropdown.Constructor=Dropdown,$.fn.dropdown.noConflict=function(){return $.fn.dropdown=old,this},$(document).on("click.bs.dropdown.data-api",clearMenus).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",toggle,Dropdown.prototype.toggle).on("keydown.bs.dropdown.data-api",toggle,Dropdown.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',Dropdown.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',Dropdown.prototype.keydown)}(jQuery),+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.tab");data||$this.data("bs.tab",data=new Tab(this)),"string"==typeof option&&data[option]()})}var Tab=function(element){this.element=$(element)};Tab.VERSION="3.3.0",Tab.TRANSITION_DURATION=150,Tab.prototype.show=function(){var $this=this.element,$ul=$this.closest("ul:not(.dropdown-menu)"),selector=$this.data("target");if(selector||(selector=$this.attr("href"),selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")),!$this.parent("li").hasClass("active")){var $previous=$ul.find(".active:last a"),hideEvent=$.Event("hide.bs.tab",{relatedTarget:$this[0]}),showEvent=$.Event("show.bs.tab",{relatedTarget:$previous[0]});if($previous.trigger(hideEvent),$this.trigger(showEvent),!showEvent.isDefaultPrevented()&&!hideEvent.isDefaultPrevented()){var $target=$(selector);this.activate($this.closest("li"),$ul),this.activate($target,$target.parent(),function(){$previous.trigger({type:"hidden.bs.tab",relatedTarget:$this[0]}),$this.trigger({type:"shown.bs.tab",relatedTarget:$previous[0]})})}}},Tab.prototype.activate=function(element,container,callback){function next(){$active.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),element.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),transition?(element[0].offsetWidth,element.addClass("in")):element.removeClass("fade"),element.parent(".dropdown-menu")&&element.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),callback&&callback()}var $active=container.find("> .active"),transition=callback&&$.support.transition&&($active.length&&$active.hasClass("fade")||!!container.find("> .fade").length);$active.length&&transition?$active.one("bsTransitionEnd",next).emulateTransitionEnd(Tab.TRANSITION_DURATION):next(),$active.removeClass("in")};var old=$.fn.tab;$.fn.tab=Plugin,$.fn.tab.Constructor=Tab,$.fn.tab.noConflict=function(){return $.fn.tab=old,this};var clickHandler=function(e){e.preventDefault(),Plugin.call($(this),"show")};$(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',clickHandler).on("click.bs.tab.data-api",'[data-toggle="pill"]',clickHandler)}(jQuery),+function($){"use strict";function transitionEnd(){var el=document.createElement("bootstrap"),transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var name in transEndEventNames)if(void 0!==el.style[name])return{end:transEndEventNames[name]};return!1}$.fn.emulateTransitionEnd=function(duration){var called=!1,$el=this;$(this).one("bsTransitionEnd",function(){called=!0});var callback=function(){called||$($el).trigger($.support.transition.end)};return setTimeout(callback,duration),this},$(function(){$.support.transition=transitionEnd(),$.support.transition&&($.event.special.bsTransitionEnd={bindType:$.support.transition.end,delegateType:$.support.transition.end,handle:function(e){return $(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function($){"use strict";function ScrollSpy(element,options){var process=$.proxy(this.process,this);this.$body=$("body"),this.$scrollElement=$($(element).is("body")?window:element),this.options=$.extend({},ScrollSpy.DEFAULTS,options),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",process),this.refresh(),this.process()}function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.scrollspy"),options="object"==typeof option&&option;data||$this.data("bs.scrollspy",data=new ScrollSpy(this,options)),"string"==typeof option&&data[option]()})}ScrollSpy.VERSION="3.3.0",ScrollSpy.DEFAULTS={offset:10},ScrollSpy.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},ScrollSpy.prototype.refresh=function(){var offsetMethod="offset",offsetBase=0;$.isWindow(this.$scrollElement[0])||(offsetMethod="position",offsetBase=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var self=this;this.$body.find(this.selector).map(function(){var $el=$(this),href=$el.data("target")||$el.attr("href"),$href=/^#./.test(href)&&$(href);return $href&&$href.length&&$href.is(":visible")&&[[$href[offsetMethod]().top+offsetBase,href]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){self.offsets.push(this[0]),self.targets.push(this[1])})},ScrollSpy.prototype.process=function(){var i,scrollTop=this.$scrollElement.scrollTop()+this.options.offset,scrollHeight=this.getScrollHeight(),maxScroll=this.options.offset+scrollHeight-this.$scrollElement.height(),offsets=this.offsets,targets=this.targets,activeTarget=this.activeTarget;if(this.scrollHeight!=scrollHeight&&this.refresh(),scrollTop>=maxScroll)return activeTarget!=(i=targets[targets.length-1])&&this.activate(i);if(activeTarget&&scrollTop<offsets[0])return this.activeTarget=null,this.clear();for(i=offsets.length;i--;)activeTarget!=targets[i]&&scrollTop>=offsets[i]&&(!offsets[i+1]||scrollTop<=offsets[i+1])&&this.activate(targets[i])},ScrollSpy.prototype.activate=function(target){this.activeTarget=target,this.clear();var selector=this.selector+'[data-target="'+target+'"],'+this.selector+'[href="'+target+'"]',active=$(selector).parents("li").addClass("active");active.parent(".dropdown-menu").length&&(active=active.closest("li.dropdown").addClass("active")),active.trigger("activate.bs.scrollspy")},ScrollSpy.prototype.clear=function(){$(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var old=$.fn.scrollspy;$.fn.scrollspy=Plugin,$.fn.scrollspy.Constructor=ScrollSpy,$.fn.scrollspy.noConflict=function(){return $.fn.scrollspy=old,this},$(window).on("load.bs.scrollspy.data-api",function(){$('[data-spy="scroll"]').each(function(){var $spy=$(this);Plugin.call($spy,$spy.data())})})}(jQuery),+function($){"use strict";function Plugin(option,_relatedTarget){return this.each(function(){var $this=$(this),data=$this.data("bs.modal"),options=$.extend({},Modal.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("bs.modal",data=new Modal(this,options)),"string"==typeof option?data[option](_relatedTarget):options.show&&data.show(_relatedTarget)})}var Modal=function(element,options){this.options=options,this.$body=$(document.body),this.$element=$(element),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,$.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};Modal.VERSION="3.3.0",Modal.TRANSITION_DURATION=300,Modal.BACKDROP_TRANSITION_DURATION=150,Modal.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},Modal.prototype.toggle=function(_relatedTarget){return this.isShown?this.hide():this.show(_relatedTarget)},Modal.prototype.show=function(_relatedTarget){var that=this,e=$.Event("show.bs.modal",{relatedTarget:_relatedTarget});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',$.proxy(this.hide,this)),this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass("fade");that.$element.parent().length||that.$element.appendTo(that.$body),that.$element.show().scrollTop(0),transition&&that.$element[0].offsetWidth,that.$element.addClass("in").attr("aria-hidden",!1),that.enforceFocus();var e=$.Event("shown.bs.modal",{relatedTarget:_relatedTarget});transition?that.$element.find(".modal-dialog").one("bsTransitionEnd",function(){that.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(Modal.TRANSITION_DURATION):that.$element.trigger("focus").trigger(e)}))},Modal.prototype.hide=function(e){e&&e.preventDefault(),e=$.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),$(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),$.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",$.proxy(this.hideModal,this)).emulateTransitionEnd(Modal.TRANSITION_DURATION):this.hideModal())},Modal.prototype.enforceFocus=function(){$(document).off("focusin.bs.modal").on("focusin.bs.modal",$.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},Modal.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",$.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},Modal.prototype.hideModal=function(){var that=this;this.$element.hide(),this.backdrop(function(){that.$body.removeClass("modal-open"),that.resetScrollbar(),that.$element.trigger("hidden.bs.modal")})},Modal.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},Modal.prototype.backdrop=function(callback){var that=this,animate=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate;if(this.$backdrop=$('<div class="modal-backdrop '+animate+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",$.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),doAnimate&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!callback)return;doAnimate?this.$backdrop.one("bsTransitionEnd",callback).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callback()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var callbackRemove=function(){that.removeBackdrop(),callback&&callback()};$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",callbackRemove).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callbackRemove()}else callback&&callback()},Modal.prototype.checkScrollbar=function(){this.scrollbarWidth=this.measureScrollbar()},Modal.prototype.setScrollbar=function(){var bodyPad=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",bodyPad+this.scrollbarWidth)},Modal.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},Modal.prototype.measureScrollbar=function(){if(document.body.clientWidth>=window.innerWidth)return 0;var scrollDiv=document.createElement("div");scrollDiv.className="modal-scrollbar-measure",this.$body.append(scrollDiv);var scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;return this.$body[0].removeChild(scrollDiv),scrollbarWidth};var old=$.fn.modal;$.fn.modal=Plugin,$.fn.modal.Constructor=Modal,$.fn.modal.noConflict=function(){return $.fn.modal=old,this},$(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var $this=$(this),href=$this.attr("href"),$target=$($this.attr("data-target")||href&&href.replace(/.*(?=#[^\s]+$)/,"")),option=$target.data("bs.modal")?"toggle":$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data());
$this.is("a")&&e.preventDefault(),$target.one("show.bs.modal",function(showEvent){showEvent.isDefaultPrevented()||$target.one("hidden.bs.modal",function(){$this.is(":visible")&&$this.trigger("focus")})}),Plugin.call($target,option,this)})}(jQuery),+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.tooltip"),options="object"==typeof option&&option,selector=options&&options.selector;(data||"destroy"!=option)&&(selector?(data||$this.data("bs.tooltip",data={}),data[selector]||(data[selector]=new Tooltip(this,options))):data||$this.data("bs.tooltip",data=new Tooltip(this,options)),"string"==typeof option&&data[option]())})}var Tooltip=function(element,options){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",element,options)};Tooltip.VERSION="3.3.0",Tooltip.TRANSITION_DURATION=150,Tooltip.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},Tooltip.prototype.init=function(type,element,options){this.enabled=!0,this.type=type,this.$element=$(element),this.options=this.getOptions(options),this.$viewport=this.options.viewport&&$(this.options.viewport.selector||this.options.viewport);for(var triggers=this.options.trigger.split(" "),i=triggers.length;i--;){var trigger=triggers[i];if("click"==trigger)this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this));else if("manual"!=trigger){var eventIn="hover"==trigger?"mouseenter":"focusin",eventOut="hover"==trigger?"mouseleave":"focusout";this.$element.on(eventIn+"."+this.type,this.options.selector,$.proxy(this.enter,this)),this.$element.on(eventOut+"."+this.type,this.options.selector,$.proxy(this.leave,this))}}this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},Tooltip.prototype.getDefaults=function(){return Tooltip.DEFAULTS},Tooltip.prototype.getOptions=function(options){return options=$.extend({},this.getDefaults(),this.$element.data(),options),options.delay&&"number"==typeof options.delay&&(options.delay={show:options.delay,hide:options.delay}),options},Tooltip.prototype.getDelegateOptions=function(){var options={},defaults=this.getDefaults();return this._options&&$.each(this._options,function(key,value){defaults[key]!=value&&(options[key]=value)}),options},Tooltip.prototype.enter=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data("bs."+this.type);return self&&self.$tip&&self.$tip.is(":visible")?void(self.hoverState="in"):(self||(self=new this.constructor(obj.currentTarget,this.getDelegateOptions()),$(obj.currentTarget).data("bs."+this.type,self)),clearTimeout(self.timeout),self.hoverState="in",self.options.delay&&self.options.delay.show?void(self.timeout=setTimeout(function(){"in"==self.hoverState&&self.show()},self.options.delay.show)):self.show())},Tooltip.prototype.leave=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data("bs."+this.type);return self||(self=new this.constructor(obj.currentTarget,this.getDelegateOptions()),$(obj.currentTarget).data("bs."+this.type,self)),clearTimeout(self.timeout),self.hoverState="out",self.options.delay&&self.options.delay.hide?void(self.timeout=setTimeout(function(){"out"==self.hoverState&&self.hide()},self.options.delay.hide)):self.hide()},Tooltip.prototype.show=function(){var e=$.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var inDom=$.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!inDom)return;var that=this,$tip=this.tip(),tipId=this.getUID(this.type);this.setContent(),$tip.attr("id",tipId),this.$element.attr("aria-describedby",tipId),this.options.animation&&$tip.addClass("fade");var placement="function"==typeof this.options.placement?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement,autoToken=/\s?auto?\s?/i,autoPlace=autoToken.test(placement);autoPlace&&(placement=placement.replace(autoToken,"")||"top"),$tip.detach().css({top:0,left:0,display:"block"}).addClass(placement).data("bs."+this.type,this),this.options.container?$tip.appendTo(this.options.container):$tip.insertAfter(this.$element);var pos=this.getPosition(),actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight;if(autoPlace){var orgPlacement=placement,$container=this.options.container?$(this.options.container):this.$element.parent(),containerDim=this.getPosition($container);placement="bottom"==placement&&pos.bottom+actualHeight>containerDim.bottom?"top":"top"==placement&&pos.top-actualHeight<containerDim.top?"bottom":"right"==placement&&pos.right+actualWidth>containerDim.width?"left":"left"==placement&&pos.left-actualWidth<containerDim.left?"right":placement,$tip.removeClass(orgPlacement).addClass(placement)}var calculatedOffset=this.getCalculatedOffset(placement,pos,actualWidth,actualHeight);this.applyPlacement(calculatedOffset,placement);var complete=function(){var prevHoverState=that.hoverState;that.$element.trigger("shown.bs."+that.type),that.hoverState=null,"out"==prevHoverState&&that.leave(that)};$.support.transition&&this.$tip.hasClass("fade")?$tip.one("bsTransitionEnd",complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION):complete()}},Tooltip.prototype.applyPlacement=function(offset,placement){var $tip=this.tip(),width=$tip[0].offsetWidth,height=$tip[0].offsetHeight,marginTop=parseInt($tip.css("margin-top"),10),marginLeft=parseInt($tip.css("margin-left"),10);isNaN(marginTop)&&(marginTop=0),isNaN(marginLeft)&&(marginLeft=0),offset.top=offset.top+marginTop,offset.left=offset.left+marginLeft,$.offset.setOffset($tip[0],$.extend({using:function(props){$tip.css({top:Math.round(props.top),left:Math.round(props.left)})}},offset),0),$tip.addClass("in");var actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight;"top"==placement&&actualHeight!=height&&(offset.top=offset.top+height-actualHeight);var delta=this.getViewportAdjustedDelta(placement,offset,actualWidth,actualHeight);delta.left?offset.left+=delta.left:offset.top+=delta.top;var isVertical=/top|bottom/.test(placement),arrowDelta=isVertical?2*delta.left-width+actualWidth:2*delta.top-height+actualHeight,arrowOffsetPosition=isVertical?"offsetWidth":"offsetHeight";$tip.offset(offset),this.replaceArrow(arrowDelta,$tip[0][arrowOffsetPosition],isVertical)},Tooltip.prototype.replaceArrow=function(delta,dimension,isHorizontal){this.arrow().css(isHorizontal?"left":"top",50*(1-delta/dimension)+"%").css(isHorizontal?"top":"left","")},Tooltip.prototype.setContent=function(){var $tip=this.tip(),title=this.getTitle();$tip.find(".tooltip-inner")[this.options.html?"html":"text"](title),$tip.removeClass("fade in top bottom left right")},Tooltip.prototype.hide=function(callback){function complete(){"in"!=that.hoverState&&$tip.detach(),that.$element.removeAttr("aria-describedby").trigger("hidden.bs."+that.type),callback&&callback()}var that=this,$tip=this.tip(),e=$.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:($tip.removeClass("in"),$.support.transition&&this.$tip.hasClass("fade")?$tip.one("bsTransitionEnd",complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION):complete(),this.hoverState=null,this)},Tooltip.prototype.fixTitle=function(){var $e=this.$element;($e.attr("title")||"string"!=typeof $e.attr("data-original-title"))&&$e.attr("data-original-title",$e.attr("title")||"").attr("title","")},Tooltip.prototype.hasContent=function(){return this.getTitle()},Tooltip.prototype.getPosition=function($element){$element=$element||this.$element;var el=$element[0],isBody="BODY"==el.tagName,elRect=el.getBoundingClientRect();null==elRect.width&&(elRect=$.extend({},elRect,{width:elRect.right-elRect.left,height:elRect.bottom-elRect.top}));var elOffset=isBody?{top:0,left:0}:$element.offset(),scroll={scroll:isBody?document.documentElement.scrollTop||document.body.scrollTop:$element.scrollTop()},outerDims=isBody?{width:$(window).width(),height:$(window).height()}:null;return $.extend({},elRect,scroll,outerDims,elOffset)},Tooltip.prototype.getCalculatedOffset=function(placement,pos,actualWidth,actualHeight){return"bottom"==placement?{top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}:"top"==placement?{top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}:"left"==placement?{top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}:{top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}},Tooltip.prototype.getViewportAdjustedDelta=function(placement,pos,actualWidth,actualHeight){var delta={top:0,left:0};if(!this.$viewport)return delta;var viewportPadding=this.options.viewport&&this.options.viewport.padding||0,viewportDimensions=this.getPosition(this.$viewport);if(/right|left/.test(placement)){var topEdgeOffset=pos.top-viewportPadding-viewportDimensions.scroll,bottomEdgeOffset=pos.top+viewportPadding-viewportDimensions.scroll+actualHeight;topEdgeOffset<viewportDimensions.top?delta.top=viewportDimensions.top-topEdgeOffset:bottomEdgeOffset>viewportDimensions.top+viewportDimensions.height&&(delta.top=viewportDimensions.top+viewportDimensions.height-bottomEdgeOffset)}else{var leftEdgeOffset=pos.left-viewportPadding,rightEdgeOffset=pos.left+viewportPadding+actualWidth;leftEdgeOffset<viewportDimensions.left?delta.left=viewportDimensions.left-leftEdgeOffset:rightEdgeOffset>viewportDimensions.width&&(delta.left=viewportDimensions.left+viewportDimensions.width-rightEdgeOffset)}return delta},Tooltip.prototype.getTitle=function(){var title,$e=this.$element,o=this.options;return title=$e.attr("data-original-title")||("function"==typeof o.title?o.title.call($e[0]):o.title)},Tooltip.prototype.getUID=function(prefix){do prefix+=~~(1e6*Math.random());while(document.getElementById(prefix));return prefix},Tooltip.prototype.tip=function(){return this.$tip=this.$tip||$(this.options.template)},Tooltip.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},Tooltip.prototype.enable=function(){this.enabled=!0},Tooltip.prototype.disable=function(){this.enabled=!1},Tooltip.prototype.toggleEnabled=function(){this.enabled=!this.enabled},Tooltip.prototype.toggle=function(e){var self=this;e&&(self=$(e.currentTarget).data("bs."+this.type),self||(self=new this.constructor(e.currentTarget,this.getDelegateOptions()),$(e.currentTarget).data("bs."+this.type,self))),self.tip().hasClass("in")?self.leave(self):self.enter(self)},Tooltip.prototype.destroy=function(){var that=this;clearTimeout(this.timeout),this.hide(function(){that.$element.off("."+that.type).removeData("bs."+that.type)})};var old=$.fn.tooltip;$.fn.tooltip=Plugin,$.fn.tooltip.Constructor=Tooltip,$.fn.tooltip.noConflict=function(){return $.fn.tooltip=old,this}}(jQuery),+function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.popover"),options="object"==typeof option&&option,selector=options&&options.selector;(data||"destroy"!=option)&&(selector?(data||$this.data("bs.popover",data={}),data[selector]||(data[selector]=new Popover(this,options))):data||$this.data("bs.popover",data=new Popover(this,options)),"string"==typeof option&&data[option]())})}var Popover=function(element,options){this.init("popover",element,options)};if(!$.fn.tooltip)throw new Error("Popover requires tooltip.js");Popover.VERSION="3.3.0",Popover.DEFAULTS=$.extend({},$.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),Popover.prototype=$.extend({},$.fn.tooltip.Constructor.prototype),Popover.prototype.constructor=Popover,Popover.prototype.getDefaults=function(){return Popover.DEFAULTS},Popover.prototype.setContent=function(){var $tip=this.tip(),title=this.getTitle(),content=this.getContent();$tip.find(".popover-title")[this.options.html?"html":"text"](title),$tip.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof content?"html":"append":"text"](content),$tip.removeClass("fade top bottom left right in"),$tip.find(".popover-title").html()||$tip.find(".popover-title").hide()},Popover.prototype.hasContent=function(){return this.getTitle()||this.getContent()},Popover.prototype.getContent=function(){var $e=this.$element,o=this.options;return $e.attr("data-content")||("function"==typeof o.content?o.content.call($e[0]):o.content)},Popover.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},Popover.prototype.tip=function(){return this.$tip||(this.$tip=$(this.options.template)),this.$tip};var old=$.fn.popover;$.fn.popover=Plugin,$.fn.popover.Constructor=Popover,$.fn.popover.noConflict=function(){return $.fn.popover=old,this}}(jQuery),function(window,document,undefined){"use strict";!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require){var previousWindowKeyDown,lastFocusedButton,sweetAlert,swal,_interopRequireWildcard=function(obj){return obj&&obj.__esModule?obj:{"default":obj}},_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation=require("./modules/handle-dom"),_extend$hexToRgb$isIE8$logStr$colorLuminance=require("./modules/utils"),_sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition=require("./modules/handle-swal-dom"),_handleButton$handleConfirm$handleCancel=require("./modules/handle-click"),_handleKeyDown=require("./modules/handle-key"),_handleKeyDown2=_interopRequireWildcard(_handleKeyDown),_defaultParams=require("./modules/default-params"),_defaultParams2=_interopRequireWildcard(_defaultParams),_setParameters=require("./modules/set-params"),_setParameters2=_interopRequireWildcard(_setParameters);sweetAlert=swal=function(){function argumentOrDefault(key){var args=customizations;return args[key]===undefined?_defaultParams2["default"][key]:args[key]}var customizations=arguments[0];if(_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.addClass(document.body,"stop-scrolling"),_sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.resetInput(),customizations===undefined)return _extend$hexToRgb$isIE8$logStr$colorLuminance.logStr("SweetAlert expects at least 1 attribute!"),!1;var params=_extend$hexToRgb$isIE8$logStr$colorLuminance.extend({},_defaultParams2["default"]);switch(typeof customizations){case"string":params.title=customizations,params.text=arguments[1]||"",params.type=arguments[2]||"";break;case"object":if(customizations.title===undefined)return _extend$hexToRgb$isIE8$logStr$colorLuminance.logStr('Missing "title" argument!'),!1;params.title=customizations.title;for(var customName in _defaultParams2["default"])params[customName]=argumentOrDefault(customName);params.confirmButtonText=params.showCancelButton?"Confirm":_defaultParams2["default"].confirmButtonText,params.confirmButtonText=argumentOrDefault("confirmButtonText"),params.doneFunction=arguments[1]||null;break;default:return _extend$hexToRgb$isIE8$logStr$colorLuminance.logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof customizations),!1}_setParameters2["default"](params),_sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.fixVerticalPosition(),_sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.openModal(arguments[1]);for(var modal=_sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.getModal(),$buttons=modal.querySelectorAll("button"),buttonEvents=["onclick","onmouseover","onmouseout","onmousedown","onmouseup","onfocus"],onButtonEvent=function(e){return _handleButton$handleConfirm$handleCancel.handleButton(e,params,modal)},btnIndex=0;btnIndex<$buttons.length;btnIndex++)for(var evtIndex=0;evtIndex<buttonEvents.length;evtIndex++){var btnEvt=buttonEvents[evtIndex];$buttons[btnIndex][btnEvt]=onButtonEvent}_sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.getOverlay().onclick=onButtonEvent,previousWindowKeyDown=window.onkeydown;var onKeyEvent=function(e){return _handleKeyDown2["default"](e,params,modal)};window.onkeydown=onKeyEvent,window.onfocus=function(){setTimeout(function(){lastFocusedButton!==undefined&&(lastFocusedButton.focus(),lastFocusedButton=undefined)},0)},swal.enableButtons()},sweetAlert.setDefaults=swal.setDefaults=function(userParams){if(!userParams)throw new Error("userParams is required");if("object"!=typeof userParams)throw new Error("userParams has to be a object");_extend$hexToRgb$isIE8$logStr$colorLuminance.extend(_defaultParams2["default"],userParams)},sweetAlert.close=swal.close=function(){var modal=_sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.getModal();_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.fadeOut(_sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.getOverlay(),5),_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.fadeOut(modal,5),_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass(modal,"showSweetAlert"),_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.addClass(modal,"hideSweetAlert"),_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass(modal,"visible");var $successIcon=modal.querySelector(".sa-icon.sa-success");_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($successIcon,"animate"),_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($successIcon.querySelector(".sa-tip"),"animateSuccessTip"),_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($successIcon.querySelector(".sa-long"),"animateSuccessLong");var $errorIcon=modal.querySelector(".sa-icon.sa-error");_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($errorIcon,"animateErrorIcon"),_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($errorIcon.querySelector(".sa-x-mark"),"animateXMark");var $warningIcon=modal.querySelector(".sa-icon.sa-warning");return _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($warningIcon,"pulseWarning"),_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($warningIcon.querySelector(".sa-body"),"pulseWarningIns"),_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($warningIcon.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){var customClass=modal.getAttribute("data-custom-class");_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass(modal,customClass)},300),_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass(document.body,"stop-scrolling"),window.onkeydown=previousWindowKeyDown,window.previousActiveElement&&window.previousActiveElement.focus(),lastFocusedButton=undefined,clearTimeout(modal.timeout),!0},sweetAlert.showInputError=swal.showInputError=function(errorMessage){var modal=_sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.getModal(),$errorIcon=modal.querySelector(".sa-input-error");_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.addClass($errorIcon,"show");var $errorContainer=modal.querySelector(".sa-error-container");_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.addClass($errorContainer,"show"),$errorContainer.querySelector("p").innerHTML=errorMessage,setTimeout(function(){sweetAlert.enableButtons()},1),modal.querySelector("input").focus()},sweetAlert.resetInputError=swal.resetInputError=function(event){if(event&&13===event.keyCode)return!1;var $modal=_sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.getModal(),$errorIcon=$modal.querySelector(".sa-input-error");_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($errorIcon,"show");var $errorContainer=$modal.querySelector(".sa-error-container");_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($errorContainer,"show")},sweetAlert.disableButtons=swal.disableButtons=function(){var modal=_sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.getModal(),$confirmButton=modal.querySelector("button.confirm"),$cancelButton=modal.querySelector("button.cancel");$confirmButton.disabled=!0,$cancelButton.disabled=!0},sweetAlert.enableButtons=swal.enableButtons=function(){var modal=_sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.getModal(),$confirmButton=modal.querySelector("button.confirm"),$cancelButton=modal.querySelector("button.cancel");$confirmButton.disabled=!1,$cancelButton.disabled=!1},"undefined"!=typeof window?window.sweetAlert=window.swal=sweetAlert:_extend$hexToRgb$isIE8$logStr$colorLuminance.logStr("SweetAlert is a frontend module!")},{"./modules/default-params":2,"./modules/handle-click":3,"./modules/handle-dom":4,"./modules/handle-key":5,"./modules/handle-swal-dom":6,"./modules/set-params":8,"./modules/utils":9}],2:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var defaultParams={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#8CD4F5",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:"",showLoaderOnConfirm:!1};exports["default"]=defaultParams,module.exports=exports["default"]},{}],3:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var _colorLuminance=require("./utils"),_hasClass$isDescendant=(require("./handle-swal-dom"),require("./handle-dom")),handleButton=function(event,params,modal){function shouldSetConfirmButtonColor(color){targetedConfirm&&params.confirmButtonColor&&(target.style.backgroundColor=color)}var normalColor,hoverColor,activeColor,e=event||window.event,target=e.target||e.srcElement,targetedConfirm=-1!==target.className.indexOf("confirm"),targetedOverlay=-1!==target.className.indexOf("sweet-overlay"),modalIsVisible=_hasClass$isDescendant.hasClass(modal,"visible"),doneFunctionExists=params.doneFunction&&"true"===modal.getAttribute("data-has-done-function");switch(targetedConfirm&&params.confirmButtonColor&&(normalColor=params.confirmButtonColor,hoverColor=_colorLuminance.colorLuminance(normalColor,-.04),activeColor=_colorLuminance.colorLuminance(normalColor,-.14)),e.type){case"mouseover":shouldSetConfirmButtonColor(hoverColor);break;case"mouseout":shouldSetConfirmButtonColor(normalColor);break;case"mousedown":shouldSetConfirmButtonColor(activeColor);break;case"mouseup":shouldSetConfirmButtonColor(hoverColor);break;case"focus":var $confirmButton=modal.querySelector("button.confirm"),$cancelButton=modal.querySelector("button.cancel");targetedConfirm?$cancelButton.style.boxShadow="none":$confirmButton.style.boxShadow="none";break;case"click":var clickedOnModal=modal===target,clickedOnModalChild=_hasClass$isDescendant.isDescendant(modal,target);if(!clickedOnModal&&!clickedOnModalChild&&modalIsVisible&&!params.allowOutsideClick)break;targetedConfirm&&doneFunctionExists&&modalIsVisible?handleConfirm(modal,params):doneFunctionExists&&modalIsVisible||targetedOverlay?handleCancel(modal,params):_hasClass$isDescendant.isDescendant(modal,target)&&"BUTTON"===target.tagName&&sweetAlert.close()}},handleConfirm=function(modal,params){var callbackValue=!0;_hasClass$isDescendant.hasClass(modal,"show-input")&&(callbackValue=modal.querySelector("input").value,callbackValue||(callbackValue="")),params.doneFunction(callbackValue),params.closeOnConfirm&&sweetAlert.close(),params.showLoaderOnConfirm&&sweetAlert.disableButtons()},handleCancel=function(modal,params){var functionAsStr=String(params.doneFunction).replace(/\s/g,""),functionHandlesCancel="function("===functionAsStr.substring(0,9)&&")"!==functionAsStr.substring(9,10);functionHandlesCancel&&params.doneFunction(!1),params.closeOnCancel&&sweetAlert.close()};exports["default"]={handleButton:handleButton,handleConfirm:handleConfirm,handleCancel:handleCancel},module.exports=exports["default"]},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],4:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var hasClass=function(elem,className){return new RegExp(" "+className+" ").test(" "+elem.className+" ")},addClass=function(elem,className){hasClass(elem,className)||(elem.className+=" "+className)},removeClass=function(elem,className){var newClass=" "+elem.className.replace(/[\t\r\n]/g," ")+" ";if(hasClass(elem,className)){for(;newClass.indexOf(" "+className+" ")>=0;)newClass=newClass.replace(" "+className+" "," ");elem.className=newClass.replace(/^\s+|\s+$/g,"")}},escapeHtml=function(str){var div=document.createElement("div");return div.appendChild(document.createTextNode(str)),div.innerHTML},_show=function(elem){elem.style.opacity="",elem.style.display="block"},show=function(elems){if(elems&&!elems.length)return _show(elems);for(var i=0;i<elems.length;++i)_show(elems[i])},_hide=function(elem){elem.style.opacity="",elem.style.display="none"},hide=function(elems){if(elems&&!elems.length)return _hide(elems);for(var i=0;i<elems.length;++i)_hide(elems[i])},isDescendant=function(parent,child){for(var node=child.parentNode;null!==node;){if(node===parent)return!0;node=node.parentNode}return!1},getTopMargin=function(elem){elem.style.left="-9999px",elem.style.display="block";var padding,height=elem.clientHeight;return padding="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(elem).getPropertyValue("padding-top"),10):parseInt(elem.currentStyle.padding),elem.style.left="",elem.style.display="none","-"+parseInt((height+padding)/2)+"px"},fadeIn=function(elem,interval){if(+elem.style.opacity<1){interval=interval||16,elem.style.opacity=0,elem.style.display="block";var last=+new Date,tick=function(_tick){function tick(){return _tick.apply(this,arguments)}return tick.toString=function(){return _tick.toString()},tick}(function(){elem.style.opacity=+elem.style.opacity+(new Date-last)/100,last=+new Date,+elem.style.opacity<1&&setTimeout(tick,interval)});tick()}elem.style.display="block"},fadeOut=function(elem,interval){interval=interval||16,elem.style.opacity=1;var last=+new Date,tick=function(_tick2){function tick(){return _tick2.apply(this,arguments)}return tick.toString=function(){return _tick2.toString()},tick}(function(){elem.style.opacity=+elem.style.opacity-(new Date-last)/100,last=+new Date,+elem.style.opacity>0?setTimeout(tick,interval):elem.style.display="none"});tick()},fireClick=function(node){if("function"==typeof MouseEvent){var mevt=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0});node.dispatchEvent(mevt)}else if(document.createEvent){var evt=document.createEvent("MouseEvents");evt.initEvent("click",!1,!1),node.dispatchEvent(evt)}else document.createEventObject?node.fireEvent("onclick"):"function"==typeof node.onclick&&node.onclick()},stopEventPropagation=function(e){"function"==typeof e.stopPropagation?(e.stopPropagation(),e.preventDefault()):window.event&&window.event.hasOwnProperty("cancelBubble")&&(window.event.cancelBubble=!0)};exports.hasClass=hasClass,exports.addClass=addClass,exports.removeClass=removeClass,exports.escapeHtml=escapeHtml,exports._show=_show,exports.show=show,exports._hide=_hide,exports.hide=hide,exports.isDescendant=isDescendant,exports.getTopMargin=getTopMargin,exports.fadeIn=fadeIn,exports.fadeOut=fadeOut,exports.fireClick=fireClick,exports.stopEventPropagation=stopEventPropagation},{}],5:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var _stopEventPropagation$fireClick=require("./handle-dom"),_setFocusStyle=require("./handle-swal-dom"),handleKeyDown=function(event,params,modal){var e=event||window.event,keyCode=e.keyCode||e.which,$okButton=modal.querySelector("button.confirm"),$cancelButton=modal.querySelector("button.cancel"),$modalButtons=modal.querySelectorAll("button[tabindex]");if(-1!==[9,13,32,27].indexOf(keyCode)){for(var $targetElement=e.target||e.srcElement,btnIndex=-1,i=0;i<$modalButtons.length;i++)if($targetElement===$modalButtons[i]){btnIndex=i;break}9===keyCode?($targetElement=-1===btnIndex?$okButton:btnIndex===$modalButtons.length-1?$modalButtons[0]:$modalButtons[btnIndex+1],_stopEventPropagation$fireClick.stopEventPropagation(e),$targetElement.focus(),params.confirmButtonColor&&_setFocusStyle.setFocusStyle($targetElement,params.confirmButtonColor)):13===keyCode?("INPUT"===$targetElement.tagName&&($targetElement=$okButton,$okButton.focus()),$targetElement=-1===btnIndex?$okButton:undefined):27===keyCode&&params.allowEscapeKey===!0?($targetElement=$cancelButton,_stopEventPropagation$fireClick.fireClick($targetElement,e)):$targetElement=undefined}};exports["default"]=handleKeyDown,module.exports=exports["default"]},{"./handle-dom":4,"./handle-swal-dom":6}],6:[function(require,module,exports){var _interopRequireWildcard=function(obj){return obj&&obj.__esModule?obj:{"default":obj}};Object.defineProperty(exports,"__esModule",{value:!0});var _hexToRgb=require("./utils"),_removeClass$getTopMargin$fadeIn$show$addClass=require("./handle-dom"),_defaultParams=require("./default-params"),_defaultParams2=_interopRequireWildcard(_defaultParams),_injectedHTML=require("./injected-html"),_injectedHTML2=_interopRequireWildcard(_injectedHTML),modalClass=".sweet-alert",overlayClass=".sweet-overlay",sweetAlertInitialize=function(){var sweetWrap=document.createElement("div");
for(sweetWrap.innerHTML=_injectedHTML2["default"];sweetWrap.firstChild;)document.body.appendChild(sweetWrap.firstChild)},getModal=function(_getModal){function getModal(){return _getModal.apply(this,arguments)}return getModal.toString=function(){return _getModal.toString()},getModal}(function(){var $modal=document.querySelector(modalClass);return $modal||(sweetAlertInitialize(),$modal=getModal()),$modal}),getInput=function(){var $modal=getModal();return $modal?$modal.querySelector("input"):void 0},getOverlay=function(){return document.querySelector(overlayClass)},setFocusStyle=function($button,bgColor){var rgbColor=_hexToRgb.hexToRgb(bgColor);$button.style.boxShadow="0 0 2px rgba("+rgbColor+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"},openModal=function(callback){var $modal=getModal();_removeClass$getTopMargin$fadeIn$show$addClass.fadeIn(getOverlay(),10),_removeClass$getTopMargin$fadeIn$show$addClass.show($modal),_removeClass$getTopMargin$fadeIn$show$addClass.addClass($modal,"showSweetAlert"),_removeClass$getTopMargin$fadeIn$show$addClass.removeClass($modal,"hideSweetAlert"),window.previousActiveElement=document.activeElement;var $okButton=$modal.querySelector("button.confirm");$okButton.focus(),setTimeout(function(){_removeClass$getTopMargin$fadeIn$show$addClass.addClass($modal,"visible")},500);var timer=$modal.getAttribute("data-timer");if("null"!==timer&&""!==timer){var timerCallback=callback;$modal.timeout=setTimeout(function(){var doneFunctionExists=(timerCallback||null)&&"true"===$modal.getAttribute("data-has-done-function");doneFunctionExists?timerCallback(null):sweetAlert.close()},timer)}},resetInput=function(){var $modal=getModal(),$input=getInput();_removeClass$getTopMargin$fadeIn$show$addClass.removeClass($modal,"show-input"),$input.value=_defaultParams2["default"].inputValue,$input.setAttribute("type",_defaultParams2["default"].inputType),$input.setAttribute("placeholder",_defaultParams2["default"].inputPlaceholder),resetInputError()},resetInputError=function(event){if(event&&13===event.keyCode)return!1;var $modal=getModal(),$errorIcon=$modal.querySelector(".sa-input-error");_removeClass$getTopMargin$fadeIn$show$addClass.removeClass($errorIcon,"show");var $errorContainer=$modal.querySelector(".sa-error-container");_removeClass$getTopMargin$fadeIn$show$addClass.removeClass($errorContainer,"show")},fixVerticalPosition=function(){var $modal=getModal();$modal.style.marginTop=_removeClass$getTopMargin$fadeIn$show$addClass.getTopMargin(getModal())};exports.sweetAlertInitialize=sweetAlertInitialize,exports.getModal=getModal,exports.getOverlay=getOverlay,exports.getInput=getInput,exports.setFocusStyle=setFocusStyle,exports.openModal=openModal,exports.resetInput=resetInput,exports.resetInputError=resetInputError,exports.fixVerticalPosition=fixVerticalPosition},{"./default-params":2,"./handle-dom":4,"./injected-html":7,"./utils":9}],7:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var injectedHTML='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>';exports["default"]=injectedHTML,module.exports=exports["default"]},{}],8:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var _isIE8=require("./utils"),_getModal$getInput$setFocusStyle=require("./handle-swal-dom"),_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide=require("./handle-dom"),alertTypes=["error","warning","info","success","input","prompt"],setParameters=function(params){var modal=_getModal$getInput$setFocusStyle.getModal(),$title=modal.querySelector("h2"),$text=modal.querySelector("p"),$cancelBtn=modal.querySelector("button.cancel"),$confirmBtn=modal.querySelector("button.confirm");if($title.innerHTML=params.html?params.title:_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.escapeHtml(params.title).split("\n").join("<br>"),$text.innerHTML=params.html?params.text:_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.escapeHtml(params.text||"").split("\n").join("<br>"),params.text&&_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.show($text),params.customClass)_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass(modal,params.customClass),modal.setAttribute("data-custom-class",params.customClass);else{var customClass=modal.getAttribute("data-custom-class");_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.removeClass(modal,customClass),modal.setAttribute("data-custom-class","")}if(_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.hide(modal.querySelectorAll(".sa-icon")),params.type&&!_isIE8.isIE8()){var _ret=function(){for(var validType=!1,i=0;i<alertTypes.length;i++)if(params.type===alertTypes[i]){validType=!0;break}if(!validType)return logStr("Unknown alert type: "+params.type),{v:!1};var typesWithIcons=["success","error","warning","info"],$icon=undefined;-1!==typesWithIcons.indexOf(params.type)&&($icon=modal.querySelector(".sa-icon.sa-"+params.type),_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.show($icon));var $input=_getModal$getInput$setFocusStyle.getInput();switch(params.type){case"success":_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass($icon,"animate"),_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass($icon.querySelector(".sa-tip"),"animateSuccessTip"),_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass($icon.querySelector(".sa-long"),"animateSuccessLong");break;case"error":_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass($icon,"animateErrorIcon"),_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass($icon.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass($icon,"pulseWarning"),_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass($icon.querySelector(".sa-body"),"pulseWarningIns"),_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass($icon.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":$input.setAttribute("type",params.inputType),$input.value=params.inputValue,$input.setAttribute("placeholder",params.inputPlaceholder),_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass(modal,"show-input"),setTimeout(function(){$input.focus(),$input.addEventListener("keyup",swal.resetInputError)},400)}}();if("object"==typeof _ret)return _ret.v}if(params.imageUrl){var $customIcon=modal.querySelector(".sa-icon.sa-custom");$customIcon.style.backgroundImage="url("+params.imageUrl+")",_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.show($customIcon);var _imgWidth=80,_imgHeight=80;if(params.imageSize){var dimensions=params.imageSize.toString().split("x"),imgWidth=dimensions[0],imgHeight=dimensions[1];imgWidth&&imgHeight?(_imgWidth=imgWidth,_imgHeight=imgHeight):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+params.imageSize)}$customIcon.setAttribute("style",$customIcon.getAttribute("style")+"width:"+_imgWidth+"px; height:"+_imgHeight+"px")}modal.setAttribute("data-has-cancel-button",params.showCancelButton),params.showCancelButton?$cancelBtn.style.display="inline-block":_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.hide($cancelBtn),modal.setAttribute("data-has-confirm-button",params.showConfirmButton),params.showConfirmButton?$confirmBtn.style.display="inline-block":_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.hide($confirmBtn),params.cancelButtonText&&($cancelBtn.innerHTML=_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.escapeHtml(params.cancelButtonText)),params.confirmButtonText&&($confirmBtn.innerHTML=_hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.escapeHtml(params.confirmButtonText)),params.confirmButtonColor&&($confirmBtn.style.backgroundColor=params.confirmButtonColor,$confirmBtn.style.borderLeftColor=params.confirmLoadingButtonColor,$confirmBtn.style.borderRightColor=params.confirmLoadingButtonColor,_getModal$getInput$setFocusStyle.setFocusStyle($confirmBtn,params.confirmButtonColor)),modal.setAttribute("data-allow-outside-click",params.allowOutsideClick);var hasDoneFunction=params.doneFunction?!0:!1;modal.setAttribute("data-has-done-function",hasDoneFunction),params.animation?"string"==typeof params.animation?modal.setAttribute("data-animation",params.animation):modal.setAttribute("data-animation","pop"):modal.setAttribute("data-animation","none"),modal.setAttribute("data-timer",params.timer)};exports["default"]=setParameters,module.exports=exports["default"]},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],9:[function(require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var extend=function(a,b){for(var key in b)b.hasOwnProperty(key)&&(a[key]=b[key]);return a},hexToRgb=function(hex){var result=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);return result?parseInt(result[1],16)+", "+parseInt(result[2],16)+", "+parseInt(result[3],16):null},isIE8=function(){return window.attachEvent&&!window.addEventListener},logStr=function(string){window.console&&window.console.log("SweetAlert: "+string)},colorLuminance=function(hex,lum){hex=String(hex).replace(/[^0-9a-f]/gi,""),hex.length<6&&(hex=hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2]),lum=lum||0;var c,i,rgb="#";for(i=0;3>i;i++)c=parseInt(hex.substr(2*i,2),16),c=Math.round(Math.min(Math.max(0,c+c*lum),255)).toString(16),rgb+=("00"+c).substr(c.length);return rgb};exports.extend=extend,exports.hexToRgb=hexToRgb,exports.isIE8=isIE8,exports.logStr=logStr,exports.colorLuminance=colorLuminance},{}]},{},[1]),"function"==typeof define&&define.amd?define(function(){return sweetAlert}):"undefined"!=typeof module&&module.exports&&(module.exports=sweetAlert)}(window,document),function(window,document,undefined){!function(factory){"use strict";"function"==typeof define&&define.amd?define("datatables",["jquery"],factory):"object"==typeof exports?module.exports=factory(require("jquery")):jQuery&&!jQuery.fn.dataTable&&factory(jQuery)}(function($){"use strict";function _fnHungarianMap(o){var match,newKey,hungarian="a aa ai ao as b fn i m o s ",map={};$.each(o,function(key){match=key.match(/^([^A-Z]+?)([A-Z])/),match&&-1!==hungarian.indexOf(match[1]+" ")&&(newKey=key.replace(match[0],match[2].toLowerCase()),map[newKey]=key,"o"===match[1]&&_fnHungarianMap(o[key]))}),o._hungarianMap=map}function _fnCamelToHungarian(src,user,force){src._hungarianMap||_fnHungarianMap(src);var hungarianKey;$.each(user,function(key){hungarianKey=src._hungarianMap[key],hungarianKey===undefined||!force&&user[hungarianKey]!==undefined||("o"===hungarianKey.charAt(0)?(user[hungarianKey]||(user[hungarianKey]={}),$.extend(!0,user[hungarianKey],user[key]),_fnCamelToHungarian(src[hungarianKey],user[hungarianKey],force)):user[hungarianKey]=user[key])})}function _fnLanguageCompat(lang){var defaults=DataTable.defaults.oLanguage,zeroRecords=lang.sZeroRecords;!lang.sEmptyTable&&zeroRecords&&"No data available in table"===defaults.sEmptyTable&&_fnMap(lang,lang,"sZeroRecords","sEmptyTable"),!lang.sLoadingRecords&&zeroRecords&&"Loading..."===defaults.sLoadingRecords&&_fnMap(lang,lang,"sZeroRecords","sLoadingRecords"),lang.sInfoThousands&&(lang.sThousands=lang.sInfoThousands);var decimal=lang.sDecimal;decimal&&_addNumericSort(decimal)}function _fnCompatOpts(init){_fnCompatMap(init,"ordering","bSort"),_fnCompatMap(init,"orderMulti","bSortMulti"),_fnCompatMap(init,"orderClasses","bSortClasses"),_fnCompatMap(init,"orderCellsTop","bSortCellsTop"),_fnCompatMap(init,"order","aaSorting"),_fnCompatMap(init,"orderFixed","aaSortingFixed"),_fnCompatMap(init,"paging","bPaginate"),_fnCompatMap(init,"pagingType","sPaginationType"),_fnCompatMap(init,"pageLength","iDisplayLength"),_fnCompatMap(init,"searching","bFilter"),"boolean"==typeof init.sScrollX&&(init.sScrollX=init.sScrollX?"100%":"");var searchCols=init.aoSearchCols;if(searchCols)for(var i=0,ien=searchCols.length;ien>i;i++)searchCols[i]&&_fnCamelToHungarian(DataTable.models.oSearch,searchCols[i])}function _fnCompatCols(init){_fnCompatMap(init,"orderable","bSortable"),_fnCompatMap(init,"orderData","aDataSort"),_fnCompatMap(init,"orderSequence","asSorting"),_fnCompatMap(init,"orderDataType","sortDataType");var dataSort=init.aDataSort;dataSort&&!$.isArray(dataSort)&&(init.aDataSort=[dataSort])}function _fnBrowserDetect(settings){if(!DataTable.__browser){var browser={};DataTable.__browser=browser;var n=$("<div/>").css({position:"fixed",top:0,left:0,height:1,width:1,overflow:"hidden"}).append($("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append($("<div/>").css({width:"100%",height:10}))).appendTo("body"),outer=n.children(),inner=outer.children();browser.barWidth=outer[0].offsetWidth-outer[0].clientWidth,browser.bScrollOversize=100===inner[0].offsetWidth&&100!==outer[0].clientWidth,browser.bScrollbarLeft=1!==Math.round(inner.offset().left),browser.bBounding=n[0].getBoundingClientRect().width?!0:!1,n.remove()}$.extend(settings.oBrowser,DataTable.__browser),settings.oScroll.iBarWidth=DataTable.__browser.barWidth}function _fnReduce(that,fn,init,start,end,inc){var value,i=start,isSet=!1;for(init!==undefined&&(value=init,isSet=!0);i!==end;)that.hasOwnProperty(i)&&(value=isSet?fn(value,that[i],i,that):that[i],isSet=!0,i+=inc);return value}function _fnAddColumn(oSettings,nTh){var oDefaults=DataTable.defaults.column,iCol=oSettings.aoColumns.length,oCol=$.extend({},DataTable.models.oColumn,oDefaults,{nTh:nTh?nTh:document.createElement("th"),sTitle:oDefaults.sTitle?oDefaults.sTitle:nTh?nTh.innerHTML:"",aDataSort:oDefaults.aDataSort?oDefaults.aDataSort:[iCol],mData:oDefaults.mData?oDefaults.mData:iCol,idx:iCol});oSettings.aoColumns.push(oCol);var searchCols=oSettings.aoPreSearchCols;searchCols[iCol]=$.extend({},DataTable.models.oSearch,searchCols[iCol]),_fnColumnOptions(oSettings,iCol,$(nTh).data())}function _fnColumnOptions(oSettings,iCol,oOptions){var oCol=oSettings.aoColumns[iCol],oClasses=oSettings.oClasses,th=$(oCol.nTh);if(!oCol.sWidthOrig){oCol.sWidthOrig=th.attr("width")||null;var t=(th.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);t&&(oCol.sWidthOrig=t[1])}oOptions!==undefined&&null!==oOptions&&(_fnCompatCols(oOptions),_fnCamelToHungarian(DataTable.defaults.column,oOptions),oOptions.mDataProp===undefined||oOptions.mData||(oOptions.mData=oOptions.mDataProp),oOptions.sType&&(oCol._sManualType=oOptions.sType),oOptions.className&&!oOptions.sClass&&(oOptions.sClass=oOptions.className),$.extend(oCol,oOptions),_fnMap(oCol,oOptions,"sWidth","sWidthOrig"),oOptions.iDataSort!==undefined&&(oCol.aDataSort=[oOptions.iDataSort]),_fnMap(oCol,oOptions,"aDataSort"));var mDataSrc=oCol.mData,mData=_fnGetObjectDataFn(mDataSrc),mRender=oCol.mRender?_fnGetObjectDataFn(oCol.mRender):null,attrTest=function(src){return"string"==typeof src&&-1!==src.indexOf("@")};oCol._bAttrSrc=$.isPlainObject(mDataSrc)&&(attrTest(mDataSrc.sort)||attrTest(mDataSrc.type)||attrTest(mDataSrc.filter)),oCol.fnGetData=function(rowData,type,meta){var innerData=mData(rowData,type,undefined,meta);return mRender&&type?mRender(innerData,type,rowData,meta):innerData},oCol.fnSetData=function(rowData,val,meta){return _fnSetObjectDataFn(mDataSrc)(rowData,val,meta)},"number"!=typeof mDataSrc&&(oSettings._rowReadObject=!0),oSettings.oFeatures.bSort||(oCol.bSortable=!1,th.addClass(oClasses.sSortableNone));var bAsc=-1!==$.inArray("asc",oCol.asSorting),bDesc=-1!==$.inArray("desc",oCol.asSorting);oCol.bSortable&&(bAsc||bDesc)?bAsc&&!bDesc?(oCol.sSortingClass=oClasses.sSortableAsc,oCol.sSortingClassJUI=oClasses.sSortJUIAscAllowed):!bAsc&&bDesc?(oCol.sSortingClass=oClasses.sSortableDesc,oCol.sSortingClassJUI=oClasses.sSortJUIDescAllowed):(oCol.sSortingClass=oClasses.sSortable,oCol.sSortingClassJUI=oClasses.sSortJUI):(oCol.sSortingClass=oClasses.sSortableNone,oCol.sSortingClassJUI="")}function _fnAdjustColumnSizing(settings){if(settings.oFeatures.bAutoWidth!==!1){var columns=settings.aoColumns;_fnCalculateColumnWidths(settings);for(var i=0,iLen=columns.length;iLen>i;i++)columns[i].nTh.style.width=columns[i].sWidth}var scroll=settings.oScroll;(""!==scroll.sY||""!==scroll.sX)&&_fnScrollDraw(settings),_fnCallbackFire(settings,null,"column-sizing",[settings])}function _fnVisibleToColumnIndex(oSettings,iMatch){var aiVis=_fnGetColumns(oSettings,"bVisible");return"number"==typeof aiVis[iMatch]?aiVis[iMatch]:null}function _fnColumnIndexToVisible(oSettings,iMatch){var aiVis=_fnGetColumns(oSettings,"bVisible"),iPos=$.inArray(iMatch,aiVis);return-1!==iPos?iPos:null}function _fnVisbleColumns(oSettings){return _fnGetColumns(oSettings,"bVisible").length}function _fnGetColumns(oSettings,sParam){var a=[];return $.map(oSettings.aoColumns,function(val,i){val[sParam]&&a.push(i)}),a}function _fnColumnTypes(settings){var i,ien,j,jen,k,ken,col,detectedType,cache,columns=settings.aoColumns,data=settings.aoData,types=DataTable.ext.type.detect;for(i=0,ien=columns.length;ien>i;i++)if(col=columns[i],cache=[],!col.sType&&col._sManualType)col.sType=col._sManualType;else if(!col.sType){for(j=0,jen=types.length;jen>j;j++){for(k=0,ken=data.length;ken>k&&(cache[k]===undefined&&(cache[k]=_fnGetCellData(settings,k,i,"type")),detectedType=types[j](cache[k],settings),detectedType||j===types.length-1)&&"html"!==detectedType;k++);if(detectedType){col.sType=detectedType;break}}col.sType||(col.sType="string")}}function _fnApplyColumnDefs(oSettings,aoColDefs,aoCols,fn){var i,iLen,j,jLen,k,kLen,def,columns=oSettings.aoColumns;if(aoColDefs)for(i=aoColDefs.length-1;i>=0;i--){def=aoColDefs[i];var aTargets=def.targets!==undefined?def.targets:def.aTargets;for($.isArray(aTargets)||(aTargets=[aTargets]),j=0,jLen=aTargets.length;jLen>j;j++)if("number"==typeof aTargets[j]&&aTargets[j]>=0){for(;columns.length<=aTargets[j];)_fnAddColumn(oSettings);fn(aTargets[j],def)}else if("number"==typeof aTargets[j]&&aTargets[j]<0)fn(columns.length+aTargets[j],def);else if("string"==typeof aTargets[j])for(k=0,kLen=columns.length;kLen>k;k++)("_all"==aTargets[j]||$(columns[k].nTh).hasClass(aTargets[j]))&&fn(k,def)}if(aoCols)for(i=0,iLen=aoCols.length;iLen>i;i++)fn(i,aoCols[i])}function _fnAddData(oSettings,aDataIn,nTr,anTds){var iRow=oSettings.aoData.length,oData=$.extend(!0,{},DataTable.models.oRow,{src:nTr?"dom":"data",idx:iRow});oData._aData=aDataIn,oSettings.aoData.push(oData);for(var columns=oSettings.aoColumns,i=0,iLen=columns.length;iLen>i;i++)columns[i].sType=null;oSettings.aiDisplayMaster.push(iRow);var id=oSettings.rowIdFn(aDataIn);return id!==undefined&&(oSettings.aIds[id]=oData),(nTr||!oSettings.oFeatures.bDeferRender)&&_fnCreateTr(oSettings,iRow,nTr,anTds),iRow}function _fnAddTr(settings,trs){var row;return trs instanceof $||(trs=$(trs)),trs.map(function(i,el){return row=_fnGetRowElements(settings,el),_fnAddData(settings,row.data,el,row.cells)})}function _fnNodeToDataIndex(oSettings,n){return n._DT_RowIndex!==undefined?n._DT_RowIndex:null}function _fnNodeToColumnIndex(oSettings,iRow,n){return $.inArray(n,oSettings.aoData[iRow].anCells)}function _fnGetCellData(settings,rowIdx,colIdx,type){var draw=settings.iDraw,col=settings.aoColumns[colIdx],rowData=settings.aoData[rowIdx]._aData,defaultContent=col.sDefaultContent,cellData=col.fnGetData(rowData,type,{settings:settings,row:rowIdx,col:colIdx});if(cellData===undefined)return settings.iDrawError!=draw&&null===defaultContent&&(_fnLog(settings,0,"Requested unknown parameter "+("function"==typeof col.mData?"{function}":"'"+col.mData+"'")+" for row "+rowIdx,4),settings.iDrawError=draw),defaultContent;if(cellData!==rowData&&null!==cellData||null===defaultContent){if("function"==typeof cellData)return cellData.call(rowData)}else cellData=defaultContent;return null===cellData&&"display"==type?"":cellData}function _fnSetCellData(settings,rowIdx,colIdx,val){var col=settings.aoColumns[colIdx],rowData=settings.aoData[rowIdx]._aData;col.fnSetData(rowData,val,{settings:settings,row:rowIdx,col:colIdx})}function _fnSplitObjNotation(str){return $.map(str.match(/(\\.|[^\.])+/g)||[""],function(s){return s.replace(/\\./g,".")})}function _fnGetObjectDataFn(mSource){if($.isPlainObject(mSource)){var o={};return $.each(mSource,function(key,val){val&&(o[key]=_fnGetObjectDataFn(val))}),function(data,type,row,meta){var t=o[type]||o._;return t!==undefined?t(data,type,row,meta):data}}if(null===mSource)return function(data){return data};if("function"==typeof mSource)return function(data,type,row,meta){return mSource(data,type,row,meta)};if("string"!=typeof mSource||-1===mSource.indexOf(".")&&-1===mSource.indexOf("[")&&-1===mSource.indexOf("("))return function(data){return data[mSource]};var fetchData=function(data,type,src){var arrayNotation,funcNotation,out,innerSrc;if(""!==src)for(var a=_fnSplitObjNotation(src),i=0,iLen=a.length;iLen>i;i++){if(arrayNotation=a[i].match(__reArray),funcNotation=a[i].match(__reFn),arrayNotation){if(a[i]=a[i].replace(__reArray,""),""!==a[i]&&(data=data[a[i]]),out=[],a.splice(0,i+1),innerSrc=a.join("."),$.isArray(data))for(var j=0,jLen=data.length;jLen>j;j++)out.push(fetchData(data[j],type,innerSrc));var join=arrayNotation[0].substring(1,arrayNotation[0].length-1);data=""===join?out:out.join(join);break}if(funcNotation)a[i]=a[i].replace(__reFn,""),data=data[a[i]]();else{if(null===data||data[a[i]]===undefined)return undefined;data=data[a[i]]}}return data};return function(data,type){return fetchData(data,type,mSource)}}function _fnSetObjectDataFn(mSource){if($.isPlainObject(mSource))return _fnSetObjectDataFn(mSource._);if(null===mSource)return function(){};if("function"==typeof mSource)return function(data,val,meta){mSource(data,"set",val,meta)};if("string"!=typeof mSource||-1===mSource.indexOf(".")&&-1===mSource.indexOf("[")&&-1===mSource.indexOf("("))return function(data,val){data[mSource]=val};var setData=function(data,val,src){for(var b,arrayNotation,funcNotation,o,innerSrc,a=_fnSplitObjNotation(src),aLast=a[a.length-1],i=0,iLen=a.length-1;iLen>i;i++){if(arrayNotation=a[i].match(__reArray),funcNotation=a[i].match(__reFn),arrayNotation){if(a[i]=a[i].replace(__reArray,""),data[a[i]]=[],b=a.slice(),b.splice(0,i+1),innerSrc=b.join("."),$.isArray(val))for(var j=0,jLen=val.length;jLen>j;j++)o={},setData(o,val[j],innerSrc),data[a[i]].push(o);else data[a[i]]=val;return}funcNotation&&(a[i]=a[i].replace(__reFn,""),data=data[a[i]](val)),(null===data[a[i]]||data[a[i]]===undefined)&&(data[a[i]]={}),data=data[a[i]]}aLast.match(__reFn)?data=data[aLast.replace(__reFn,"")](val):data[aLast.replace(__reArray,"")]=val};return function(data,val){return setData(data,val,mSource)}}function _fnGetDataMaster(settings){return _pluck(settings.aoData,"_aData")}function _fnClearTable(settings){settings.aoData.length=0,settings.aiDisplayMaster.length=0,settings.aiDisplay.length=0,settings.aIds={}}function _fnDeleteIndex(a,iTarget,splice){for(var iTargetIndex=-1,i=0,iLen=a.length;iLen>i;i++)a[i]==iTarget?iTargetIndex=i:a[i]>iTarget&&a[i]--;-1!=iTargetIndex&&splice===undefined&&a.splice(iTargetIndex,1)}function _fnInvalidate(settings,rowIdx,src,colIdx){var i,ien,row=settings.aoData[rowIdx],cellWrite=function(cell,col){for(;cell.childNodes.length;)cell.removeChild(cell.firstChild);cell.innerHTML=_fnGetCellData(settings,rowIdx,col,"display")};if("dom"!==src&&(src&&"auto"!==src||"dom"!==row.src)){var cells=row.anCells;if(cells)if(colIdx!==undefined)cellWrite(cells[colIdx],colIdx);else for(i=0,ien=cells.length;ien>i;i++)cellWrite(cells[i],i)}else row._aData=_fnGetRowElements(settings,row,colIdx,colIdx===undefined?undefined:row._aData).data;row._aSortData=null,row._aFilterData=null;var cols=settings.aoColumns;if(colIdx!==undefined)cols[colIdx].sType=null;else{for(i=0,ien=cols.length;ien>i;i++)cols[i].sType=null;_fnRowAttributes(settings,row)}}function _fnGetRowElements(settings,row,colIdx,d){var name,col,contents,tds=[],td=row.firstChild,i=0,columns=settings.aoColumns,objectRead=settings._rowReadObject;d=d!==undefined?d:objectRead?{}:[];var attr=function(str,td){if("string"==typeof str){var idx=str.indexOf("@");if(-1!==idx){var attr=str.substring(idx+1),setter=_fnSetObjectDataFn(str);setter(d,td.getAttribute(attr))}}},cellProcess=function(cell){if(colIdx===undefined||colIdx===i)if(col=columns[i],contents=$.trim(cell.innerHTML),col&&col._bAttrSrc){var setter=_fnSetObjectDataFn(col.mData._);setter(d,contents),attr(col.mData.sort,cell),attr(col.mData.type,cell),attr(col.mData.filter,cell)}else objectRead?(col._setter||(col._setter=_fnSetObjectDataFn(col.mData)),col._setter(d,contents)):d[i]=contents;i++};if(td)for(;td;)name=td.nodeName.toUpperCase(),("TD"==name||"TH"==name)&&(cellProcess(td),tds.push(td)),td=td.nextSibling;else{tds=row.anCells;for(var j=0,jen=tds.length;jen>j;j++)cellProcess(tds[j])}var rowNode=td?row:row.nTr;if(rowNode){var id=rowNode.getAttribute("id");id&&_fnSetObjectDataFn(settings.rowId)(d,id)}return{data:d,cells:tds}}function _fnCreateTr(oSettings,iRow,nTrIn,anTds){var nTr,nTd,oCol,i,iLen,row=oSettings.aoData[iRow],rowData=row._aData,cells=[];if(null===row.nTr){for(nTr=nTrIn||document.createElement("tr"),row.nTr=nTr,row.anCells=cells,nTr._DT_RowIndex=iRow,_fnRowAttributes(oSettings,row),i=0,iLen=oSettings.aoColumns.length;iLen>i;i++)oCol=oSettings.aoColumns[i],nTd=nTrIn?anTds[i]:document.createElement(oCol.sCellType),cells.push(nTd),(!nTrIn||oCol.mRender||oCol.mData!==i)&&(nTd.innerHTML=_fnGetCellData(oSettings,iRow,i,"display")),oCol.sClass&&(nTd.className+=" "+oCol.sClass),oCol.bVisible&&!nTrIn?nTr.appendChild(nTd):!oCol.bVisible&&nTrIn&&nTd.parentNode.removeChild(nTd),oCol.fnCreatedCell&&oCol.fnCreatedCell.call(oSettings.oInstance,nTd,_fnGetCellData(oSettings,iRow,i),rowData,iRow,i);_fnCallbackFire(oSettings,"aoRowCreatedCallback",null,[nTr,rowData,iRow])}row.nTr.setAttribute("role","row")}function _fnRowAttributes(settings,row){var tr=row.nTr,data=row._aData;if(tr){var id=settings.rowIdFn(data);if(id&&(tr.id=id),data.DT_RowClass){var a=data.DT_RowClass.split(" ");row.__rowc=row.__rowc?_unique(row.__rowc.concat(a)):a,$(tr).removeClass(row.__rowc.join(" ")).addClass(data.DT_RowClass)}data.DT_RowAttr&&$(tr).attr(data.DT_RowAttr),data.DT_RowData&&$(tr).data(data.DT_RowData)}}function _fnBuildHead(oSettings){var i,ien,cell,row,column,thead=oSettings.nTHead,tfoot=oSettings.nTFoot,createHeader=0===$("th, td",thead).length,classes=oSettings.oClasses,columns=oSettings.aoColumns;for(createHeader&&(row=$("<tr/>").appendTo(thead)),i=0,ien=columns.length;ien>i;i++)column=columns[i],cell=$(column.nTh).addClass(column.sClass),createHeader&&cell.appendTo(row),oSettings.oFeatures.bSort&&(cell.addClass(column.sSortingClass),column.bSortable!==!1&&(cell.attr("tabindex",oSettings.iTabIndex).attr("aria-controls",oSettings.sTableId),_fnSortAttachListener(oSettings,column.nTh,i))),column.sTitle!=cell[0].innerHTML&&cell.html(column.sTitle),_fnRenderer(oSettings,"header")(oSettings,cell,column,classes);if(createHeader&&_fnDetectHeader(oSettings.aoHeader,thead),$(thead).find(">tr").attr("role","row"),$(thead).find(">tr>th, >tr>td").addClass(classes.sHeaderTH),$(tfoot).find(">tr>th, >tr>td").addClass(classes.sFooterTH),null!==tfoot){var cells=oSettings.aoFooter[0];for(i=0,ien=cells.length;ien>i;i++)column=columns[i],column.nTf=cells[i].cell,column.sClass&&$(column.nTf).addClass(column.sClass)}}function _fnDrawHead(oSettings,aoSource,bIncludeHidden){var i,iLen,j,jLen,k,n,nLocalTr,iRowspan,iColspan,aoLocal=[],aApplied=[],iColumns=oSettings.aoColumns.length;if(aoSource){for(bIncludeHidden===undefined&&(bIncludeHidden=!1),i=0,iLen=aoSource.length;iLen>i;i++){for(aoLocal[i]=aoSource[i].slice(),aoLocal[i].nTr=aoSource[i].nTr,j=iColumns-1;j>=0;j--)oSettings.aoColumns[j].bVisible||bIncludeHidden||aoLocal[i].splice(j,1);aApplied.push([])}for(i=0,iLen=aoLocal.length;iLen>i;i++){if(nLocalTr=aoLocal[i].nTr)for(;n=nLocalTr.firstChild;)nLocalTr.removeChild(n);for(j=0,jLen=aoLocal[i].length;jLen>j;j++)if(iRowspan=1,iColspan=1,aApplied[i][j]===undefined){for(nLocalTr.appendChild(aoLocal[i][j].cell),aApplied[i][j]=1;aoLocal[i+iRowspan]!==undefined&&aoLocal[i][j].cell==aoLocal[i+iRowspan][j].cell;)aApplied[i+iRowspan][j]=1,iRowspan++;for(;aoLocal[i][j+iColspan]!==undefined&&aoLocal[i][j].cell==aoLocal[i][j+iColspan].cell;){for(k=0;iRowspan>k;k++)aApplied[i+k][j+iColspan]=1;iColspan++}$(aoLocal[i][j].cell).attr("rowspan",iRowspan).attr("colspan",iColspan)}}}}function _fnDraw(oSettings){var aPreDraw=_fnCallbackFire(oSettings,"aoPreDrawCallback","preDraw",[oSettings]);if(-1!==$.inArray(!1,aPreDraw))return void _fnProcessingDisplay(oSettings,!1);var anRows=[],iRowCount=0,asStripeClasses=oSettings.asStripeClasses,iStripes=asStripeClasses.length,oLang=(oSettings.aoOpenRows.length,oSettings.oLanguage),iInitDisplayStart=oSettings.iInitDisplayStart,bServerSide="ssp"==_fnDataSource(oSettings),aiDisplay=oSettings.aiDisplay;oSettings.bDrawing=!0,iInitDisplayStart!==undefined&&-1!==iInitDisplayStart&&(oSettings._iDisplayStart=bServerSide?iInitDisplayStart:iInitDisplayStart>=oSettings.fnRecordsDisplay()?0:iInitDisplayStart,oSettings.iInitDisplayStart=-1);var iDisplayStart=oSettings._iDisplayStart,iDisplayEnd=oSettings.fnDisplayEnd();if(oSettings.bDeferLoading)oSettings.bDeferLoading=!1,oSettings.iDraw++,_fnProcessingDisplay(oSettings,!1);else if(bServerSide){if(!oSettings.bDestroying&&!_fnAjaxUpdate(oSettings))return}else oSettings.iDraw++;if(0!==aiDisplay.length)for(var iStart=bServerSide?0:iDisplayStart,iEnd=bServerSide?oSettings.aoData.length:iDisplayEnd,j=iStart;iEnd>j;j++){var iDataIndex=aiDisplay[j],aoData=oSettings.aoData[iDataIndex];null===aoData.nTr&&_fnCreateTr(oSettings,iDataIndex);var nRow=aoData.nTr;if(0!==iStripes){var sStripe=asStripeClasses[iRowCount%iStripes];aoData._sRowStripe!=sStripe&&($(nRow).removeClass(aoData._sRowStripe).addClass(sStripe),aoData._sRowStripe=sStripe)}_fnCallbackFire(oSettings,"aoRowCallback",null,[nRow,aoData._aData,iRowCount,j]),anRows.push(nRow),iRowCount++}else{var sZero=oLang.sZeroRecords;1==oSettings.iDraw&&"ajax"==_fnDataSource(oSettings)?sZero=oLang.sLoadingRecords:oLang.sEmptyTable&&0===oSettings.fnRecordsTotal()&&(sZero=oLang.sEmptyTable),anRows[0]=$("<tr/>",{"class":iStripes?asStripeClasses[0]:""}).append($("<td />",{valign:"top",colSpan:_fnVisbleColumns(oSettings),"class":oSettings.oClasses.sRowEmpty}).html(sZero))[0]}_fnCallbackFire(oSettings,"aoHeaderCallback","header",[$(oSettings.nTHead).children("tr")[0],_fnGetDataMaster(oSettings),iDisplayStart,iDisplayEnd,aiDisplay]),_fnCallbackFire(oSettings,"aoFooterCallback","footer",[$(oSettings.nTFoot).children("tr")[0],_fnGetDataMaster(oSettings),iDisplayStart,iDisplayEnd,aiDisplay]);var body=$(oSettings.nTBody);body.children().detach(),body.append($(anRows)),_fnCallbackFire(oSettings,"aoDrawCallback","draw",[oSettings]),oSettings.bSorted=!1,oSettings.bFiltered=!1,oSettings.bDrawing=!1
}function _fnReDraw(settings,holdPosition){var features=settings.oFeatures,sort=features.bSort,filter=features.bFilter;sort&&_fnSort(settings),filter?_fnFilterComplete(settings,settings.oPreviousSearch):settings.aiDisplay=settings.aiDisplayMaster.slice(),holdPosition!==!0&&(settings._iDisplayStart=0),settings._drawHold=holdPosition,_fnDraw(settings),settings._drawHold=!1}function _fnAddOptionsHtml(oSettings){var classes=oSettings.oClasses,table=$(oSettings.nTable),holding=$("<div/>").insertBefore(table),features=oSettings.oFeatures,insert=$("<div/>",{id:oSettings.sTableId+"_wrapper","class":classes.sWrapper+(oSettings.nTFoot?"":" "+classes.sNoFooter)});oSettings.nHolding=holding[0],oSettings.nTableWrapper=insert[0],oSettings.nTableReinsertBefore=oSettings.nTable.nextSibling;for(var featureNode,cOption,nNewNode,cNext,sAttr,j,aDom=oSettings.sDom.split(""),i=0;i<aDom.length;i++){if(featureNode=null,cOption=aDom[i],"<"==cOption){if(nNewNode=$("<div/>")[0],cNext=aDom[i+1],"'"==cNext||'"'==cNext){for(sAttr="",j=2;aDom[i+j]!=cNext;)sAttr+=aDom[i+j],j++;if("H"==sAttr?sAttr=classes.sJUIHeader:"F"==sAttr&&(sAttr=classes.sJUIFooter),-1!=sAttr.indexOf(".")){var aSplit=sAttr.split(".");nNewNode.id=aSplit[0].substr(1,aSplit[0].length-1),nNewNode.className=aSplit[1]}else"#"==sAttr.charAt(0)?nNewNode.id=sAttr.substr(1,sAttr.length-1):nNewNode.className=sAttr;i+=j}insert.append(nNewNode),insert=$(nNewNode)}else if(">"==cOption)insert=insert.parent();else if("l"==cOption&&features.bPaginate&&features.bLengthChange)featureNode=_fnFeatureHtmlLength(oSettings);else if("f"==cOption&&features.bFilter)featureNode=_fnFeatureHtmlFilter(oSettings);else if("r"==cOption&&features.bProcessing)featureNode=_fnFeatureHtmlProcessing(oSettings);else if("t"==cOption)featureNode=_fnFeatureHtmlTable(oSettings);else if("i"==cOption&&features.bInfo)featureNode=_fnFeatureHtmlInfo(oSettings);else if("p"==cOption&&features.bPaginate)featureNode=_fnFeatureHtmlPaginate(oSettings);else if(0!==DataTable.ext.feature.length)for(var aoFeatures=DataTable.ext.feature,k=0,kLen=aoFeatures.length;kLen>k;k++)if(cOption==aoFeatures[k].cFeature){featureNode=aoFeatures[k].fnInit(oSettings);break}if(featureNode){var aanFeatures=oSettings.aanFeatures;aanFeatures[cOption]||(aanFeatures[cOption]=[]),aanFeatures[cOption].push(featureNode),insert.append(featureNode)}}holding.replaceWith(insert),oSettings.nHolding=null}function _fnDetectHeader(aLayout,nThead){var nTr,nCell,i,k,l,iLen,iColShifted,iColumn,iColspan,iRowspan,bUnique,nTrs=$(nThead).children("tr"),fnShiftCol=function(a,i,j){for(var k=a[i];k[j];)j++;return j};for(aLayout.splice(0,aLayout.length),i=0,iLen=nTrs.length;iLen>i;i++)aLayout.push([]);for(i=0,iLen=nTrs.length;iLen>i;i++)for(nTr=nTrs[i],iColumn=0,nCell=nTr.firstChild;nCell;){if("TD"==nCell.nodeName.toUpperCase()||"TH"==nCell.nodeName.toUpperCase())for(iColspan=1*nCell.getAttribute("colspan"),iRowspan=1*nCell.getAttribute("rowspan"),iColspan=iColspan&&0!==iColspan&&1!==iColspan?iColspan:1,iRowspan=iRowspan&&0!==iRowspan&&1!==iRowspan?iRowspan:1,iColShifted=fnShiftCol(aLayout,i,iColumn),bUnique=1===iColspan?!0:!1,l=0;iColspan>l;l++)for(k=0;iRowspan>k;k++)aLayout[i+k][iColShifted+l]={cell:nCell,unique:bUnique},aLayout[i+k].nTr=nTr;nCell=nCell.nextSibling}}function _fnGetUniqueThs(oSettings,nHeader,aLayout){var aReturn=[];aLayout||(aLayout=oSettings.aoHeader,nHeader&&(aLayout=[],_fnDetectHeader(aLayout,nHeader)));for(var i=0,iLen=aLayout.length;iLen>i;i++)for(var j=0,jLen=aLayout[i].length;jLen>j;j++)!aLayout[i][j].unique||aReturn[j]&&oSettings.bSortCellsTop||(aReturn[j]=aLayout[i][j].cell);return aReturn}function _fnBuildAjax(oSettings,data,fn){if(_fnCallbackFire(oSettings,"aoServerParams","serverParams",[data]),data&&$.isArray(data)){var tmp={},rbracket=/(.*?)\[\]$/;$.each(data,function(key,val){var match=val.name.match(rbracket);if(match){var name=match[0];tmp[name]||(tmp[name]=[]),tmp[name].push(val.value)}else tmp[val.name]=val.value}),data=tmp}var ajaxData,ajax=oSettings.ajax,instance=oSettings.oInstance,callback=function(json){_fnCallbackFire(oSettings,null,"xhr",[oSettings,json,oSettings.jqXHR]),fn(json)};if($.isPlainObject(ajax)&&ajax.data){ajaxData=ajax.data;var newData=$.isFunction(ajaxData)?ajaxData(data,oSettings):ajaxData;data=$.isFunction(ajaxData)&&newData?newData:$.extend(!0,data,newData),delete ajax.data}var baseAjax={data:data,success:function(json){var error=json.error||json.sError;error&&_fnLog(oSettings,0,error),oSettings.json=json,callback(json)},dataType:"json",cache:!1,type:oSettings.sServerMethod,error:function(xhr,error){var ret=_fnCallbackFire(oSettings,null,"xhr",[oSettings,null,oSettings.jqXHR]);-1===$.inArray(!0,ret)&&("parsererror"==error?_fnLog(oSettings,0,"Invalid JSON response",1):4===xhr.readyState&&_fnLog(oSettings,0,"Ajax error",7)),_fnProcessingDisplay(oSettings,!1)}};oSettings.oAjaxData=data,_fnCallbackFire(oSettings,null,"preXhr",[oSettings,data]),oSettings.fnServerData?oSettings.fnServerData.call(instance,oSettings.sAjaxSource,$.map(data,function(val,key){return{name:key,value:val}}),callback,oSettings):oSettings.sAjaxSource||"string"==typeof ajax?oSettings.jqXHR=$.ajax($.extend(baseAjax,{url:ajax||oSettings.sAjaxSource})):$.isFunction(ajax)?oSettings.jqXHR=ajax.call(instance,data,callback,oSettings):(oSettings.jqXHR=$.ajax($.extend(baseAjax,ajax)),ajax.data=ajaxData)}function _fnAjaxUpdate(settings){return settings.bAjaxDataGet?(settings.iDraw++,_fnProcessingDisplay(settings,!0),_fnBuildAjax(settings,_fnAjaxParameters(settings),function(json){_fnAjaxUpdateDraw(settings,json)}),!1):!0}function _fnAjaxParameters(settings){var i,dataProp,column,columnSearch,columns=settings.aoColumns,columnCount=columns.length,features=settings.oFeatures,preSearch=settings.oPreviousSearch,preColSearch=settings.aoPreSearchCols,data=[],sort=_fnSortFlatten(settings),displayStart=settings._iDisplayStart,displayLength=features.bPaginate!==!1?settings._iDisplayLength:-1,param=function(name,value){data.push({name:name,value:value})};param("sEcho",settings.iDraw),param("iColumns",columnCount),param("sColumns",_pluck(columns,"sName").join(",")),param("iDisplayStart",displayStart),param("iDisplayLength",displayLength);var d={draw:settings.iDraw,columns:[],order:[],start:displayStart,length:displayLength,search:{value:preSearch.sSearch,regex:preSearch.bRegex}};for(i=0;columnCount>i;i++)column=columns[i],columnSearch=preColSearch[i],dataProp="function"==typeof column.mData?"function":column.mData,d.columns.push({data:dataProp,name:column.sName,searchable:column.bSearchable,orderable:column.bSortable,search:{value:columnSearch.sSearch,regex:columnSearch.bRegex}}),param("mDataProp_"+i,dataProp),features.bFilter&&(param("sSearch_"+i,columnSearch.sSearch),param("bRegex_"+i,columnSearch.bRegex),param("bSearchable_"+i,column.bSearchable)),features.bSort&&param("bSortable_"+i,column.bSortable);features.bFilter&&(param("sSearch",preSearch.sSearch),param("bRegex",preSearch.bRegex)),features.bSort&&($.each(sort,function(i,val){d.order.push({column:val.col,dir:val.dir}),param("iSortCol_"+i,val.col),param("sSortDir_"+i,val.dir)}),param("iSortingCols",sort.length));var legacy=DataTable.ext.legacy.ajax;return null===legacy?settings.sAjaxSource?data:d:legacy?data:d}function _fnAjaxUpdateDraw(settings,json){var compat=function(old,modern){return json[old]!==undefined?json[old]:json[modern]},data=_fnAjaxDataSrc(settings,json),draw=compat("sEcho","draw"),recordsTotal=compat("iTotalRecords","recordsTotal"),recordsFiltered=compat("iTotalDisplayRecords","recordsFiltered");if(draw){if(1*draw<settings.iDraw)return;settings.iDraw=1*draw}_fnClearTable(settings),settings._iRecordsTotal=parseInt(recordsTotal,10),settings._iRecordsDisplay=parseInt(recordsFiltered,10);for(var i=0,ien=data.length;ien>i;i++)_fnAddData(settings,data[i]);settings.aiDisplay=settings.aiDisplayMaster.slice(),settings.bAjaxDataGet=!1,_fnDraw(settings),settings._bInitComplete||_fnInitComplete(settings,json),settings.bAjaxDataGet=!0,_fnProcessingDisplay(settings,!1)}function _fnAjaxDataSrc(oSettings,json){var dataSrc=$.isPlainObject(oSettings.ajax)&&oSettings.ajax.dataSrc!==undefined?oSettings.ajax.dataSrc:oSettings.sAjaxDataProp;return"data"===dataSrc?json.aaData||json[dataSrc]:""!==dataSrc?_fnGetObjectDataFn(dataSrc)(json):json}function _fnFeatureHtmlFilter(settings){var classes=settings.oClasses,tableId=settings.sTableId,language=settings.oLanguage,previousSearch=settings.oPreviousSearch,features=settings.aanFeatures,input='<input type="search" class="'+classes.sFilterInput+'"/>',str=language.sSearch;str=str.match(/_INPUT_/)?str.replace("_INPUT_",input):str+input;var filter=$("<div/>",{id:features.f?null:tableId+"_filter","class":classes.sFilter}).append($("<label/>").append(str)),searchFn=function(){var val=(features.f,this.value?this.value:"");val!=previousSearch.sSearch&&(_fnFilterComplete(settings,{sSearch:val,bRegex:previousSearch.bRegex,bSmart:previousSearch.bSmart,bCaseInsensitive:previousSearch.bCaseInsensitive}),settings._iDisplayStart=0,_fnDraw(settings))},searchDelay=null!==settings.searchDelay?settings.searchDelay:"ssp"===_fnDataSource(settings)?400:0,jqFilter=$("input",filter).val(previousSearch.sSearch).attr("placeholder",language.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",searchDelay?_fnThrottle(searchFn,searchDelay):searchFn).bind("keypress.DT",function(e){return 13==e.keyCode?!1:void 0}).attr("aria-controls",tableId);return $(settings.nTable).on("search.dt.DT",function(ev,s){if(settings===s)try{jqFilter[0]!==document.activeElement&&jqFilter.val(previousSearch.sSearch)}catch(e){}}),filter[0]}function _fnFilterComplete(oSettings,oInput,iForce){var oPrevSearch=oSettings.oPreviousSearch,aoPrevSearch=oSettings.aoPreSearchCols,fnSaveFilter=function(oFilter){oPrevSearch.sSearch=oFilter.sSearch,oPrevSearch.bRegex=oFilter.bRegex,oPrevSearch.bSmart=oFilter.bSmart,oPrevSearch.bCaseInsensitive=oFilter.bCaseInsensitive},fnRegex=function(o){return o.bEscapeRegex!==undefined?!o.bEscapeRegex:o.bRegex};if(_fnColumnTypes(oSettings),"ssp"!=_fnDataSource(oSettings)){_fnFilter(oSettings,oInput.sSearch,iForce,fnRegex(oInput),oInput.bSmart,oInput.bCaseInsensitive),fnSaveFilter(oInput);for(var i=0;i<aoPrevSearch.length;i++)_fnFilterColumn(oSettings,aoPrevSearch[i].sSearch,i,fnRegex(aoPrevSearch[i]),aoPrevSearch[i].bSmart,aoPrevSearch[i].bCaseInsensitive);_fnFilterCustom(oSettings)}else fnSaveFilter(oInput);oSettings.bFiltered=!0,_fnCallbackFire(oSettings,null,"search",[oSettings])}function _fnFilterCustom(settings){for(var row,rowIdx,filters=DataTable.ext.search,displayRows=settings.aiDisplay,i=0,ien=filters.length;ien>i;i++){for(var rows=[],j=0,jen=displayRows.length;jen>j;j++)rowIdx=displayRows[j],row=settings.aoData[rowIdx],filters[i](settings,row._aFilterData,rowIdx,row._aData,j)&&rows.push(rowIdx);displayRows.length=0,$.merge(displayRows,rows)}}function _fnFilterColumn(settings,searchStr,colIdx,regex,smart,caseInsensitive){if(""!==searchStr)for(var data,display=settings.aiDisplay,rpSearch=_fnFilterCreateSearch(searchStr,regex,smart,caseInsensitive),i=display.length-1;i>=0;i--)data=settings.aoData[display[i]]._aFilterData[colIdx],rpSearch.test(data)||display.splice(i,1)}function _fnFilter(settings,input,force,regex,smart,caseInsensitive){var display,invalidated,i,rpSearch=_fnFilterCreateSearch(input,regex,smart,caseInsensitive),prevSearch=settings.oPreviousSearch.sSearch,displayMaster=settings.aiDisplayMaster;if(0!==DataTable.ext.search.length&&(force=!0),invalidated=_fnFilterData(settings),input.length<=0)settings.aiDisplay=displayMaster.slice();else for((invalidated||force||prevSearch.length>input.length||0!==input.indexOf(prevSearch)||settings.bSorted)&&(settings.aiDisplay=displayMaster.slice()),display=settings.aiDisplay,i=display.length-1;i>=0;i--)rpSearch.test(settings.aoData[display[i]]._sFilterRow)||display.splice(i,1)}function _fnFilterCreateSearch(search,regex,smart,caseInsensitive){if(search=regex?search:_fnEscapeRegex(search),smart){var a=$.map(search.match(/"[^"]+"|[^ ]+/g)||[""],function(word){if('"'===word.charAt(0)){var m=word.match(/^"(.*)"$/);word=m?m[1]:word}return word.replace('"',"")});search="^(?=.*?"+a.join(")(?=.*?")+").*$"}return new RegExp(search,caseInsensitive?"i":"")}function _fnEscapeRegex(sVal){return sVal.replace(_re_escape_regex,"\\$1")}function _fnFilterData(settings){var column,i,j,ien,jen,filterData,cellData,row,columns=settings.aoColumns,fomatters=DataTable.ext.type.search,wasInvalidated=!1;for(i=0,ien=settings.aoData.length;ien>i;i++)if(row=settings.aoData[i],!row._aFilterData){for(filterData=[],j=0,jen=columns.length;jen>j;j++)column=columns[j],column.bSearchable?(cellData=_fnGetCellData(settings,i,j,"filter"),fomatters[column.sType]&&(cellData=fomatters[column.sType](cellData)),null===cellData&&(cellData=""),"string"!=typeof cellData&&cellData.toString&&(cellData=cellData.toString())):cellData="",cellData.indexOf&&-1!==cellData.indexOf("&")&&(__filter_div.innerHTML=cellData,cellData=__filter_div_textContent?__filter_div.textContent:__filter_div.innerText),cellData.replace&&(cellData=cellData.replace(/[\r\n]/g,"")),filterData.push(cellData);row._aFilterData=filterData,row._sFilterRow=filterData.join("  "),wasInvalidated=!0}return wasInvalidated}function _fnSearchToCamel(obj){return{search:obj.sSearch,smart:obj.bSmart,regex:obj.bRegex,caseInsensitive:obj.bCaseInsensitive}}function _fnSearchToHung(obj){return{sSearch:obj.search,bSmart:obj.smart,bRegex:obj.regex,bCaseInsensitive:obj.caseInsensitive}}function _fnFeatureHtmlInfo(settings){var tid=settings.sTableId,nodes=settings.aanFeatures.i,n=$("<div/>",{"class":settings.oClasses.sInfo,id:nodes?null:tid+"_info"});return nodes||(settings.aoDrawCallback.push({fn:_fnUpdateInfo,sName:"information"}),n.attr("role","status").attr("aria-live","polite"),$(settings.nTable).attr("aria-describedby",tid+"_info")),n[0]}function _fnUpdateInfo(settings){var nodes=settings.aanFeatures.i;if(0!==nodes.length){var lang=settings.oLanguage,start=settings._iDisplayStart+1,end=settings.fnDisplayEnd(),max=settings.fnRecordsTotal(),total=settings.fnRecordsDisplay(),out=total?lang.sInfo:lang.sInfoEmpty;total!==max&&(out+=" "+lang.sInfoFiltered),out+=lang.sInfoPostFix,out=_fnInfoMacros(settings,out);var callback=lang.fnInfoCallback;null!==callback&&(out=callback.call(settings.oInstance,settings,start,end,max,total,out)),$(nodes).html(out)}}function _fnInfoMacros(settings,str){var formatter=settings.fnFormatNumber,start=settings._iDisplayStart+1,len=settings._iDisplayLength,vis=settings.fnRecordsDisplay(),all=-1===len;return str.replace(/_START_/g,formatter.call(settings,start)).replace(/_END_/g,formatter.call(settings,settings.fnDisplayEnd())).replace(/_MAX_/g,formatter.call(settings,settings.fnRecordsTotal())).replace(/_TOTAL_/g,formatter.call(settings,vis)).replace(/_PAGE_/g,formatter.call(settings,all?1:Math.ceil(start/len))).replace(/_PAGES_/g,formatter.call(settings,all?1:Math.ceil(vis/len)))}function _fnInitialise(settings){var i,iLen,column,iAjaxStart=settings.iInitDisplayStart,columns=settings.aoColumns,features=settings.oFeatures,deferLoading=settings.bDeferLoading;if(!settings.bInitialised)return void setTimeout(function(){_fnInitialise(settings)},200);for(_fnAddOptionsHtml(settings),_fnBuildHead(settings),_fnDrawHead(settings,settings.aoHeader),_fnDrawHead(settings,settings.aoFooter),_fnProcessingDisplay(settings,!0),features.bAutoWidth&&_fnCalculateColumnWidths(settings),i=0,iLen=columns.length;iLen>i;i++)column=columns[i],column.sWidth&&(column.nTh.style.width=_fnStringToCss(column.sWidth));_fnCallbackFire(settings,null,"preInit",[settings]),_fnReDraw(settings);var dataSrc=_fnDataSource(settings);("ssp"!=dataSrc||deferLoading)&&("ajax"==dataSrc?_fnBuildAjax(settings,[],function(json){var aData=_fnAjaxDataSrc(settings,json);for(i=0;i<aData.length;i++)_fnAddData(settings,aData[i]);settings.iInitDisplayStart=iAjaxStart,_fnReDraw(settings),_fnProcessingDisplay(settings,!1),_fnInitComplete(settings,json)},settings):(_fnProcessingDisplay(settings,!1),_fnInitComplete(settings)))}function _fnInitComplete(settings,json){settings._bInitComplete=!0,(json||settings.oInit.aaData)&&_fnAdjustColumnSizing(settings),_fnCallbackFire(settings,"aoInitComplete","init",[settings,json])}function _fnLengthChange(settings,val){var len=parseInt(val,10);settings._iDisplayLength=len,_fnLengthOverflow(settings),_fnCallbackFire(settings,null,"length",[settings,len])}function _fnFeatureHtmlLength(settings){for(var classes=settings.oClasses,tableId=settings.sTableId,menu=settings.aLengthMenu,d2=$.isArray(menu[0]),lengths=d2?menu[0]:menu,language=d2?menu[1]:menu,select=$("<select/>",{name:tableId+"_length","aria-controls":tableId,"class":classes.sLengthSelect}),i=0,ien=lengths.length;ien>i;i++)select[0][i]=new Option(language[i],lengths[i]);var div=$("<div><label/></div>").addClass(classes.sLength);return settings.aanFeatures.l||(div[0].id=tableId+"_length"),div.children().append(settings.oLanguage.sLengthMenu.replace("_MENU_",select[0].outerHTML)),$("select",div).val(settings._iDisplayLength).bind("change.DT",function(){_fnLengthChange(settings,$(this).val()),_fnDraw(settings)}),$(settings.nTable).bind("length.dt.DT",function(e,s,len){settings===s&&$("select",div).val(len)}),div[0]}function _fnFeatureHtmlPaginate(settings){var type=settings.sPaginationType,plugin=DataTable.ext.pager[type],modern="function"==typeof plugin,redraw=function(settings){_fnDraw(settings)},node=$("<div/>").addClass(settings.oClasses.sPaging+type)[0],features=settings.aanFeatures;return modern||plugin.fnInit(settings,node,redraw),features.p||(node.id=settings.sTableId+"_paginate",settings.aoDrawCallback.push({fn:function(settings){if(modern){var i,ien,start=settings._iDisplayStart,len=settings._iDisplayLength,visRecords=settings.fnRecordsDisplay(),all=-1===len,page=all?0:Math.ceil(start/len),pages=all?1:Math.ceil(visRecords/len),buttons=plugin(page,pages);for(i=0,ien=features.p.length;ien>i;i++)_fnRenderer(settings,"pageButton")(settings,features.p[i],i,buttons,page,pages)}else plugin.fnUpdate(settings,redraw)},sName:"pagination"})),node}function _fnPageChange(settings,action,redraw){var start=settings._iDisplayStart,len=settings._iDisplayLength,records=settings.fnRecordsDisplay();0===records||-1===len?start=0:"number"==typeof action?(start=action*len,start>records&&(start=0)):"first"==action?start=0:"previous"==action?(start=len>=0?start-len:0,0>start&&(start=0)):"next"==action?records>start+len&&(start+=len):"last"==action?start=Math.floor((records-1)/len)*len:_fnLog(settings,0,"Unknown paging action: "+action,5);var changed=settings._iDisplayStart!==start;return settings._iDisplayStart=start,changed&&(_fnCallbackFire(settings,null,"page",[settings]),redraw&&_fnDraw(settings)),changed}function _fnFeatureHtmlProcessing(settings){return $("<div/>",{id:settings.aanFeatures.r?null:settings.sTableId+"_processing","class":settings.oClasses.sProcessing}).html(settings.oLanguage.sProcessing).insertBefore(settings.nTable)[0]}function _fnProcessingDisplay(settings,show){settings.oFeatures.bProcessing&&$(settings.aanFeatures.r).css("display",show?"block":"none"),_fnCallbackFire(settings,null,"processing",[settings,show])}function _fnFeatureHtmlTable(settings){var table=$(settings.nTable);table.attr("role","grid");var scroll=settings.oScroll;if(""===scroll.sX&&""===scroll.sY)return settings.nTable;var scrollX=scroll.sX,scrollY=scroll.sY,classes=settings.oClasses,caption=table.children("caption"),captionSide=caption.length?caption[0]._captionSide:null,headerClone=$(table[0].cloneNode(!1)),footerClone=$(table[0].cloneNode(!1)),footer=table.children("tfoot"),_div="<div/>",size=function(s){return s?_fnStringToCss(s):null};scroll.sX&&"100%"===table.attr("width")&&table.removeAttr("width"),footer.length||(footer=null);var scroller=$(_div,{"class":classes.sScrollWrapper}).append($(_div,{"class":classes.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:scrollX?size(scrollX):"100%"}).append($(_div,{"class":classes.sScrollHeadInner}).css({"box-sizing":"content-box",width:scroll.sXInner||"100%"}).append(headerClone.removeAttr("id").css("margin-left",0).append("top"===captionSide?caption:null).append(table.children("thead"))))).append($(_div,{"class":classes.sScrollBody}).css({position:"relative",overflow:"auto",width:size(scrollX)}).append(table));footer&&scroller.append($(_div,{"class":classes.sScrollFoot}).css({overflow:"hidden",border:0,width:scrollX?size(scrollX):"100%"}).append($(_div,{"class":classes.sScrollFootInner}).append(footerClone.removeAttr("id").css("margin-left",0).append("bottom"===captionSide?caption:null).append(table.children("tfoot")))));var children=scroller.children(),scrollHead=children[0],scrollBody=children[1],scrollFoot=footer?children[2]:null;return scrollX&&$(scrollBody).on("scroll.DT",function(){var scrollLeft=this.scrollLeft;scrollHead.scrollLeft=scrollLeft,footer&&(scrollFoot.scrollLeft=scrollLeft)}),$(scrollBody).css(scrollY&&scroll.bCollapse?"max-height":"height",scrollY),settings.nScrollHead=scrollHead,settings.nScrollBody=scrollBody,settings.nScrollFoot=scrollFoot,settings.aoDrawCallback.push({fn:_fnScrollDraw,sName:"scrolling"}),scroller[0]}function _fnScrollDraw(settings){var headerTrgEls,footerTrgEls,headerSrcEls,footerSrcEls,headerCopy,footerCopy,idx,correction,sanityWidth,scroll=settings.oScroll,scrollX=scroll.sX,scrollXInner=scroll.sXInner,scrollY=scroll.sY,barWidth=scroll.iBarWidth,divHeader=$(settings.nScrollHead),divHeaderStyle=divHeader[0].style,divHeaderInner=divHeader.children("div"),divHeaderInnerStyle=divHeaderInner[0].style,divHeaderTable=divHeaderInner.children("table"),divBodyEl=settings.nScrollBody,divBody=$(divBodyEl),divBodyStyle=divBodyEl.style,divFooter=$(settings.nScrollFoot),divFooterInner=divFooter.children("div"),divFooterTable=divFooterInner.children("table"),header=$(settings.nTHead),table=$(settings.nTable),tableEl=table[0],tableStyle=tableEl.style,footer=settings.nTFoot?$(settings.nTFoot):null,browser=settings.oBrowser,ie67=browser.bScrollOversize,headerWidths=[],footerWidths=[],headerContent=[],zeroOut=function(nSizer){var style=nSizer.style;style.paddingTop="0",style.paddingBottom="0",style.borderTopWidth="0",style.borderBottomWidth="0",style.height=0};table.children("thead, tfoot").remove(),headerCopy=header.clone().prependTo(table),headerTrgEls=header.find("tr"),headerSrcEls=headerCopy.find("tr"),headerCopy.find("th, td").removeAttr("tabindex"),footer&&(footerCopy=footer.clone().prependTo(table),footerTrgEls=footer.find("tr"),footerSrcEls=footerCopy.find("tr")),scrollX||(divBodyStyle.width="100%",divHeader[0].style.width="100%"),$.each(_fnGetUniqueThs(settings,headerCopy),function(i,el){idx=_fnVisibleToColumnIndex(settings,i),el.style.width=settings.aoColumns[idx].sWidth}),footer&&_fnApplyToChildren(function(n){n.style.width=""},footerSrcEls),sanityWidth=table.outerWidth(),""===scrollX?(tableStyle.width="100%",ie67&&(table.find("tbody").height()>divBodyEl.offsetHeight||"scroll"==divBody.css("overflow-y"))&&(tableStyle.width=_fnStringToCss(table.outerWidth()-barWidth)),sanityWidth=table.outerWidth()):""!==scrollXInner&&(tableStyle.width=_fnStringToCss(scrollXInner),sanityWidth=table.outerWidth()),_fnApplyToChildren(zeroOut,headerSrcEls),_fnApplyToChildren(function(nSizer){headerContent.push(nSizer.innerHTML),headerWidths.push(_fnStringToCss($(nSizer).css("width")))},headerSrcEls),_fnApplyToChildren(function(nToSize,i){nToSize.style.width=headerWidths[i]},headerTrgEls),$(headerSrcEls).height(0),footer&&(_fnApplyToChildren(zeroOut,footerSrcEls),_fnApplyToChildren(function(nSizer){footerWidths.push(_fnStringToCss($(nSizer).css("width")))},footerSrcEls),_fnApplyToChildren(function(nToSize,i){nToSize.style.width=footerWidths[i]},footerTrgEls),$(footerSrcEls).height(0)),_fnApplyToChildren(function(nSizer,i){nSizer.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+headerContent[i]+"</div>",nSizer.style.width=headerWidths[i]},headerSrcEls),footer&&_fnApplyToChildren(function(nSizer,i){nSizer.innerHTML="",nSizer.style.width=footerWidths[i]},footerSrcEls),table.outerWidth()<sanityWidth?(correction=divBodyEl.scrollHeight>divBodyEl.offsetHeight||"scroll"==divBody.css("overflow-y")?sanityWidth+barWidth:sanityWidth,ie67&&(divBodyEl.scrollHeight>divBodyEl.offsetHeight||"scroll"==divBody.css("overflow-y"))&&(tableStyle.width=_fnStringToCss(correction-barWidth)),(""===scrollX||""!==scrollXInner)&&_fnLog(settings,1,"Possible column misalignment",6)):correction="100%",divBodyStyle.width=_fnStringToCss(correction),divHeaderStyle.width=_fnStringToCss(correction),footer&&(settings.nScrollFoot.style.width=_fnStringToCss(correction)),scrollY||ie67&&(divBodyStyle.height=_fnStringToCss(tableEl.offsetHeight+barWidth));var iOuterWidth=table.outerWidth();divHeaderTable[0].style.width=_fnStringToCss(iOuterWidth),divHeaderInnerStyle.width=_fnStringToCss(iOuterWidth);var bScrolling=table.height()>divBodyEl.clientHeight||"scroll"==divBody.css("overflow-y"),padding="padding"+(browser.bScrollbarLeft?"Left":"Right");divHeaderInnerStyle[padding]=bScrolling?barWidth+"px":"0px",footer&&(divFooterTable[0].style.width=_fnStringToCss(iOuterWidth),divFooterInner[0].style.width=_fnStringToCss(iOuterWidth),divFooterInner[0].style[padding]=bScrolling?barWidth+"px":"0px"),divBody.scroll(),!settings.bSorted&&!settings.bFiltered||settings._drawHold||(divBodyEl.scrollTop=0)}function _fnApplyToChildren(fn,an1,an2){for(var nNode1,nNode2,index=0,i=0,iLen=an1.length;iLen>i;){for(nNode1=an1[i].firstChild,nNode2=an2?an2[i].firstChild:null;nNode1;)1===nNode1.nodeType&&(an2?fn(nNode1,nNode2,index):fn(nNode1,index),index++),nNode1=nNode1.nextSibling,nNode2=an2?nNode2.nextSibling:null;i++}}function _fnCalculateColumnWidths(oSettings){var i,column,columnIdx,width,outerWidth,table=oSettings.nTable,columns=oSettings.aoColumns,scroll=oSettings.oScroll,scrollY=scroll.sY,scrollX=scroll.sX,scrollXInner=scroll.sXInner,columnCount=columns.length,visibleColumns=_fnGetColumns(oSettings,"bVisible"),headerCells=$("th",oSettings.nTHead),tableWidthAttr=table.getAttribute("width"),tableContainer=table.parentNode,userInputs=!1,browser=oSettings.oBrowser,ie67=browser.bScrollOversize,styleWidth=table.style.width;for(styleWidth&&-1!==styleWidth.indexOf("%")&&(tableWidthAttr=styleWidth),i=0;i<visibleColumns.length;i++)column=columns[visibleColumns[i]],null!==column.sWidth&&(column.sWidth=_fnConvertToWidth(column.sWidthOrig,tableContainer),userInputs=!0);if(ie67||!userInputs&&!scrollX&&!scrollY&&columnCount==_fnVisbleColumns(oSettings)&&columnCount==headerCells.length)for(i=0;columnCount>i;i++){var colIdx=_fnVisibleToColumnIndex(oSettings,i);colIdx&&(columns[colIdx].sWidth=_fnStringToCss(headerCells.eq(i).width()))}else{var tmpTable=$(table).clone().css("visibility","hidden").removeAttr("id");tmpTable.find("tbody tr").remove();var tr=$("<tr/>").appendTo(tmpTable.find("tbody"));for(tmpTable.find("thead, tfoot").remove(),tmpTable.append($(oSettings.nTHead).clone()).append($(oSettings.nTFoot).clone()),tmpTable.find("tfoot th, tfoot td").css("width",""),headerCells=_fnGetUniqueThs(oSettings,tmpTable.find("thead")[0]),i=0;i<visibleColumns.length;i++)column=columns[visibleColumns[i]],headerCells[i].style.width=null!==column.sWidthOrig&&""!==column.sWidthOrig?_fnStringToCss(column.sWidthOrig):"";if(oSettings.aoData.length)for(i=0;i<visibleColumns.length;i++)columnIdx=visibleColumns[i],column=columns[columnIdx],$(_fnGetWidestNode(oSettings,columnIdx)).clone(!1).append(column.sContentPadding).appendTo(tr);var holder=$("<div/>").css(scrollX||scrollY?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(tmpTable).appendTo(tableContainer);if(scrollX&&scrollXInner?tmpTable.width(scrollXInner):scrollX?(tmpTable.css("width","auto"),tmpTable.width()<tableContainer.clientWidth&&tmpTable.width(tableContainer.clientWidth)):scrollY?tmpTable.width(tableContainer.clientWidth):tableWidthAttr&&tmpTable.width(tableWidthAttr),scrollX){var total=0;for(i=0;i<visibleColumns.length;i++)column=columns[visibleColumns[i]],outerWidth=browser.bBounding?headerCells[i].getBoundingClientRect().width:$(headerCells[i]).outerWidth(),total+=null===column.sWidthOrig?outerWidth:parseInt(column.sWidth,10)+outerWidth-$(headerCells[i]).width();tmpTable.width(_fnStringToCss(total)),table.style.width=_fnStringToCss(total)}for(i=0;i<visibleColumns.length;i++)column=columns[visibleColumns[i]],width=$(headerCells[i]).width(),width&&(column.sWidth=_fnStringToCss(width));table.style.width=_fnStringToCss(tmpTable.css("width")),holder.remove()}if(tableWidthAttr&&(table.style.width=_fnStringToCss(tableWidthAttr)),(tableWidthAttr||scrollX)&&!oSettings._reszEvt){var bindResize=function(){$(window).bind("resize.DT-"+oSettings.sInstance,_fnThrottle(function(){_fnAdjustColumnSizing(oSettings)}))};ie67?setTimeout(bindResize,1e3):bindResize(),oSettings._reszEvt=!0}}function _fnThrottle(fn,freq){var last,timer,frequency=freq!==undefined?freq:200;return function(){var that=this,now=+new Date,args=arguments;last&&last+frequency>now?(clearTimeout(timer),timer=setTimeout(function(){last=undefined,fn.apply(that,args)},frequency)):(last=now,fn.apply(that,args))}}function _fnConvertToWidth(width,parent){if(!width)return 0;var n=$("<div/>").css("width",_fnStringToCss(width)).appendTo(parent||document.body),val=n[0].offsetWidth;return n.remove(),val}function _fnGetWidestNode(settings,colIdx){var idx=_fnGetMaxLenString(settings,colIdx);if(0>idx)return null;var data=settings.aoData[idx];return data.nTr?data.anCells[colIdx]:$("<td/>").html(_fnGetCellData(settings,idx,colIdx,"display"))[0]}function _fnGetMaxLenString(settings,colIdx){for(var s,max=-1,maxIdx=-1,i=0,ien=settings.aoData.length;ien>i;i++)s=_fnGetCellData(settings,i,colIdx,"display")+"",s=s.replace(__re_html_remove,""),s.length>max&&(max=s.length,maxIdx=i);return maxIdx}function _fnStringToCss(s){return null===s?"0px":"number"==typeof s?0>s?"0px":s+"px":s.match(/\d$/)?s+"px":s}function _fnSortFlatten(settings){var i,k,kLen,aDataSort,iCol,sType,srcCol,aSort=[],aoColumns=settings.aoColumns,fixed=settings.aaSortingFixed,fixedObj=$.isPlainObject(fixed),nestedSort=[],add=function(a){a.length&&!$.isArray(a[0])?nestedSort.push(a):$.merge(nestedSort,a)};for($.isArray(fixed)&&add(fixed),fixedObj&&fixed.pre&&add(fixed.pre),add(settings.aaSorting),fixedObj&&fixed.post&&add(fixed.post),i=0;i<nestedSort.length;i++)for(srcCol=nestedSort[i][0],aDataSort=aoColumns[srcCol].aDataSort,k=0,kLen=aDataSort.length;kLen>k;k++)iCol=aDataSort[k],sType=aoColumns[iCol].sType||"string",nestedSort[i]._idx===undefined&&(nestedSort[i]._idx=$.inArray(nestedSort[i][1],aoColumns[iCol].asSorting)),aSort.push({src:srcCol,col:iCol,dir:nestedSort[i][1],index:nestedSort[i]._idx,type:sType,formatter:DataTable.ext.type.order[sType+"-pre"]});return aSort}function _fnSort(oSettings){var i,ien,iLen,sortCol,aSort,aiOrig=[],oExtSort=DataTable.ext.type.order,aoData=oSettings.aoData,formatters=(oSettings.aoColumns,0),displayMaster=oSettings.aiDisplayMaster;for(_fnColumnTypes(oSettings),aSort=_fnSortFlatten(oSettings),i=0,ien=aSort.length;ien>i;i++)sortCol=aSort[i],sortCol.formatter&&formatters++,_fnSortData(oSettings,sortCol.col);if("ssp"!=_fnDataSource(oSettings)&&0!==aSort.length){for(i=0,iLen=displayMaster.length;iLen>i;i++)aiOrig[displayMaster[i]]=i;displayMaster.sort(formatters===aSort.length?function(a,b){var x,y,k,test,sort,len=aSort.length,dataA=aoData[a]._aSortData,dataB=aoData[b]._aSortData;for(k=0;len>k;k++)if(sort=aSort[k],x=dataA[sort.col],y=dataB[sort.col],test=y>x?-1:x>y?1:0,0!==test)return"asc"===sort.dir?test:-test;return x=aiOrig[a],y=aiOrig[b],y>x?-1:x>y?1:0}:function(a,b){var x,y,k,test,sort,fn,len=aSort.length,dataA=aoData[a]._aSortData,dataB=aoData[b]._aSortData;for(k=0;len>k;k++)if(sort=aSort[k],x=dataA[sort.col],y=dataB[sort.col],fn=oExtSort[sort.type+"-"+sort.dir]||oExtSort["string-"+sort.dir],test=fn(x,y),0!==test)return test;
return x=aiOrig[a],y=aiOrig[b],y>x?-1:x>y?1:0})}oSettings.bSorted=!0}function _fnSortAria(settings){for(var label,nextSort,columns=settings.aoColumns,aSort=_fnSortFlatten(settings),oAria=settings.oLanguage.oAria,i=0,iLen=columns.length;iLen>i;i++){var col=columns[i],asSorting=col.asSorting,sTitle=col.sTitle.replace(/<.*?>/g,""),th=col.nTh;th.removeAttribute("aria-sort"),col.bSortable?(aSort.length>0&&aSort[0].col==i?(th.setAttribute("aria-sort","asc"==aSort[0].dir?"ascending":"descending"),nextSort=asSorting[aSort[0].index+1]||asSorting[0]):nextSort=asSorting[0],label=sTitle+("asc"===nextSort?oAria.sSortAscending:oAria.sSortDescending)):label=sTitle,th.setAttribute("aria-label",label)}}function _fnSortListener(settings,colIdx,append,callback){var nextSortIdx,col=settings.aoColumns[colIdx],sorting=settings.aaSorting,asSorting=col.asSorting,next=function(a,overflow){var idx=a._idx;return idx===undefined&&(idx=$.inArray(a[1],asSorting)),idx+1<asSorting.length?idx+1:overflow?null:0};if("number"==typeof sorting[0]&&(sorting=settings.aaSorting=[sorting]),append&&settings.oFeatures.bSortMulti){var sortIdx=$.inArray(colIdx,_pluck(sorting,"0"));-1!==sortIdx?(nextSortIdx=next(sorting[sortIdx],!0),null===nextSortIdx&&1===sorting.length&&(nextSortIdx=0),null===nextSortIdx?sorting.splice(sortIdx,1):(sorting[sortIdx][1]=asSorting[nextSortIdx],sorting[sortIdx]._idx=nextSortIdx)):(sorting.push([colIdx,asSorting[0],0]),sorting[sorting.length-1]._idx=0)}else sorting.length&&sorting[0][0]==colIdx?(nextSortIdx=next(sorting[0]),sorting.length=1,sorting[0][1]=asSorting[nextSortIdx],sorting[0]._idx=nextSortIdx):(sorting.length=0,sorting.push([colIdx,asSorting[0]]),sorting[0]._idx=0);_fnReDraw(settings),"function"==typeof callback&&callback(settings)}function _fnSortAttachListener(settings,attachTo,colIdx,callback){var col=settings.aoColumns[colIdx];_fnBindAction(attachTo,{},function(e){col.bSortable!==!1&&(settings.oFeatures.bProcessing?(_fnProcessingDisplay(settings,!0),setTimeout(function(){_fnSortListener(settings,colIdx,e.shiftKey,callback),"ssp"!==_fnDataSource(settings)&&_fnProcessingDisplay(settings,!1)},0)):_fnSortListener(settings,colIdx,e.shiftKey,callback))})}function _fnSortingClasses(settings){var i,ien,colIdx,oldSort=settings.aLastSort,sortClass=settings.oClasses.sSortColumn,sort=_fnSortFlatten(settings),features=settings.oFeatures;if(features.bSort&&features.bSortClasses){for(i=0,ien=oldSort.length;ien>i;i++)colIdx=oldSort[i].src,$(_pluck(settings.aoData,"anCells",colIdx)).removeClass(sortClass+(2>i?i+1:3));for(i=0,ien=sort.length;ien>i;i++)colIdx=sort[i].src,$(_pluck(settings.aoData,"anCells",colIdx)).addClass(sortClass+(2>i?i+1:3))}settings.aLastSort=sort}function _fnSortData(settings,idx){var customData,column=settings.aoColumns[idx],customSort=DataTable.ext.order[column.sSortDataType];customSort&&(customData=customSort.call(settings.oInstance,settings,idx,_fnColumnIndexToVisible(settings,idx)));for(var row,cellData,formatter=DataTable.ext.type.order[column.sType+"-pre"],i=0,ien=settings.aoData.length;ien>i;i++)row=settings.aoData[i],row._aSortData||(row._aSortData=[]),(!row._aSortData[idx]||customSort)&&(cellData=customSort?customData[i]:_fnGetCellData(settings,i,idx,"sort"),row._aSortData[idx]=formatter?formatter(cellData):cellData)}function _fnSaveState(settings){if(settings.oFeatures.bStateSave&&!settings.bDestroying){var state={time:+new Date,start:settings._iDisplayStart,length:settings._iDisplayLength,order:$.extend(!0,[],settings.aaSorting),search:_fnSearchToCamel(settings.oPreviousSearch),columns:$.map(settings.aoColumns,function(col,i){return{visible:col.bVisible,search:_fnSearchToCamel(settings.aoPreSearchCols[i])}})};_fnCallbackFire(settings,"aoStateSaveParams","stateSaveParams",[settings,state]),settings.oSavedState=state,settings.fnStateSaveCallback.call(settings.oInstance,settings,state)}}function _fnLoadState(settings){var i,ien,columns=settings.aoColumns;if(settings.oFeatures.bStateSave){var state=settings.fnStateLoadCallback.call(settings.oInstance,settings);if(state&&state.time){var abStateLoad=_fnCallbackFire(settings,"aoStateLoadParams","stateLoadParams",[settings,state]);if(-1===$.inArray(!1,abStateLoad)){var duration=settings.iStateDuration;if(!(duration>0&&state.time<+new Date-1e3*duration)&&columns.length===state.columns.length){for(settings.oLoadedState=$.extend(!0,{},state),state.start!==undefined&&(settings._iDisplayStart=state.start,settings.iInitDisplayStart=state.start),state.length!==undefined&&(settings._iDisplayLength=state.length),state.order!==undefined&&(settings.aaSorting=[],$.each(state.order,function(i,col){settings.aaSorting.push(col[0]>=columns.length?[0,col[1]]:col)})),state.search!==undefined&&$.extend(settings.oPreviousSearch,_fnSearchToHung(state.search)),i=0,ien=state.columns.length;ien>i;i++){var col=state.columns[i];col.visible!==undefined&&(columns[i].bVisible=col.visible),col.search!==undefined&&$.extend(settings.aoPreSearchCols[i],_fnSearchToHung(col.search))}_fnCallbackFire(settings,"aoStateLoaded","stateLoaded",[settings,state])}}}}}function _fnSettingsFromNode(table){var settings=DataTable.settings,idx=$.inArray(table,_pluck(settings,"nTable"));return-1!==idx?settings[idx]:null}function _fnLog(settings,level,msg,tn){if(msg="DataTables warning: "+(settings?"table id="+settings.sTableId+" - ":"")+msg,tn&&(msg+=". For more information about this error, please see http://datatables.net/tn/"+tn),level)window.console&&console.log&&console.log(msg);else{var ext=DataTable.ext,type=ext.sErrMode||ext.errMode;if(settings&&_fnCallbackFire(settings,null,"error",[settings,tn,msg]),"alert"==type)alert(msg);else{if("throw"==type)throw new Error(msg);"function"==typeof type&&type(settings,tn,msg)}}}function _fnMap(ret,src,name,mappedName){return $.isArray(name)?void $.each(name,function(i,val){$.isArray(val)?_fnMap(ret,src,val[0],val[1]):_fnMap(ret,src,val)}):(mappedName===undefined&&(mappedName=name),void(src[name]!==undefined&&(ret[mappedName]=src[name])))}function _fnExtend(out,extender,breakRefs){var val;for(var prop in extender)extender.hasOwnProperty(prop)&&(val=extender[prop],$.isPlainObject(val)?($.isPlainObject(out[prop])||(out[prop]={}),$.extend(!0,out[prop],val)):out[prop]=breakRefs&&"data"!==prop&&"aaData"!==prop&&$.isArray(val)?val.slice():val);return out}function _fnBindAction(n,oData,fn){$(n).bind("click.DT",oData,function(e){n.blur(),fn(e)}).bind("keypress.DT",oData,function(e){13===e.which&&(e.preventDefault(),fn(e))}).bind("selectstart.DT",function(){return!1})}function _fnCallbackReg(oSettings,sStore,fn,sName){fn&&oSettings[sStore].push({fn:fn,sName:sName})}function _fnCallbackFire(settings,callbackArr,eventName,args){var ret=[];if(callbackArr&&(ret=$.map(settings[callbackArr].slice().reverse(),function(val){return val.fn.apply(settings.oInstance,args)})),null!==eventName){var e=$.Event(eventName+".dt");$(settings.nTable).trigger(e,args),ret.push(e.result)}return ret}function _fnLengthOverflow(settings){var start=settings._iDisplayStart,end=settings.fnDisplayEnd(),len=settings._iDisplayLength;start>=end&&(start=end-len),start-=start%len,(-1===len||0>start)&&(start=0),settings._iDisplayStart=start}function _fnRenderer(settings,type){var renderer=settings.renderer,host=DataTable.ext.renderer[type];return $.isPlainObject(renderer)&&renderer[type]?host[renderer[type]]||host._:"string"==typeof renderer?host[renderer]||host._:host._}function _fnDataSource(settings){return settings.oFeatures.bServerSide?"ssp":settings.ajax||settings.sAjaxSource?"ajax":"dom"}function _numbers(page,pages){var numbers=[],buttons=extPagination.numbers_length,half=Math.floor(buttons/2);return buttons>=pages?numbers=_range(0,pages):half>=page?(numbers=_range(0,buttons-2),numbers.push("ellipsis"),numbers.push(pages-1)):page>=pages-1-half?(numbers=_range(pages-(buttons-2),pages),numbers.splice(0,0,"ellipsis"),numbers.splice(0,0,0)):(numbers=_range(page-half+2,page+half-1),numbers.push("ellipsis"),numbers.push(pages-1),numbers.splice(0,0,"ellipsis"),numbers.splice(0,0,0)),numbers.DT_el="span",numbers}function _addNumericSort(decimalPlace){$.each({num:function(d){return __numericReplace(d,decimalPlace)},"num-fmt":function(d){return __numericReplace(d,decimalPlace,_re_formatted_numeric)},"html-num":function(d){return __numericReplace(d,decimalPlace,_re_html)},"html-num-fmt":function(d){return __numericReplace(d,decimalPlace,_re_html,_re_formatted_numeric)}},function(key,fn){_ext.type.order[key+decimalPlace+"-pre"]=fn,key.match(/^html\-/)&&(_ext.type.search[key+decimalPlace]=_ext.type.search.html)})}function _fnExternApiFunc(fn){return function(){var args=[_fnSettingsFromNode(this[DataTable.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return DataTable.ext.internal[fn].apply(this,args)}}var DataTable,_ext,_Api,_api_register,_api_registerPlural,_re_dic={},_re_new_lines=/[\r\n]/g,_re_html=/<.*?>/g,_re_date_start=/^[\w\+\-]/,_re_date_end=/[\w\+\-]$/,_re_escape_regex=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),_re_formatted_numeric=/[',$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,_empty=function(d){return d&&d!==!0&&"-"!==d?!1:!0},_intVal=function(s){var integer=parseInt(s,10);return!isNaN(integer)&&isFinite(s)?integer:null},_numToDecimal=function(num,decimalPoint){return _re_dic[decimalPoint]||(_re_dic[decimalPoint]=new RegExp(_fnEscapeRegex(decimalPoint),"g")),"string"==typeof num&&"."!==decimalPoint?num.replace(/\./g,"").replace(_re_dic[decimalPoint],"."):num},_isNumber=function(d,decimalPoint,formatted){var strType="string"==typeof d;return _empty(d)?!0:(decimalPoint&&strType&&(d=_numToDecimal(d,decimalPoint)),formatted&&strType&&(d=d.replace(_re_formatted_numeric,"")),!isNaN(parseFloat(d))&&isFinite(d))},_isHtml=function(d){return _empty(d)||"string"==typeof d},_htmlNumeric=function(d,decimalPoint,formatted){if(_empty(d))return!0;var html=_isHtml(d);return html&&_isNumber(_stripHtml(d),decimalPoint,formatted)?!0:null},_pluck=function(a,prop,prop2){var out=[],i=0,ien=a.length;if(prop2!==undefined)for(;ien>i;i++)a[i]&&a[i][prop]&&out.push(a[i][prop][prop2]);else for(;ien>i;i++)a[i]&&out.push(a[i][prop]);return out},_pluck_order=function(a,order,prop,prop2){var out=[],i=0,ien=order.length;if(prop2!==undefined)for(;ien>i;i++)a[order[i]][prop]&&out.push(a[order[i]][prop][prop2]);else for(;ien>i;i++)out.push(a[order[i]][prop]);return out},_range=function(len,start){var end,out=[];start===undefined?(start=0,end=len):(end=start,start=len);for(var i=start;end>i;i++)out.push(i);return out},_removeEmpty=function(a){for(var out=[],i=0,ien=a.length;ien>i;i++)a[i]&&out.push(a[i]);return out},_stripHtml=function(d){return d.replace(_re_html,"")},_unique=function(src){var val,i,j,out=[],ien=src.length,k=0;again:for(i=0;ien>i;i++){for(val=src[i],j=0;k>j;j++)if(out[j]===val)continue again;out.push(val),k++}return out},_fnCompatMap=function(o,knew,old){o[knew]!==undefined&&(o[old]=o[knew])},__reArray=/\[.*?\]$/,__reFn=/\(\)$/,__filter_div=$("<div>")[0],__filter_div_textContent=__filter_div.textContent!==undefined,__re_html_remove=/<.*?>/g;DataTable=function(options){this.$=function(sSelector,oOpts){return this.api(!0).$(sSelector,oOpts)},this._=function(sSelector,oOpts){return this.api(!0).rows(sSelector,oOpts).data()},this.api=function(traditional){return new _Api(traditional?_fnSettingsFromNode(this[_ext.iApiIndex]):this)},this.fnAddData=function(data,redraw){var api=this.api(!0),rows=$.isArray(data)&&($.isArray(data[0])||$.isPlainObject(data[0]))?api.rows.add(data):api.row.add(data);return(redraw===undefined||redraw)&&api.draw(),rows.flatten().toArray()},this.fnAdjustColumnSizing=function(bRedraw){var api=this.api(!0).columns.adjust(),settings=api.settings()[0],scroll=settings.oScroll;bRedraw===undefined||bRedraw?api.draw(!1):(""!==scroll.sX||""!==scroll.sY)&&_fnScrollDraw(settings)},this.fnClearTable=function(bRedraw){var api=this.api(!0).clear();(bRedraw===undefined||bRedraw)&&api.draw()},this.fnClose=function(nTr){this.api(!0).row(nTr).child.hide()},this.fnDeleteRow=function(target,callback,redraw){var api=this.api(!0),rows=api.rows(target),settings=rows.settings()[0],data=settings.aoData[rows[0][0]];return rows.remove(),callback&&callback.call(this,settings,data),(redraw===undefined||redraw)&&api.draw(),data},this.fnDestroy=function(remove){this.api(!0).destroy(remove)},this.fnDraw=function(complete){this.api(!0).draw(complete)},this.fnFilter=function(sInput,iColumn,bRegex,bSmart,bShowGlobal,bCaseInsensitive){var api=this.api(!0);null===iColumn||iColumn===undefined?api.search(sInput,bRegex,bSmart,bCaseInsensitive):api.column(iColumn).search(sInput,bRegex,bSmart,bCaseInsensitive),api.draw()},this.fnGetData=function(src,col){var api=this.api(!0);if(src!==undefined){var type=src.nodeName?src.nodeName.toLowerCase():"";return col!==undefined||"td"==type||"th"==type?api.cell(src,col).data():api.row(src).data()||null}return api.data().toArray()},this.fnGetNodes=function(iRow){var api=this.api(!0);return iRow!==undefined?api.row(iRow).node():api.rows().nodes().flatten().toArray()},this.fnGetPosition=function(node){var api=this.api(!0),nodeName=node.nodeName.toUpperCase();if("TR"==nodeName)return api.row(node).index();if("TD"==nodeName||"TH"==nodeName){var cell=api.cell(node).index();return[cell.row,cell.columnVisible,cell.column]}return null},this.fnIsOpen=function(nTr){return this.api(!0).row(nTr).child.isShown()},this.fnOpen=function(nTr,mHtml,sClass){return this.api(!0).row(nTr).child(mHtml,sClass).show().child()[0]},this.fnPageChange=function(mAction,bRedraw){var api=this.api(!0).page(mAction);(bRedraw===undefined||bRedraw)&&api.draw(!1)},this.fnSetColumnVis=function(iCol,bShow,bRedraw){var api=this.api(!0).column(iCol).visible(bShow);(bRedraw===undefined||bRedraw)&&api.columns.adjust().draw()},this.fnSettings=function(){return _fnSettingsFromNode(this[_ext.iApiIndex])},this.fnSort=function(aaSort){this.api(!0).order(aaSort).draw()},this.fnSortListener=function(nNode,iColumn,fnCallback){this.api(!0).order.listener(nNode,iColumn,fnCallback)},this.fnUpdate=function(mData,mRow,iColumn,bRedraw,bAction){var api=this.api(!0);return iColumn===undefined||null===iColumn?api.row(mRow).data(mData):api.cell(mRow,iColumn).data(mData),(bAction===undefined||bAction)&&api.columns.adjust(),(bRedraw===undefined||bRedraw)&&api.draw(),0},this.fnVersionCheck=_ext.fnVersionCheck;var _that=this,emptyInit=options===undefined,len=this.length;emptyInit&&(options={}),this.oApi=this.internal=_ext.internal;for(var fn in DataTable.ext.internal)fn&&(this[fn]=_fnExternApiFunc(fn));return this.each(function(){var iLen,o={},oInit=len>1?_fnExtend(o,options,!0):options,i=0,sId=this.getAttribute("id"),bInitHandedOff=!1,defaults=DataTable.defaults,$this=$(this);if("table"!=this.nodeName.toLowerCase())return void _fnLog(null,0,"Non-table node initialisation ("+this.nodeName+")",2);_fnCompatOpts(defaults),_fnCompatCols(defaults.column),_fnCamelToHungarian(defaults,defaults,!0),_fnCamelToHungarian(defaults.column,defaults.column,!0),_fnCamelToHungarian(defaults,$.extend(oInit,$this.data()));var allSettings=DataTable.settings;for(i=0,iLen=allSettings.length;iLen>i;i++){var s=allSettings[i];if(s.nTable==this||s.nTHead.parentNode==this||s.nTFoot&&s.nTFoot.parentNode==this){var bRetrieve=oInit.bRetrieve!==undefined?oInit.bRetrieve:defaults.bRetrieve,bDestroy=oInit.bDestroy!==undefined?oInit.bDestroy:defaults.bDestroy;if(emptyInit||bRetrieve)return s.oInstance;if(bDestroy){s.oInstance.fnDestroy();break}return void _fnLog(s,0,"Cannot reinitialise DataTable",3)}if(s.sTableId==this.id){allSettings.splice(i,1);break}}(null===sId||""===sId)&&(sId="DataTables_Table_"+DataTable.ext._unique++,this.id=sId);var oSettings=$.extend(!0,{},DataTable.models.oSettings,{sDestroyWidth:$this[0].style.width,sInstance:sId,sTableId:sId});oSettings.nTable=this,oSettings.oApi=_that.internal,oSettings.oInit=oInit,allSettings.push(oSettings),oSettings.oInstance=1===_that.length?_that:$this.dataTable(),_fnCompatOpts(oInit),oInit.oLanguage&&_fnLanguageCompat(oInit.oLanguage),oInit.aLengthMenu&&!oInit.iDisplayLength&&(oInit.iDisplayLength=$.isArray(oInit.aLengthMenu[0])?oInit.aLengthMenu[0][0]:oInit.aLengthMenu[0]),oInit=_fnExtend($.extend(!0,{},defaults),oInit),_fnMap(oSettings.oFeatures,oInit,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),_fnMap(oSettings,oInit,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),_fnMap(oSettings.oScroll,oInit,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),_fnMap(oSettings.oLanguage,oInit,"fnInfoCallback"),_fnCallbackReg(oSettings,"aoDrawCallback",oInit.fnDrawCallback,"user"),_fnCallbackReg(oSettings,"aoServerParams",oInit.fnServerParams,"user"),_fnCallbackReg(oSettings,"aoStateSaveParams",oInit.fnStateSaveParams,"user"),_fnCallbackReg(oSettings,"aoStateLoadParams",oInit.fnStateLoadParams,"user"),_fnCallbackReg(oSettings,"aoStateLoaded",oInit.fnStateLoaded,"user"),_fnCallbackReg(oSettings,"aoRowCallback",oInit.fnRowCallback,"user"),_fnCallbackReg(oSettings,"aoRowCreatedCallback",oInit.fnCreatedRow,"user"),_fnCallbackReg(oSettings,"aoHeaderCallback",oInit.fnHeaderCallback,"user"),_fnCallbackReg(oSettings,"aoFooterCallback",oInit.fnFooterCallback,"user"),_fnCallbackReg(oSettings,"aoInitComplete",oInit.fnInitComplete,"user"),_fnCallbackReg(oSettings,"aoPreDrawCallback",oInit.fnPreDrawCallback,"user"),oSettings.rowIdFn=_fnGetObjectDataFn(oInit.rowId),_fnBrowserDetect(oSettings);var oClasses=oSettings.oClasses;if(oInit.bJQueryUI?($.extend(oClasses,DataTable.ext.oJUIClasses,oInit.oClasses),oInit.sDom===defaults.sDom&&"lfrtip"===defaults.sDom&&(oSettings.sDom='<"H"lfr>t<"F"ip>'),oSettings.renderer?$.isPlainObject(oSettings.renderer)&&!oSettings.renderer.header&&(oSettings.renderer.header="jqueryui"):oSettings.renderer="jqueryui"):$.extend(oClasses,DataTable.ext.classes,oInit.oClasses),$this.addClass(oClasses.sTable),oSettings.iInitDisplayStart===undefined&&(oSettings.iInitDisplayStart=oInit.iDisplayStart,oSettings._iDisplayStart=oInit.iDisplayStart),null!==oInit.iDeferLoading){oSettings.bDeferLoading=!0;var tmp=$.isArray(oInit.iDeferLoading);oSettings._iRecordsDisplay=tmp?oInit.iDeferLoading[0]:oInit.iDeferLoading,oSettings._iRecordsTotal=tmp?oInit.iDeferLoading[1]:oInit.iDeferLoading}var oLanguage=oSettings.oLanguage;$.extend(!0,oLanguage,oInit.oLanguage),""!==oLanguage.sUrl&&($.ajax({dataType:"json",url:oLanguage.sUrl,success:function(json){_fnLanguageCompat(json),_fnCamelToHungarian(defaults.oLanguage,json),$.extend(!0,oLanguage,json),_fnInitialise(oSettings)},error:function(){_fnInitialise(oSettings)}}),bInitHandedOff=!0),null===oInit.asStripeClasses&&(oSettings.asStripeClasses=[oClasses.sStripeOdd,oClasses.sStripeEven]);var stripeClasses=oSettings.asStripeClasses,rowOne=$this.children("tbody").find("tr").eq(0);-1!==$.inArray(!0,$.map(stripeClasses,function(el){return rowOne.hasClass(el)}))&&($("tbody tr",this).removeClass(stripeClasses.join(" ")),oSettings.asDestroyStripes=stripeClasses.slice());var aoColumnsInit,anThs=[],nThead=this.getElementsByTagName("thead");if(0!==nThead.length&&(_fnDetectHeader(oSettings.aoHeader,nThead[0]),anThs=_fnGetUniqueThs(oSettings)),null===oInit.aoColumns)for(aoColumnsInit=[],i=0,iLen=anThs.length;iLen>i;i++)aoColumnsInit.push(null);else aoColumnsInit=oInit.aoColumns;for(i=0,iLen=aoColumnsInit.length;iLen>i;i++)_fnAddColumn(oSettings,anThs?anThs[i]:null);if(_fnApplyColumnDefs(oSettings,oInit.aoColumnDefs,aoColumnsInit,function(iCol,oDef){_fnColumnOptions(oSettings,iCol,oDef)}),rowOne.length){var a=function(cell,name){return null!==cell.getAttribute("data-"+name)?name:null};$(rowOne[0]).children("th, td").each(function(i,cell){var col=oSettings.aoColumns[i];if(col.mData===i){var sort=a(cell,"sort")||a(cell,"order"),filter=a(cell,"filter")||a(cell,"search");(null!==sort||null!==filter)&&(col.mData={_:i+".display",sort:null!==sort?i+".@data-"+sort:undefined,type:null!==sort?i+".@data-"+sort:undefined,filter:null!==filter?i+".@data-"+filter:undefined},_fnColumnOptions(oSettings,i))}})}var features=oSettings.oFeatures;if(oInit.bStateSave&&(features.bStateSave=!0,_fnLoadState(oSettings,oInit),_fnCallbackReg(oSettings,"aoDrawCallback",_fnSaveState,"state_save")),oInit.aaSorting===undefined){var sorting=oSettings.aaSorting;for(i=0,iLen=sorting.length;iLen>i;i++)sorting[i][1]=oSettings.aoColumns[i].asSorting[0]}_fnSortingClasses(oSettings),features.bSort&&_fnCallbackReg(oSettings,"aoDrawCallback",function(){if(oSettings.bSorted){var aSort=_fnSortFlatten(oSettings),sortedColumns={};$.each(aSort,function(i,val){sortedColumns[val.src]=val.dir}),_fnCallbackFire(oSettings,null,"order",[oSettings,aSort,sortedColumns]),_fnSortAria(oSettings)}}),_fnCallbackReg(oSettings,"aoDrawCallback",function(){(oSettings.bSorted||"ssp"===_fnDataSource(oSettings)||features.bDeferRender)&&_fnSortingClasses(oSettings)},"sc");var captions=$this.children("caption").each(function(){this._captionSide=$this.css("caption-side")}),thead=$this.children("thead");0===thead.length&&(thead=$("<thead/>").appendTo(this)),oSettings.nTHead=thead[0];var tbody=$this.children("tbody");0===tbody.length&&(tbody=$("<tbody/>").appendTo(this)),oSettings.nTBody=tbody[0];var tfoot=$this.children("tfoot");if(0===tfoot.length&&captions.length>0&&(""!==oSettings.oScroll.sX||""!==oSettings.oScroll.sY)&&(tfoot=$("<tfoot/>").appendTo(this)),0===tfoot.length||0===tfoot.children().length?$this.addClass(oClasses.sNoFooter):tfoot.length>0&&(oSettings.nTFoot=tfoot[0],_fnDetectHeader(oSettings.aoFooter,oSettings.nTFoot)),oInit.aaData)for(i=0;i<oInit.aaData.length;i++)_fnAddData(oSettings,oInit.aaData[i]);else(oSettings.bDeferLoading||"dom"==_fnDataSource(oSettings))&&_fnAddTr(oSettings,$(oSettings.nTBody).children("tr"));oSettings.aiDisplay=oSettings.aiDisplayMaster.slice(),oSettings.bInitialised=!0,bInitHandedOff===!1&&_fnInitialise(oSettings)}),_that=null,this};var __apiStruct=[],__arrayProto=Array.prototype,_toSettings=function(mixed){var idx,jq,settings=DataTable.settings,tables=$.map(settings,function(el){return el.nTable});return mixed?mixed.nTable&&mixed.oApi?[mixed]:mixed.nodeName&&"table"===mixed.nodeName.toLowerCase()?(idx=$.inArray(mixed,tables),-1!==idx?[settings[idx]]:null):mixed&&"function"==typeof mixed.settings?mixed.settings().toArray():("string"==typeof mixed?jq=$(mixed):mixed instanceof $&&(jq=mixed),jq?jq.map(function(){return idx=$.inArray(this,tables),-1!==idx?settings[idx]:null}).toArray():void 0):[]};_Api=function(context,data){if(!(this instanceof _Api))return new _Api(context,data);var settings=[],ctxSettings=function(o){var a=_toSettings(o);a&&(settings=settings.concat(a))};if($.isArray(context))for(var i=0,ien=context.length;ien>i;i++)ctxSettings(context[i]);else ctxSettings(context);this.context=_unique(settings),data&&$.merge(this,data),this.selector={rows:null,cols:null,opts:null},_Api.extend(this,this,__apiStruct)},DataTable.Api=_Api,$.extend(_Api.prototype,{any:function(){return 0!==this.count()},concat:__arrayProto.concat,context:[],count:function(){return this.flatten().length},each:function(fn){for(var i=0,ien=this.length;ien>i;i++)fn.call(this,this[i],i,this);return this},eq:function(idx){var ctx=this.context;return ctx.length>idx?new _Api(ctx[idx],this[idx]):null},filter:function(fn){var a=[];if(__arrayProto.filter)a=__arrayProto.filter.call(this,fn,this);else for(var i=0,ien=this.length;ien>i;i++)fn.call(this,this[i],i,this)&&a.push(this[i]);return new _Api(this.context,a)},flatten:function(){var a=[];return new _Api(this.context,a.concat.apply(a,this.toArray()))},join:__arrayProto.join,indexOf:__arrayProto.indexOf||function(obj,start){for(var i=start||0,ien=this.length;ien>i;i++)if(this[i]===obj)return i;return-1},iterator:function(flatten,type,fn,alwaysNew){var ret,i,ien,j,jen,rows,items,item,a=[],context=this.context,selector=this.selector;for("string"==typeof flatten&&(alwaysNew=fn,fn=type,type=flatten,flatten=!1),i=0,ien=context.length;ien>i;i++){var apiInst=new _Api(context[i]);if("table"===type)ret=fn.call(apiInst,context[i],i),ret!==undefined&&a.push(ret);else if("columns"===type||"rows"===type)ret=fn.call(apiInst,context[i],this[i],i),ret!==undefined&&a.push(ret);else if("column"===type||"column-rows"===type||"row"===type||"cell"===type)for(items=this[i],"column-rows"===type&&(rows=_selector_row_indexes(context[i],selector.opts)),j=0,jen=items.length;jen>j;j++)item=items[j],ret="cell"===type?fn.call(apiInst,context[i],item.row,item.column,i,j):fn.call(apiInst,context[i],item,i,j,rows),ret!==undefined&&a.push(ret)}if(a.length||alwaysNew){var api=new _Api(context,flatten?a.concat.apply([],a):a),apiSelector=api.selector;return apiSelector.rows=selector.rows,apiSelector.cols=selector.cols,apiSelector.opts=selector.opts,api}return this},lastIndexOf:__arrayProto.lastIndexOf||function(){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(fn){var a=[];if(__arrayProto.map)a=__arrayProto.map.call(this,fn,this);else for(var i=0,ien=this.length;ien>i;i++)a.push(fn.call(this,this[i],i));return new _Api(this.context,a)},pluck:function(prop){return this.map(function(el){return el[prop]})},pop:__arrayProto.pop,push:__arrayProto.push,reduce:__arrayProto.reduce||function(fn,init){return _fnReduce(this,fn,init,0,this.length,1)},reduceRight:__arrayProto.reduceRight||function(fn,init){return _fnReduce(this,fn,init,this.length-1,-1,-1)},reverse:__arrayProto.reverse,selector:null,shift:__arrayProto.shift,sort:__arrayProto.sort,splice:__arrayProto.splice,toArray:function(){return __arrayProto.slice.call(this)},to$:function(){return $(this)},toJQuery:function(){return $(this)},unique:function(){return new _Api(this.context,_unique(this))},unshift:__arrayProto.unshift}),_Api.extend=function(scope,obj,ext){if(ext.length&&obj&&(obj instanceof _Api||obj.__dt_wrapper)){var i,ien,struct,methodScoping=function(scope,fn,struc){return function(){var ret=fn.apply(scope,arguments);return _Api.extend(ret,ret,struc.methodExt),ret}};for(i=0,ien=ext.length;ien>i;i++)struct=ext[i],obj[struct.name]="function"==typeof struct.val?methodScoping(scope,struct.val,struct):$.isPlainObject(struct.val)?{}:struct.val,obj[struct.name].__dt_wrapper=!0,_Api.extend(scope,obj[struct.name],struct.propExt)}},_Api.register=_api_register=function(name,val){if($.isArray(name))for(var j=0,jen=name.length;jen>j;j++)_Api.register(name[j],val);else{var i,ien,key,method,heir=name.split("."),struct=__apiStruct,find=function(src,name){for(var i=0,ien=src.length;ien>i;i++)if(src[i].name===name)return src[i];return null};for(i=0,ien=heir.length;ien>i;i++){method=-1!==heir[i].indexOf("()"),key=method?heir[i].replace("()",""):heir[i];var src=find(struct,key);src||(src={name:key,val:{},methodExt:[],propExt:[]},struct.push(src)),i===ien-1?src.val=val:struct=method?src.methodExt:src.propExt}}},_Api.registerPlural=_api_registerPlural=function(pluralName,singularName,val){_Api.register(pluralName,val),_Api.register(singularName,function(){var ret=val.apply(this,arguments);return ret===this?this:ret instanceof _Api?ret.length?$.isArray(ret[0])?new _Api(ret.context,ret[0]):ret[0]:undefined:ret})};var __table_selector=function(selector,a){if("number"==typeof selector)return[a[selector]];var nodes=$.map(a,function(el){return el.nTable});return $(nodes).filter(selector).map(function(){var idx=$.inArray(this,nodes);return a[idx]}).toArray()};_api_register("tables()",function(selector){return selector?new _Api(__table_selector(selector,this.context)):this}),_api_register("table()",function(selector){var tables=this.tables(selector),ctx=tables.context;return ctx.length?new _Api(ctx[0]):tables}),_api_registerPlural("tables().nodes()","table().node()",function(){return this.iterator("table",function(ctx){return ctx.nTable},1)}),_api_registerPlural("tables().body()","table().body()",function(){return this.iterator("table",function(ctx){return ctx.nTBody},1)}),_api_registerPlural("tables().header()","table().header()",function(){return this.iterator("table",function(ctx){return ctx.nTHead},1)}),_api_registerPlural("tables().footer()","table().footer()",function(){return this.iterator("table",function(ctx){return ctx.nTFoot},1)}),_api_registerPlural("tables().containers()","table().container()",function(){return this.iterator("table",function(ctx){return ctx.nTableWrapper},1)}),_api_register("draw()",function(paging){return this.iterator("table",function(settings){"page"===paging?_fnDraw(settings):("string"==typeof paging&&(paging="full-hold"===paging?!1:!0),_fnReDraw(settings,paging===!1))})}),_api_register("page()",function(action){return action===undefined?this.page.info().page:this.iterator("table",function(settings){_fnPageChange(settings,action)})}),_api_register("page.info()",function(){if(0===this.context.length)return undefined;var settings=this.context[0],start=settings._iDisplayStart,len=settings._iDisplayLength,visRecords=settings.fnRecordsDisplay(),all=-1===len;return{page:all?0:Math.floor(start/len),pages:all?1:Math.ceil(visRecords/len),start:start,end:settings.fnDisplayEnd(),length:len,recordsTotal:settings.fnRecordsTotal(),recordsDisplay:visRecords,serverSide:"ssp"===_fnDataSource(settings)}}),_api_register("page.len()",function(len){return len===undefined?0!==this.context.length?this.context[0]._iDisplayLength:undefined:this.iterator("table",function(settings){_fnLengthChange(settings,len)})});var __reload=function(settings,holdPosition,callback){if(callback){var api=new _Api(settings);api.one("draw",function(){callback(api.ajax.json())})}if("ssp"==_fnDataSource(settings))_fnReDraw(settings,holdPosition);else{_fnProcessingDisplay(settings,!0);var xhr=settings.jqXHR;xhr&&4!==xhr.readyState&&xhr.abort(),_fnBuildAjax(settings,[],function(json){_fnClearTable(settings);for(var data=_fnAjaxDataSrc(settings,json),i=0,ien=data.length;ien>i;i++)_fnAddData(settings,data[i]);_fnReDraw(settings,holdPosition),_fnProcessingDisplay(settings,!1)})}};_api_register("ajax.json()",function(){var ctx=this.context;return ctx.length>0?ctx[0].json:void 0}),_api_register("ajax.params()",function(){var ctx=this.context;return ctx.length>0?ctx[0].oAjaxData:void 0}),_api_register("ajax.reload()",function(callback,resetPaging){return this.iterator("table",function(settings){__reload(settings,resetPaging===!1,callback)})}),_api_register("ajax.url()",function(url){var ctx=this.context;return url===undefined?0===ctx.length?undefined:(ctx=ctx[0],ctx.ajax?$.isPlainObject(ctx.ajax)?ctx.ajax.url:ctx.ajax:ctx.sAjaxSource):this.iterator("table",function(settings){$.isPlainObject(settings.ajax)?settings.ajax.url=url:settings.ajax=url})}),_api_register("ajax.url().load()",function(callback,resetPaging){return this.iterator("table",function(ctx){__reload(ctx,resetPaging===!1,callback)})});var _selector_run=function(type,selector,selectFn,settings,opts){var res,a,i,ien,j,jen,out=[],selectorType=typeof selector;for(selector&&"string"!==selectorType&&"function"!==selectorType&&selector.length!==undefined||(selector=[selector]),i=0,ien=selector.length;ien>i;i++)for(a=selector[i]&&selector[i].split?selector[i].split(","):[selector[i]],j=0,jen=a.length;jen>j;j++)res=selectFn("string"==typeof a[j]?$.trim(a[j]):a[j]),res&&res.length&&(out=out.concat(res));var ext=_ext.selector[type];if(ext.length)for(i=0,ien=ext.length;ien>i;i++)out=ext[i](settings,opts,out);return _unique(out)},_selector_opts=function(opts){return opts||(opts={}),opts.filter&&opts.search===undefined&&(opts.search=opts.filter),$.extend({search:"none",order:"current",page:"all"},opts)
},_selector_first=function(inst){for(var i=0,ien=inst.length;ien>i;i++)if(inst[i].length>0)return inst[0]=inst[i],inst[0].length=1,inst.length=1,inst.context=[inst.context[i]],inst;return inst.length=0,inst},_selector_row_indexes=function(settings,opts){var i,ien,tmp,a=[],displayFiltered=settings.aiDisplay,displayMaster=settings.aiDisplayMaster,search=opts.search,order=opts.order,page=opts.page;if("ssp"==_fnDataSource(settings))return"removed"===search?[]:_range(0,displayMaster.length);if("current"==page)for(i=settings._iDisplayStart,ien=settings.fnDisplayEnd();ien>i;i++)a.push(displayFiltered[i]);else if("current"==order||"applied"==order)a="none"==search?displayMaster.slice():"applied"==search?displayFiltered.slice():$.map(displayMaster,function(el){return-1===$.inArray(el,displayFiltered)?el:null});else if("index"==order||"original"==order)for(i=0,ien=settings.aoData.length;ien>i;i++)"none"==search?a.push(i):(tmp=$.inArray(i,displayFiltered),(-1===tmp&&"removed"==search||tmp>=0&&"applied"==search)&&a.push(i));return a},__row_selector=function(settings,selector,opts){var run=function(sel){var selInt=_intVal(sel);if(null!==selInt&&!opts)return[selInt];var rows=_selector_row_indexes(settings,opts);if(null!==selInt&&-1!==$.inArray(selInt,rows))return[selInt];if(!sel)return rows;if("function"==typeof sel)return $.map(rows,function(idx){var row=settings.aoData[idx];return sel(idx,row._aData,row.nTr)?idx:null});var nodes=_removeEmpty(_pluck_order(settings.aoData,rows,"nTr"));if(sel.nodeName&&-1!==$.inArray(sel,nodes))return[sel._DT_RowIndex];if("string"==typeof sel&&"#"===sel.charAt(0)){var rowObj=settings.aIds[sel.replace(/^#/,"")];if(rowObj!==undefined)return[rowObj.idx]}return $(nodes).filter(sel).map(function(){return this._DT_RowIndex}).toArray()};return _selector_run("row",selector,run,settings,opts)};_api_register("rows()",function(selector,opts){selector===undefined?selector="":$.isPlainObject(selector)&&(opts=selector,selector=""),opts=_selector_opts(opts);var inst=this.iterator("table",function(settings){return __row_selector(settings,selector,opts)},1);return inst.selector.rows=selector,inst.selector.opts=opts,inst}),_api_register("rows().nodes()",function(){return this.iterator("row",function(settings,row){return settings.aoData[row].nTr||undefined},1)}),_api_register("rows().data()",function(){return this.iterator(!0,"rows",function(settings,rows){return _pluck_order(settings.aoData,rows,"_aData")},1)}),_api_registerPlural("rows().cache()","row().cache()",function(type){return this.iterator("row",function(settings,row){var r=settings.aoData[row];return"search"===type?r._aFilterData:r._aSortData},1)}),_api_registerPlural("rows().invalidate()","row().invalidate()",function(src){return this.iterator("row",function(settings,row){_fnInvalidate(settings,row,src)})}),_api_registerPlural("rows().indexes()","row().index()",function(){return this.iterator("row",function(settings,row){return row},1)}),_api_registerPlural("rows().ids()","row().id()",function(hash){for(var a=[],context=this.context,i=0,ien=context.length;ien>i;i++)for(var j=0,jen=this[i].length;jen>j;j++){var id=context[i].rowIdFn(context[i].aoData[this[i][j]]._aData);a.push((hash===!0?"#":"")+id)}return new _Api(context,a)}),_api_registerPlural("rows().remove()","row().remove()",function(){var that=this;return this.iterator("row",function(settings,row,thatIdx){var data=settings.aoData,rowData=data[row];data.splice(row,1);for(var i=0,ien=data.length;ien>i;i++)null!==data[i].nTr&&(data[i].nTr._DT_RowIndex=i);_fnDeleteIndex(settings.aiDisplayMaster,row),_fnDeleteIndex(settings.aiDisplay,row),_fnDeleteIndex(that[thatIdx],row,!1),_fnLengthOverflow(settings);var id=settings.rowIdFn(rowData._aData);id!==undefined&&delete settings.aIds[id]}),this.iterator("table",function(settings){for(var i=0,ien=settings.aoData.length;ien>i;i++)settings.aoData[i].idx=i}),this}),_api_register("rows.add()",function(rows){var newRows=this.iterator("table",function(settings){var row,i,ien,out=[];for(i=0,ien=rows.length;ien>i;i++)row=rows[i],out.push(row.nodeName&&"TR"===row.nodeName.toUpperCase()?_fnAddTr(settings,row)[0]:_fnAddData(settings,row));return out},1),modRows=this.rows(-1);return modRows.pop(),$.merge(modRows,newRows),modRows}),_api_register("row()",function(selector,opts){return _selector_first(this.rows(selector,opts))}),_api_register("row().data()",function(data){var ctx=this.context;return data===undefined?ctx.length&&this.length?ctx[0].aoData[this[0]]._aData:undefined:(ctx[0].aoData[this[0]]._aData=data,_fnInvalidate(ctx[0],this[0],"data"),this)}),_api_register("row().node()",function(){var ctx=this.context;return ctx.length&&this.length?ctx[0].aoData[this[0]].nTr||null:null}),_api_register("row.add()",function(row){row instanceof $&&row.length&&(row=row[0]);var rows=this.iterator("table",function(settings){return row.nodeName&&"TR"===row.nodeName.toUpperCase()?_fnAddTr(settings,row)[0]:_fnAddData(settings,row)});return this.row(rows[0])});var __details_add=function(ctx,row,data,klass){var rows=[],addRow=function(r,k){if($.isArray(r)||r instanceof $)for(var i=0,ien=r.length;ien>i;i++)addRow(r[i],k);else if(r.nodeName&&"tr"===r.nodeName.toLowerCase())rows.push(r);else{var created=$("<tr><td/></tr>").addClass(k);$("td",created).addClass(k).html(r)[0].colSpan=_fnVisbleColumns(ctx),rows.push(created[0])}};addRow(data,klass),row._details&&row._details.remove(),row._details=$(rows),row._detailsShow&&row._details.insertAfter(row.nTr)},__details_remove=function(api,idx){var ctx=api.context;if(ctx.length){var row=ctx[0].aoData[idx!==undefined?idx:api[0]];row&&row._details&&(row._details.remove(),row._detailsShow=undefined,row._details=undefined)}},__details_display=function(api,show){var ctx=api.context;if(ctx.length&&api.length){var row=ctx[0].aoData[api[0]];row._details&&(row._detailsShow=show,show?row._details.insertAfter(row.nTr):row._details.detach(),__details_events(ctx[0]))}},__details_events=function(settings){var api=new _Api(settings),namespace=".dt.DT_details",drawEvent="draw"+namespace,colvisEvent="column-visibility"+namespace,destroyEvent="destroy"+namespace,data=settings.aoData;api.off(drawEvent+" "+colvisEvent+" "+destroyEvent),_pluck(data,"_details").length>0&&(api.on(drawEvent,function(e,ctx){settings===ctx&&api.rows({page:"current"}).eq(0).each(function(idx){var row=data[idx];row._detailsShow&&row._details.insertAfter(row.nTr)})}),api.on(colvisEvent,function(e,ctx){if(settings===ctx)for(var row,visible=_fnVisbleColumns(ctx),i=0,ien=data.length;ien>i;i++)row=data[i],row._details&&row._details.children("td[colspan]").attr("colspan",visible)}),api.on(destroyEvent,function(e,ctx){if(settings===ctx)for(var i=0,ien=data.length;ien>i;i++)data[i]._details&&__details_remove(api,i)}))},_emp="",_child_obj=_emp+"row().child",_child_mth=_child_obj+"()";_api_register(_child_mth,function(data,klass){var ctx=this.context;return data===undefined?ctx.length&&this.length?ctx[0].aoData[this[0]]._details:undefined:(data===!0?this.child.show():data===!1?__details_remove(this):ctx.length&&this.length&&__details_add(ctx[0],ctx[0].aoData[this[0]],data,klass),this)}),_api_register([_child_obj+".show()",_child_mth+".show()"],function(){return __details_display(this,!0),this}),_api_register([_child_obj+".hide()",_child_mth+".hide()"],function(){return __details_display(this,!1),this}),_api_register([_child_obj+".remove()",_child_mth+".remove()"],function(){return __details_remove(this),this}),_api_register(_child_obj+".isShown()",function(){var ctx=this.context;return ctx.length&&this.length?ctx[0].aoData[this[0]]._detailsShow||!1:!1});var __re_column_selector=/^(.+):(name|visIdx|visible)$/,__columnData=function(settings,column,r1,r2,rows){for(var a=[],row=0,ien=rows.length;ien>row;row++)a.push(_fnGetCellData(settings,rows[row],column));return a},__column_selector=function(settings,selector,opts){var columns=settings.aoColumns,names=_pluck(columns,"sName"),nodes=_pluck(columns,"nTh"),run=function(s){var selInt=_intVal(s);if(""===s)return _range(columns.length);if(null!==selInt)return[selInt>=0?selInt:columns.length+selInt];if("function"==typeof s){var rows=_selector_row_indexes(settings,opts);return $.map(columns,function(col,idx){return s(idx,__columnData(settings,idx,0,0,rows),nodes[idx])?idx:null})}var match="string"==typeof s?s.match(__re_column_selector):"";if(!match)return $(nodes).filter(s).map(function(){return $.inArray(this,nodes)}).toArray();switch(match[2]){case"visIdx":case"visible":var idx=parseInt(match[1],10);if(0>idx){var visColumns=$.map(columns,function(col,i){return col.bVisible?i:null});return[visColumns[visColumns.length+idx]]}return[_fnVisibleToColumnIndex(settings,idx)];case"name":return $.map(names,function(name,i){return name===match[1]?i:null})}};return _selector_run("column",selector,run,settings,opts)},__setColumnVis=function(settings,column,vis,recalc){var cells,i,ien,tr,cols=settings.aoColumns,col=cols[column],data=settings.aoData;if(vis===undefined)return col.bVisible;if(col.bVisible!==vis){if(vis){var insertBefore=$.inArray(!0,_pluck(cols,"bVisible"),column+1);for(i=0,ien=data.length;ien>i;i++)tr=data[i].nTr,cells=data[i].anCells,tr&&tr.insertBefore(cells[column],cells[insertBefore]||null)}else $(_pluck(settings.aoData,"anCells",column)).detach();col.bVisible=vis,_fnDrawHead(settings,settings.aoHeader),_fnDrawHead(settings,settings.aoFooter),(recalc===undefined||recalc)&&(_fnAdjustColumnSizing(settings),(settings.oScroll.sX||settings.oScroll.sY)&&_fnScrollDraw(settings)),_fnCallbackFire(settings,null,"column-visibility",[settings,column,vis]),_fnSaveState(settings)}};_api_register("columns()",function(selector,opts){selector===undefined?selector="":$.isPlainObject(selector)&&(opts=selector,selector=""),opts=_selector_opts(opts);var inst=this.iterator("table",function(settings){return __column_selector(settings,selector,opts)},1);return inst.selector.cols=selector,inst.selector.opts=opts,inst}),_api_registerPlural("columns().header()","column().header()",function(){return this.iterator("column",function(settings,column){return settings.aoColumns[column].nTh},1)}),_api_registerPlural("columns().footer()","column().footer()",function(){return this.iterator("column",function(settings,column){return settings.aoColumns[column].nTf},1)}),_api_registerPlural("columns().data()","column().data()",function(){return this.iterator("column-rows",__columnData,1)}),_api_registerPlural("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(settings,column){return settings.aoColumns[column].mData},1)}),_api_registerPlural("columns().cache()","column().cache()",function(type){return this.iterator("column-rows",function(settings,column,i,j,rows){return _pluck_order(settings.aoData,rows,"search"===type?"_aFilterData":"_aSortData",column)},1)}),_api_registerPlural("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(settings,column,i,j,rows){return _pluck_order(settings.aoData,rows,"anCells",column)},1)}),_api_registerPlural("columns().visible()","column().visible()",function(vis,calc){return this.iterator("column",function(settings,column){return vis===undefined?settings.aoColumns[column].bVisible:void __setColumnVis(settings,column,vis,calc)})}),_api_registerPlural("columns().indexes()","column().index()",function(type){return this.iterator("column",function(settings,column){return"visible"===type?_fnColumnIndexToVisible(settings,column):column},1)}),_api_register("columns.adjust()",function(){return this.iterator("table",function(settings){_fnAdjustColumnSizing(settings)},1)}),_api_register("column.index()",function(type,idx){if(0!==this.context.length){var ctx=this.context[0];if("fromVisible"===type||"toData"===type)return _fnVisibleToColumnIndex(ctx,idx);if("fromData"===type||"toVisible"===type)return _fnColumnIndexToVisible(ctx,idx)}}),_api_register("column()",function(selector,opts){return _selector_first(this.columns(selector,opts))});var __cell_selector=function(settings,selector,opts){var row,a,i,ien,j,o,host,data=settings.aoData,rows=_selector_row_indexes(settings,opts),cells=_removeEmpty(_pluck_order(data,rows,"anCells")),allCells=$([].concat.apply([],cells)),columns=settings.aoColumns.length,run=function(s){var fnSelector="function"==typeof s;if(null===s||s===undefined||fnSelector){for(a=[],i=0,ien=rows.length;ien>i;i++)for(row=rows[i],j=0;columns>j;j++)o={row:row,column:j},fnSelector?(host=data[row],s(o,_fnGetCellData(settings,row,j),host.anCells?host.anCells[j]:null)&&a.push(o)):a.push(o);return a}return $.isPlainObject(s)?[s]:allCells.filter(s).map(function(i,el){if(el.parentNode)row=el.parentNode._DT_RowIndex;else for(i=0,ien=data.length;ien>i;i++)if(-1!==$.inArray(el,data[i].anCells)){row=i;break}return{row:row,column:$.inArray(el,data[row].anCells)}}).toArray()};return _selector_run("cell",selector,run,settings,opts)};_api_register("cells()",function(rowSelector,columnSelector,opts){if($.isPlainObject(rowSelector)&&(rowSelector.row===undefined?(opts=rowSelector,rowSelector=null):(opts=columnSelector,columnSelector=null)),$.isPlainObject(columnSelector)&&(opts=columnSelector,columnSelector=null),null===columnSelector||columnSelector===undefined)return this.iterator("table",function(settings){return __cell_selector(settings,rowSelector,_selector_opts(opts))});var a,i,ien,j,jen,columns=this.columns(columnSelector,opts),rows=this.rows(rowSelector,opts),cells=this.iterator("table",function(settings,idx){for(a=[],i=0,ien=rows[idx].length;ien>i;i++)for(j=0,jen=columns[idx].length;jen>j;j++)a.push({row:rows[idx][i],column:columns[idx][j]});return a},1);return $.extend(cells.selector,{cols:columnSelector,rows:rowSelector,opts:opts}),cells}),_api_registerPlural("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(settings,row,column){var cells=settings.aoData[row].anCells;return cells?cells[column]:undefined},1)}),_api_register("cells().data()",function(){return this.iterator("cell",function(settings,row,column){return _fnGetCellData(settings,row,column)},1)}),_api_registerPlural("cells().cache()","cell().cache()",function(type){return type="search"===type?"_aFilterData":"_aSortData",this.iterator("cell",function(settings,row,column){return settings.aoData[row][type][column]},1)}),_api_registerPlural("cells().render()","cell().render()",function(type){return this.iterator("cell",function(settings,row,column){return _fnGetCellData(settings,row,column,type)},1)}),_api_registerPlural("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(settings,row,column){return{row:row,column:column,columnVisible:_fnColumnIndexToVisible(settings,column)}},1)}),_api_registerPlural("cells().invalidate()","cell().invalidate()",function(src){return this.iterator("cell",function(settings,row,column){_fnInvalidate(settings,row,src,column)})}),_api_register("cell()",function(rowSelector,columnSelector,opts){return _selector_first(this.cells(rowSelector,columnSelector,opts))}),_api_register("cell().data()",function(data){var ctx=this.context,cell=this[0];return data===undefined?ctx.length&&cell.length?_fnGetCellData(ctx[0],cell[0].row,cell[0].column):undefined:(_fnSetCellData(ctx[0],cell[0].row,cell[0].column,data),_fnInvalidate(ctx[0],cell[0].row,"data",cell[0].column),this)}),_api_register("order()",function(order,dir){var ctx=this.context;return order===undefined?0!==ctx.length?ctx[0].aaSorting:undefined:("number"==typeof order?order=[[order,dir]]:$.isArray(order[0])||(order=Array.prototype.slice.call(arguments)),this.iterator("table",function(settings){settings.aaSorting=order.slice()}))}),_api_register("order.listener()",function(node,column,callback){return this.iterator("table",function(settings){_fnSortAttachListener(settings,node,column,callback)})}),_api_register(["columns().order()","column().order()"],function(dir){var that=this;return this.iterator("table",function(settings,i){var sort=[];$.each(that[i],function(j,col){sort.push([col,dir])}),settings.aaSorting=sort})}),_api_register("search()",function(input,regex,smart,caseInsen){var ctx=this.context;return input===undefined?0!==ctx.length?ctx[0].oPreviousSearch.sSearch:undefined:this.iterator("table",function(settings){settings.oFeatures.bFilter&&_fnFilterComplete(settings,$.extend({},settings.oPreviousSearch,{sSearch:input+"",bRegex:null===regex?!1:regex,bSmart:null===smart?!0:smart,bCaseInsensitive:null===caseInsen?!0:caseInsen}),1)})}),_api_registerPlural("columns().search()","column().search()",function(input,regex,smart,caseInsen){return this.iterator("column",function(settings,column){var preSearch=settings.aoPreSearchCols;return input===undefined?preSearch[column].sSearch:void(settings.oFeatures.bFilter&&($.extend(preSearch[column],{sSearch:input+"",bRegex:null===regex?!1:regex,bSmart:null===smart?!0:smart,bCaseInsensitive:null===caseInsen?!0:caseInsen}),_fnFilterComplete(settings,settings.oPreviousSearch,1)))})}),_api_register("state()",function(){return this.context.length?this.context[0].oSavedState:null}),_api_register("state.clear()",function(){return this.iterator("table",function(settings){settings.fnStateSaveCallback.call(settings.oInstance,settings,{})})}),_api_register("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),_api_register("state.save()",function(){return this.iterator("table",function(settings){_fnSaveState(settings)})}),DataTable.versionCheck=DataTable.fnVersionCheck=function(version){for(var iThis,iThat,aThis=DataTable.version.split("."),aThat=version.split("."),i=0,iLen=aThat.length;iLen>i;i++)if(iThis=parseInt(aThis[i],10)||0,iThat=parseInt(aThat[i],10)||0,iThis!==iThat)return iThis>iThat;return!0},DataTable.isDataTable=DataTable.fnIsDataTable=function(table){var t=$(table).get(0),is=!1;return $.each(DataTable.settings,function(i,o){var head=o.nScrollHead?$("table",o.nScrollHead)[0]:null,foot=o.nScrollFoot?$("table",o.nScrollFoot)[0]:null;(o.nTable===t||head===t||foot===t)&&(is=!0)}),is},DataTable.tables=DataTable.fnTables=function(visible){var api=!1;$.isPlainObject(visible)&&(api=visible.api,visible=visible.visible);var a=$.map(DataTable.settings,function(o){return!visible||visible&&$(o.nTable).is(":visible")?o.nTable:void 0});return api?new _Api(a):a},DataTable.util={throttle:_fnThrottle,escapeRegex:_fnEscapeRegex},DataTable.camelToHungarian=_fnCamelToHungarian,_api_register("$()",function(selector,opts){var rows=this.rows(opts).nodes(),jqRows=$(rows);return $([].concat(jqRows.filter(selector).toArray(),jqRows.find(selector).toArray()))}),$.each(["on","one","off"],function(i,key){_api_register(key+"()",function(){var args=Array.prototype.slice.call(arguments);args[0].match(/\.dt\b/)||(args[0]+=".dt");var inst=$(this.tables().nodes());return inst[key].apply(inst,args),this})}),_api_register("clear()",function(){return this.iterator("table",function(settings){_fnClearTable(settings)})}),_api_register("settings()",function(){return new _Api(this.context,this.context)}),_api_register("init()",function(){var ctx=this.context;return ctx.length?ctx[0].oInit:null}),_api_register("data()",function(){return this.iterator("table",function(settings){return _pluck(settings.aoData,"_aData")}).flatten()}),_api_register("destroy()",function(remove){return remove=remove||!1,this.iterator("table",function(settings){var ien,orig=settings.nTableWrapper.parentNode,classes=settings.oClasses,table=settings.nTable,tbody=settings.nTBody,thead=settings.nTHead,tfoot=settings.nTFoot,jqTable=$(table),jqTbody=$(tbody),jqWrapper=$(settings.nTableWrapper),rows=$.map(settings.aoData,function(r){return r.nTr});settings.bDestroying=!0,_fnCallbackFire(settings,"aoDestroyCallback","destroy",[settings]),remove||new _Api(settings).columns().visible(!0),jqWrapper.unbind(".DT").find(":not(tbody *)").unbind(".DT"),$(window).unbind(".DT-"+settings.sInstance),table!=thead.parentNode&&(jqTable.children("thead").detach(),jqTable.append(thead)),tfoot&&table!=tfoot.parentNode&&(jqTable.children("tfoot").detach(),jqTable.append(tfoot)),settings.aaSorting=[],settings.aaSortingFixed=[],_fnSortingClasses(settings),$(rows).removeClass(settings.asStripeClasses.join(" ")),$("th, td",thead).removeClass(classes.sSortable+" "+classes.sSortableAsc+" "+classes.sSortableDesc+" "+classes.sSortableNone),settings.bJUI&&($("th span."+classes.sSortIcon+", td span."+classes.sSortIcon,thead).detach(),$("th, td",thead).each(function(){var wrapper=$("div."+classes.sSortJUIWrapper,this);$(this).append(wrapper.contents()),wrapper.detach()})),jqTbody.children().detach(),jqTbody.append(rows);var removedMethod=remove?"remove":"detach";jqTable[removedMethod](),jqWrapper[removedMethod](),!remove&&orig&&(orig.insertBefore(table,settings.nTableReinsertBefore),jqTable.css("width",settings.sDestroyWidth).removeClass(classes.sTable),ien=settings.asDestroyStripes.length,ien&&jqTbody.children().each(function(i){$(this).addClass(settings.asDestroyStripes[i%ien])}));var idx=$.inArray(settings,DataTable.settings);-1!==idx&&DataTable.settings.splice(idx,1)})}),$.each(["column","row","cell"],function(i,type){_api_register(type+"s().every()",function(fn){return this.iterator(type,function(settings,arg1,arg2,arg3,arg4){fn.call(new _Api(settings)[type](arg1,"cell"===type?arg2:undefined),arg1,arg2,arg3,arg4)})})}),_api_register("i18n()",function(token,def,plural){var ctx=this.context[0],resolved=_fnGetObjectDataFn(token)(ctx.oLanguage);return resolved===undefined&&(resolved=def),plural!==undefined&&$.isPlainObject(resolved)&&(resolved=resolved[plural]!==undefined?resolved[plural]:resolved._),resolved.replace("%d",plural)}),DataTable.version="1.10.9",DataTable.settings=[],DataTable.models={},DataTable.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},DataTable.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},DataTable.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},DataTable.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(toFormat){return toFormat.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(settings){try{return JSON.parse((-1===settings.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+settings.sInstance+"_"+location.pathname))}catch(e){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(settings,data){try{(-1===settings.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+settings.sInstance+"_"+location.pathname,JSON.stringify(data))}catch(e){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:$.extend({},DataTable.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},_fnHungarianMap(DataTable.defaults),DataTable.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},_fnHungarianMap(DataTable.defaults.column),DataTable.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:undefined,oAjaxData:undefined,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==_fnDataSource(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==_fnDataSource(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var len=this._iDisplayLength,start=this._iDisplayStart,calc=start+len,records=this.aiDisplay.length,features=this.oFeatures,paginate=features.bPaginate;return features.bServerSide?paginate===!1||-1===len?start+records:Math.min(start+len,this._iRecordsDisplay):!paginate||calc>records||-1===len?records:calc},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},DataTable.ext=_ext={buttons:{},classes:{},errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:DataTable.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:DataTable.version},$.extend(_ext,{afnFiltering:_ext.search,aTypes:_ext.type.detect,ofnSearch:_ext.type.search,oSort:_ext.type.order,afnSortData:_ext.order,aoFeatures:_ext.feature,oApi:_ext.internal,oStdClasses:_ext.classes,oPagination:_ext.pager}),$.extend(DataTable.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),function(){var _empty="";_empty="";var _stateDefault=_empty+"ui-state-default",_sortIcon=_empty+"css_right ui-icon ui-icon-",_headerFooter=_empty+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";$.extend(DataTable.ext.oJUIClasses,DataTable.ext.classes,{sPageButton:"fg-button ui-button "+_stateDefault,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:_stateDefault+" sorting_asc",sSortDesc:_stateDefault+" sorting_desc",sSortable:_stateDefault+" sorting",sSortableAsc:_stateDefault+" sorting_asc_disabled",sSortableDesc:_stateDefault+" sorting_desc_disabled",sSortableNone:_stateDefault+" sorting_disabled",sSortJUIAsc:_sortIcon+"triangle-1-n",sSortJUIDesc:_sortIcon+"triangle-1-s",sSortJUI:_sortIcon+"carat-2-n-s",sSortJUIAscAllowed:_sortIcon+"carat-1-n",sSortJUIDescAllowed:_sortIcon+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+_stateDefault,sScrollFoot:"dataTables_scrollFoot "+_stateDefault,sHeaderTH:_stateDefault,sFooterTH:_stateDefault,sJUIHeader:_headerFooter+" ui-corner-tl ui-corner-tr",sJUIFooter:_headerFooter+" ui-corner-bl ui-corner-br"})}();var extPagination=DataTable.ext.pager;$.extend(extPagination,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(page,pages){return[_numbers(page,pages)]},simple_numbers:function(page,pages){return["previous",_numbers(page,pages),"next"]},full_numbers:function(page,pages){return["first","previous",_numbers(page,pages),"next","last"]},_numbers:_numbers,numbers_length:7}),$.extend(!0,DataTable.ext.renderer,{pageButton:{_:function(settings,host,idx,buttons,page,pages){var btnDisplay,btnClass,activeEl,classes=settings.oClasses,lang=settings.oLanguage.oPaginate,counter=0,attach=function(container,buttons){var i,ien,node,button,clickHandler=function(e){_fnPageChange(settings,e.data.action,!0)};for(i=0,ien=buttons.length;ien>i;i++)if(button=buttons[i],$.isArray(button)){var inner=$("<"+(button.DT_el||"div")+"/>").appendTo(container);attach(inner,button)}else{switch(btnDisplay=null,btnClass="",button){case"ellipsis":container.append('<span class="ellipsis">&#x2026;</span>');break;case"first":btnDisplay=lang.sFirst,btnClass=button+(page>0?"":" "+classes.sPageButtonDisabled);break;case"previous":btnDisplay=lang.sPrevious,btnClass=button+(page>0?"":" "+classes.sPageButtonDisabled);break;case"next":btnDisplay=lang.sNext,btnClass=button+(pages-1>page?"":" "+classes.sPageButtonDisabled);break;case"last":btnDisplay=lang.sLast,btnClass=button+(pages-1>page?"":" "+classes.sPageButtonDisabled);break;default:btnDisplay=button+1,btnClass=page===button?classes.sPageButtonActive:""}null!==btnDisplay&&(node=$("<a>",{"class":classes.sPageButton+" "+btnClass,"aria-controls":settings.sTableId,"data-dt-idx":counter,tabindex:settings.iTabIndex,id:0===idx&&"string"==typeof button?settings.sTableId+"_"+button:null}).html(btnDisplay).appendTo(container),_fnBindAction(node,{action:button},clickHandler),counter++)}};try{activeEl=$(host).find(document.activeElement).data("dt-idx")}catch(e){}attach($(host).empty(),buttons),activeEl&&$(host).find("[data-dt-idx="+activeEl+"]").focus()
}}}),$.extend(DataTable.ext.type.detect,[function(d,settings){var decimal=settings.oLanguage.sDecimal;return _isNumber(d,decimal)?"num"+decimal:null},function(d){if(!(!d||d instanceof Date||_re_date_start.test(d)&&_re_date_end.test(d)))return null;var parsed=Date.parse(d);return null!==parsed&&!isNaN(parsed)||_empty(d)?"date":null},function(d,settings){var decimal=settings.oLanguage.sDecimal;return _isNumber(d,decimal,!0)?"num-fmt"+decimal:null},function(d,settings){var decimal=settings.oLanguage.sDecimal;return _htmlNumeric(d,decimal)?"html-num"+decimal:null},function(d,settings){var decimal=settings.oLanguage.sDecimal;return _htmlNumeric(d,decimal,!0)?"html-num-fmt"+decimal:null},function(d){return _empty(d)||"string"==typeof d&&-1!==d.indexOf("<")?"html":null}]),$.extend(DataTable.ext.type.search,{html:function(data){return _empty(data)?data:"string"==typeof data?data.replace(_re_new_lines," ").replace(_re_html,""):""},string:function(data){return _empty(data)?data:"string"==typeof data?data.replace(_re_new_lines," "):data}});var __numericReplace=function(d,decimalPlace,re1,re2){return 0===d||d&&"-"!==d?(decimalPlace&&(d=_numToDecimal(d,decimalPlace)),d.replace&&(re1&&(d=d.replace(re1,"")),re2&&(d=d.replace(re2,""))),1*d):-1/0};return $.extend(_ext.type.order,{"date-pre":function(d){return Date.parse(d)||0},"html-pre":function(a){return _empty(a)?"":a.replace?a.replace(/<.*?>/g,"").toLowerCase():a+""},"string-pre":function(a){return _empty(a)?"":"string"==typeof a?a.toLowerCase():a.toString?a.toString():""},"string-asc":function(x,y){return y>x?-1:x>y?1:0},"string-desc":function(x,y){return y>x?1:x>y?-1:0}}),_addNumericSort(""),$.extend(!0,DataTable.ext.renderer,{header:{_:function(settings,cell,column,classes){$(settings.nTable).on("order.dt.DT",function(e,ctx,sorting,columns){if(settings===ctx){var colIdx=column.idx;cell.removeClass(column.sSortingClass+" "+classes.sSortAsc+" "+classes.sSortDesc).addClass("asc"==columns[colIdx]?classes.sSortAsc:"desc"==columns[colIdx]?classes.sSortDesc:column.sSortingClass)}})},jqueryui:function(settings,cell,column,classes){$("<div/>").addClass(classes.sSortJUIWrapper).append(cell.contents()).append($("<span/>").addClass(classes.sSortIcon+" "+column.sSortingClassJUI)).appendTo(cell),$(settings.nTable).on("order.dt.DT",function(e,ctx,sorting,columns){if(settings===ctx){var colIdx=column.idx;cell.removeClass(classes.sSortAsc+" "+classes.sSortDesc).addClass("asc"==columns[colIdx]?classes.sSortAsc:"desc"==columns[colIdx]?classes.sSortDesc:column.sSortingClass),cell.find("span."+classes.sSortIcon).removeClass(classes.sSortJUIAsc+" "+classes.sSortJUIDesc+" "+classes.sSortJUI+" "+classes.sSortJUIAscAllowed+" "+classes.sSortJUIDescAllowed).addClass("asc"==columns[colIdx]?classes.sSortJUIAsc:"desc"==columns[colIdx]?classes.sSortJUIDesc:column.sSortingClassJUI)}})}}}),DataTable.render={number:function(thousands,decimal,precision,prefix,postfix){return{display:function(d){if("number"!=typeof d&&"string"!=typeof d)return d;var negative=0>d?"-":"";d=Math.abs(parseFloat(d));var intPart=parseInt(d,10),floatPart=precision?decimal+(d-intPart).toFixed(precision).substring(2):"";return negative+(prefix||"")+intPart.toString().replace(/\B(?=(\d{3})+(?!\d))/g,thousands)+floatPart+(postfix||"")}}}},$.extend(DataTable.ext.internal,{_fnExternApiFunc:_fnExternApiFunc,_fnBuildAjax:_fnBuildAjax,_fnAjaxUpdate:_fnAjaxUpdate,_fnAjaxParameters:_fnAjaxParameters,_fnAjaxUpdateDraw:_fnAjaxUpdateDraw,_fnAjaxDataSrc:_fnAjaxDataSrc,_fnAddColumn:_fnAddColumn,_fnColumnOptions:_fnColumnOptions,_fnAdjustColumnSizing:_fnAdjustColumnSizing,_fnVisibleToColumnIndex:_fnVisibleToColumnIndex,_fnColumnIndexToVisible:_fnColumnIndexToVisible,_fnVisbleColumns:_fnVisbleColumns,_fnGetColumns:_fnGetColumns,_fnColumnTypes:_fnColumnTypes,_fnApplyColumnDefs:_fnApplyColumnDefs,_fnHungarianMap:_fnHungarianMap,_fnCamelToHungarian:_fnCamelToHungarian,_fnLanguageCompat:_fnLanguageCompat,_fnBrowserDetect:_fnBrowserDetect,_fnAddData:_fnAddData,_fnAddTr:_fnAddTr,_fnNodeToDataIndex:_fnNodeToDataIndex,_fnNodeToColumnIndex:_fnNodeToColumnIndex,_fnGetCellData:_fnGetCellData,_fnSetCellData:_fnSetCellData,_fnSplitObjNotation:_fnSplitObjNotation,_fnGetObjectDataFn:_fnGetObjectDataFn,_fnSetObjectDataFn:_fnSetObjectDataFn,_fnGetDataMaster:_fnGetDataMaster,_fnClearTable:_fnClearTable,_fnDeleteIndex:_fnDeleteIndex,_fnInvalidate:_fnInvalidate,_fnGetRowElements:_fnGetRowElements,_fnCreateTr:_fnCreateTr,_fnBuildHead:_fnBuildHead,_fnDrawHead:_fnDrawHead,_fnDraw:_fnDraw,_fnReDraw:_fnReDraw,_fnAddOptionsHtml:_fnAddOptionsHtml,_fnDetectHeader:_fnDetectHeader,_fnGetUniqueThs:_fnGetUniqueThs,_fnFeatureHtmlFilter:_fnFeatureHtmlFilter,_fnFilterComplete:_fnFilterComplete,_fnFilterCustom:_fnFilterCustom,_fnFilterColumn:_fnFilterColumn,_fnFilter:_fnFilter,_fnFilterCreateSearch:_fnFilterCreateSearch,_fnEscapeRegex:_fnEscapeRegex,_fnFilterData:_fnFilterData,_fnFeatureHtmlInfo:_fnFeatureHtmlInfo,_fnUpdateInfo:_fnUpdateInfo,_fnInfoMacros:_fnInfoMacros,_fnInitialise:_fnInitialise,_fnInitComplete:_fnInitComplete,_fnLengthChange:_fnLengthChange,_fnFeatureHtmlLength:_fnFeatureHtmlLength,_fnFeatureHtmlPaginate:_fnFeatureHtmlPaginate,_fnPageChange:_fnPageChange,_fnFeatureHtmlProcessing:_fnFeatureHtmlProcessing,_fnProcessingDisplay:_fnProcessingDisplay,_fnFeatureHtmlTable:_fnFeatureHtmlTable,_fnScrollDraw:_fnScrollDraw,_fnApplyToChildren:_fnApplyToChildren,_fnCalculateColumnWidths:_fnCalculateColumnWidths,_fnThrottle:_fnThrottle,_fnConvertToWidth:_fnConvertToWidth,_fnGetWidestNode:_fnGetWidestNode,_fnGetMaxLenString:_fnGetMaxLenString,_fnStringToCss:_fnStringToCss,_fnSortFlatten:_fnSortFlatten,_fnSort:_fnSort,_fnSortAria:_fnSortAria,_fnSortListener:_fnSortListener,_fnSortAttachListener:_fnSortAttachListener,_fnSortingClasses:_fnSortingClasses,_fnSortData:_fnSortData,_fnSaveState:_fnSaveState,_fnLoadState:_fnLoadState,_fnSettingsFromNode:_fnSettingsFromNode,_fnLog:_fnLog,_fnMap:_fnMap,_fnBindAction:_fnBindAction,_fnCallbackReg:_fnCallbackReg,_fnCallbackFire:_fnCallbackFire,_fnLengthOverflow:_fnLengthOverflow,_fnRenderer:_fnRenderer,_fnDataSource:_fnDataSource,_fnRowAttributes:_fnRowAttributes,_fnCalculateEnd:function(){}}),$.fn.dataTable=DataTable,$.fn.dataTableSettings=DataTable.settings,$.fn.dataTableExt=DataTable.ext,$.fn.DataTable=function(opts){return $(this).dataTable(opts).api()},$.each(DataTable,function(prop,val){$.fn.DataTable[prop]=val}),$.fn.dataTable})}(window,document),function(window,document){var factory=function($,DataTable){"use strict";$.extend(!0,DataTable.defaults,{dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",renderer:"bootstrap"}),$.extend(DataTable.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm"}),DataTable.ext.renderer.pageButton.bootstrap=function(settings,host,idx,buttons,page,pages){var btnDisplay,btnClass,activeEl,api=new DataTable.Api(settings),classes=settings.oClasses,lang=settings.oLanguage.oPaginate,counter=0,attach=function(container,buttons){var i,ien,node,button,clickHandler=function(e){e.preventDefault(),$(e.currentTarget).hasClass("disabled")||api.page(e.data.action).draw("page")};for(i=0,ien=buttons.length;ien>i;i++)if(button=buttons[i],$.isArray(button))attach(container,button);else{switch(btnDisplay="",btnClass="",button){case"ellipsis":btnDisplay="&hellip;",btnClass="disabled";break;case"first":btnDisplay=lang.sFirst,btnClass=button+(page>0?"":" disabled");break;case"previous":btnDisplay=lang.sPrevious,btnClass=button+(page>0?"":" disabled");break;case"next":btnDisplay=lang.sNext,btnClass=button+(pages-1>page?"":" disabled");break;case"last":btnDisplay=lang.sLast,btnClass=button+(pages-1>page?"":" disabled");break;default:btnDisplay=button+1,btnClass=page===button?"active":""}btnDisplay&&(node=$("<li>",{"class":classes.sPageButton+" "+btnClass,id:0===idx&&"string"==typeof button?settings.sTableId+"_"+button:null}).append($("<a>",{href:"#","aria-controls":settings.sTableId,"data-dt-idx":counter,tabindex:settings.iTabIndex}).html(btnDisplay)).appendTo(container),settings.oApi._fnBindAction(node,{action:button},clickHandler),counter++)}};try{activeEl=$(host).find(document.activeElement).data("dt-idx")}catch(e){}attach($(host).empty().html('<ul class="pagination"/>').children("ul"),buttons),activeEl&&$(host).find("[data-dt-idx="+activeEl+"]").focus()},DataTable.TableTools&&($.extend(!0,DataTable.TableTools.classes,{container:"DTTT btn-group",buttons:{normal:"btn btn-default",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info"},select:{row:"active"}}),$.extend(!0,DataTable.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}}))};"function"==typeof define&&define.amd?define(["jquery","datatables"],factory):"object"==typeof exports?factory(require("jquery"),require("datatables")):jQuery&&factory(jQuery,jQuery.fn.dataTable)}(window,document),function($,window,document,undefined){"use strict";var pluginName="treeview",_default={};_default.settings={injectStyle:!0,levels:2,expandIcon:"glyphicon glyphicon-plus",collapseIcon:"glyphicon glyphicon-minus",emptyIcon:"glyphicon",nodeIcon:"",selectedIcon:"",checkedIcon:"glyphicon glyphicon-check",uncheckedIcon:"glyphicon glyphicon-unchecked",color:undefined,backColor:undefined,borderColor:undefined,onhoverColor:"#F5F5F5",selectedColor:"#FFFFFF",selectedBackColor:"#428bca",searchResultColor:"#D9534F",searchResultBackColor:undefined,enableLinks:!1,highlightSelected:!0,highlightSearchResults:!0,showBorder:!0,showIcon:!0,showCheckbox:!1,showTags:!1,multiSelect:!1,onNodeChecked:undefined,onNodeCollapsed:undefined,onNodeDisabled:undefined,onNodeEnabled:undefined,onNodeExpanded:undefined,onNodeSelected:undefined,onNodeUnchecked:undefined,onNodeUnselected:undefined,onSearchComplete:undefined,onSearchCleared:undefined},_default.options={silent:!1,ignoreChildren:!1},_default.searchOptions={ignoreCase:!0,exactMatch:!1,revealResults:!0};var Tree=function(element,options){return this.$element=$(element),this.elementId=element.id,this.styleId=this.elementId+"-style",this.init(options),{options:this.options,init:$.proxy(this.init,this),remove:$.proxy(this.remove,this),getNode:$.proxy(this.getNode,this),getParent:$.proxy(this.getParent,this),getSiblings:$.proxy(this.getSiblings,this),getSelected:$.proxy(this.getSelected,this),getUnselected:$.proxy(this.getUnselected,this),getExpanded:$.proxy(this.getExpanded,this),getCollapsed:$.proxy(this.getCollapsed,this),getChecked:$.proxy(this.getChecked,this),getUnchecked:$.proxy(this.getUnchecked,this),getDisabled:$.proxy(this.getDisabled,this),getEnabled:$.proxy(this.getEnabled,this),selectNode:$.proxy(this.selectNode,this),unselectNode:$.proxy(this.unselectNode,this),toggleNodeSelected:$.proxy(this.toggleNodeSelected,this),collapseAll:$.proxy(this.collapseAll,this),collapseNode:$.proxy(this.collapseNode,this),expandAll:$.proxy(this.expandAll,this),expandNode:$.proxy(this.expandNode,this),toggleNodeExpanded:$.proxy(this.toggleNodeExpanded,this),revealNode:$.proxy(this.revealNode,this),checkAll:$.proxy(this.checkAll,this),checkNode:$.proxy(this.checkNode,this),uncheckAll:$.proxy(this.uncheckAll,this),uncheckNode:$.proxy(this.uncheckNode,this),toggleNodeChecked:$.proxy(this.toggleNodeChecked,this),disableAll:$.proxy(this.disableAll,this),disableNode:$.proxy(this.disableNode,this),enableAll:$.proxy(this.enableAll,this),enableNode:$.proxy(this.enableNode,this),toggleNodeDisabled:$.proxy(this.toggleNodeDisabled,this),search:$.proxy(this.search,this),clearSearch:$.proxy(this.clearSearch,this)}};Tree.prototype.init=function(options){this.tree=[],this.nodes=[],options.data&&("string"==typeof options.data&&(options.data=$.parseJSON(options.data)),this.tree=$.extend(!0,[],options.data),delete options.data),this.options=$.extend({},_default.settings,options),this.destroy(),this.subscribeEvents(),this.setInitialStates({nodes:this.tree},0),this.render()},Tree.prototype.remove=function(){this.destroy(),$.removeData(this,pluginName),$("#"+this.styleId).remove()},Tree.prototype.destroy=function(){this.initialized&&(this.$wrapper.remove(),this.$wrapper=null,this.unsubscribeEvents(),this.initialized=!1)},Tree.prototype.unsubscribeEvents=function(){this.$element.off("click"),this.$element.off("nodeChecked"),this.$element.off("nodeCollapsed"),this.$element.off("nodeDisabled"),this.$element.off("nodeEnabled"),this.$element.off("nodeExpanded"),this.$element.off("nodeSelected"),this.$element.off("nodeUnchecked"),this.$element.off("nodeUnselected"),this.$element.off("searchComplete"),this.$element.off("searchCleared")},Tree.prototype.subscribeEvents=function(){this.unsubscribeEvents(),this.$element.on("click",$.proxy(this.clickHandler,this)),"function"==typeof this.options.onNodeChecked&&this.$element.on("nodeChecked",this.options.onNodeChecked),"function"==typeof this.options.onNodeCollapsed&&this.$element.on("nodeCollapsed",this.options.onNodeCollapsed),"function"==typeof this.options.onNodeDisabled&&this.$element.on("nodeDisabled",this.options.onNodeDisabled),"function"==typeof this.options.onNodeEnabled&&this.$element.on("nodeEnabled",this.options.onNodeEnabled),"function"==typeof this.options.onNodeExpanded&&this.$element.on("nodeExpanded",this.options.onNodeExpanded),"function"==typeof this.options.onNodeSelected&&this.$element.on("nodeSelected",this.options.onNodeSelected),"function"==typeof this.options.onNodeUnchecked&&this.$element.on("nodeUnchecked",this.options.onNodeUnchecked),"function"==typeof this.options.onNodeUnselected&&this.$element.on("nodeUnselected",this.options.onNodeUnselected),"function"==typeof this.options.onSearchComplete&&this.$element.on("searchComplete",this.options.onSearchComplete),"function"==typeof this.options.onSearchCleared&&this.$element.on("searchCleared",this.options.onSearchCleared)},Tree.prototype.setInitialStates=function(node,level){if(node.nodes){level+=1;var parent=node,_this=this;$.each(node.nodes,function(index,node){node.nodeId=_this.nodes.length,node.parentId=parent.nodeId,node.hasOwnProperty("selectable")||(node.selectable=!0),node.state=node.state||{},node.state.hasOwnProperty("checked")||(node.state.checked=!1),node.state.hasOwnProperty("disabled")||(node.state.disabled=!1),node.state.hasOwnProperty("expanded")||(node.state.expanded=!node.state.disabled&&level<_this.options.levels&&node.nodes&&node.nodes.length>0?!0:!1),node.state.hasOwnProperty("selected")||(node.state.selected=!1),_this.nodes.push(node),node.nodes&&_this.setInitialStates(node,level)})}},Tree.prototype.clickHandler=function(event){this.options.enableLinks||event.preventDefault();var target=$(event.target),node=this.findNode(target);if(node&&!node.state.disabled){var classList=target.attr("class")?target.attr("class").split(" "):[];-1!==classList.indexOf("expand-icon")?(this.toggleExpandedState(node,_default.options),this.render()):-1!==classList.indexOf("check-icon")?(this.toggleCheckedState(node,_default.options),this.render()):(node.selectable?this.toggleSelectedState(node,_default.options):this.toggleExpandedState(node,_default.options),this.render())}},Tree.prototype.findNode=function(target){var nodeId=target.closest("li.list-group-item").attr("data-nodeid"),node=this.nodes[nodeId];return node||console.log("Error: node does not exist"),node},Tree.prototype.toggleExpandedState=function(node,options){node&&this.setExpandedState(node,!node.state.expanded,options)},Tree.prototype.setExpandedState=function(node,state,options){state!==node.state.expanded&&(state&&node.nodes?(node.state.expanded=!0,options.silent||this.$element.trigger("nodeExpanded",$.extend(!0,{},node))):state||(node.state.expanded=!1,options.silent||this.$element.trigger("nodeCollapsed",$.extend(!0,{},node)),node.nodes&&!options.ignoreChildren&&$.each(node.nodes,$.proxy(function(index,node){this.setExpandedState(node,!1,options)},this))))},Tree.prototype.toggleSelectedState=function(node,options){node&&this.setSelectedState(node,!node.state.selected,options)},Tree.prototype.setSelectedState=function(node,state,options){state!==node.state.selected&&(state?(this.options.multiSelect||$.each(this.findNodes("true","g","state.selected"),$.proxy(function(index,node){this.setSelectedState(node,!1,options)},this)),node.state.selected=!0,options.silent||this.$element.trigger("nodeSelected",$.extend(!0,{},node))):(node.state.selected=!1,options.silent||this.$element.trigger("nodeUnselected",$.extend(!0,{},node))))},Tree.prototype.toggleCheckedState=function(node,options){node&&this.setCheckedState(node,!node.state.checked,options)},Tree.prototype.setCheckedState=function(node,state,options){state!==node.state.checked&&(state?(node.state.checked=!0,options.silent||this.$element.trigger("nodeChecked",$.extend(!0,{},node))):(node.state.checked=!1,options.silent||this.$element.trigger("nodeUnchecked",$.extend(!0,{},node))))},Tree.prototype.setDisabledState=function(node,state,options){state!==node.state.disabled&&(state?(node.state.disabled=!0,this.setExpandedState(node,!1,options),this.setSelectedState(node,!1,options),this.setCheckedState(node,!1,options),options.silent||this.$element.trigger("nodeDisabled",$.extend(!0,{},node))):(node.state.disabled=!1,options.silent||this.$element.trigger("nodeEnabled",$.extend(!0,{},node))))},Tree.prototype.render=function(){this.initialized||(this.$element.addClass(pluginName),this.$wrapper=$(this.template.list),this.injectStyle(),this.initialized=!0),this.$element.empty().append(this.$wrapper.empty()),this.buildTree(this.tree,0)},Tree.prototype.buildTree=function(nodes,level){if(nodes){level+=1;var _this=this;$.each(nodes,function(id,node){for(var treeItem=$(_this.template.item).addClass("node-"+_this.elementId).addClass(node.state.checked?"node-checked":"").addClass(node.state.disabled?"node-disabled":"").addClass(node.state.selected?"node-selected":"").addClass(node.searchResult?"search-result":"").attr("data-nodeid",node.nodeId).attr("style",_this.buildStyleOverride(node)),i=0;level-1>i;i++)treeItem.append(_this.template.indent);var classList=[];if(node.nodes?(classList.push("expand-icon"),classList.push(node.state.expanded?_this.options.collapseIcon:_this.options.expandIcon)):classList.push(_this.options.emptyIcon),treeItem.append($(_this.template.icon).addClass(classList.join(" "))),_this.options.showIcon){var classList=["node-icon"];classList.push(node.icon||_this.options.nodeIcon),node.state.selected&&(classList.pop(),classList.push(node.selectedIcon||_this.options.selectedIcon||node.icon||_this.options.nodeIcon)),treeItem.append($(_this.template.icon).addClass(classList.join(" ")))}if(_this.options.showCheckbox){var classList=["check-icon"];classList.push(node.state.checked?_this.options.checkedIcon:_this.options.uncheckedIcon),treeItem.append($(_this.template.icon).addClass(classList.join(" ")))}return treeItem.append(_this.options.enableLinks?$(_this.template.link).attr("href",node.href).append(node.text):node.text),_this.options.showTags&&node.tags&&$.each(node.tags,function(id,tag){treeItem.append($(_this.template.badge).append(tag))}),_this.$wrapper.append(treeItem),node.nodes&&node.state.expanded&&!node.state.disabled?_this.buildTree(node.nodes,level):void 0})}},Tree.prototype.buildStyleOverride=function(node){if(node.state.disabled)return"";var color=node.color,backColor=node.backColor;return this.options.highlightSelected&&node.state.selected&&(this.options.selectedColor&&(color=this.options.selectedColor),this.options.selectedBackColor&&(backColor=this.options.selectedBackColor)),this.options.highlightSearchResults&&node.searchResult&&!node.state.disabled&&(this.options.searchResultColor&&(color=this.options.searchResultColor),this.options.searchResultBackColor&&(backColor=this.options.searchResultBackColor)),"color:"+color+";background-color:"+backColor+";"},Tree.prototype.injectStyle=function(){this.options.injectStyle&&!document.getElementById(this.styleId)&&$('<style type="text/css" id="'+this.styleId+'"> '+this.buildStyle()+" </style>").appendTo("head")},Tree.prototype.buildStyle=function(){var style=".node-"+this.elementId+"{";return this.options.color&&(style+="color:"+this.options.color+";"),this.options.backColor&&(style+="background-color:"+this.options.backColor+";"),this.options.showBorder?this.options.borderColor&&(style+="border:1px solid "+this.options.borderColor+";"):style+="border:none;",style+="}",this.options.onhoverColor&&(style+=".node-"+this.elementId+":not(.node-disabled):hover{background-color:"+this.options.onhoverColor+";}"),this.css+style},Tree.prototype.template={list:'<ul class="list-group"></ul>',item:'<li class="list-group-item"></li>',indent:'<span class="indent"></span>',icon:'<span class="icon"></span>',link:'<a href="#" style="color:inherit;"></a>',badge:'<span class="badge"></span>'},Tree.prototype.css=".treeview .list-group-item{cursor:pointer}.treeview span.indent{margin-left:10px;margin-right:10px}.treeview span.icon{width:12px;margin-right:5px}.treeview .node-disabled{color:silver;cursor:not-allowed}",Tree.prototype.getNode=function(nodeId){return this.nodes[nodeId]},Tree.prototype.getParent=function(identifier){var node=this.identifyNode(identifier);return this.nodes[node.parentId]},Tree.prototype.getSiblings=function(identifier){var node=this.identifyNode(identifier),parent=this.getParent(node),nodes=parent?parent.nodes:this.tree;return nodes.filter(function(obj){return obj.nodeId!==node.nodeId})},Tree.prototype.getSelected=function(){return this.findNodes("true","g","state.selected")},Tree.prototype.getUnselected=function(){return this.findNodes("false","g","state.selected")},Tree.prototype.getExpanded=function(){return this.findNodes("true","g","state.expanded")},Tree.prototype.getCollapsed=function(){return this.findNodes("false","g","state.expanded")},Tree.prototype.getChecked=function(){return this.findNodes("true","g","state.checked")},Tree.prototype.getUnchecked=function(){return this.findNodes("false","g","state.checked")},Tree.prototype.getDisabled=function(){return this.findNodes("true","g","state.disabled")},Tree.prototype.getEnabled=function(){return this.findNodes("false","g","state.disabled")},Tree.prototype.selectNode=function(identifiers,options){this.forEachIdentifier(identifiers,options,$.proxy(function(node,options){this.setSelectedState(node,!0,options)},this)),this.render()},Tree.prototype.unselectNode=function(identifiers,options){this.forEachIdentifier(identifiers,options,$.proxy(function(node,options){this.setSelectedState(node,!1,options)},this)),this.render()},Tree.prototype.toggleNodeSelected=function(identifiers,options){this.forEachIdentifier(identifiers,options,$.proxy(function(node,options){this.toggleSelectedState(node,options)},this)),this.render()},Tree.prototype.collapseAll=function(options){var identifiers=this.findNodes("true","g","state.expanded");this.forEachIdentifier(identifiers,options,$.proxy(function(node,options){this.setExpandedState(node,!1,options)},this)),this.render()},Tree.prototype.collapseNode=function(identifiers,options){this.forEachIdentifier(identifiers,options,$.proxy(function(node,options){this.setExpandedState(node,!1,options)},this)),this.render()},Tree.prototype.expandAll=function(options){if(options=$.extend({},_default.options,options),options&&options.levels)this.expandLevels(this.tree,options.levels,options);else{var identifiers=this.findNodes("false","g","state.expanded");this.forEachIdentifier(identifiers,options,$.proxy(function(node,options){this.setExpandedState(node,!0,options)},this))}this.render()},Tree.prototype.expandNode=function(identifiers,options){this.forEachIdentifier(identifiers,options,$.proxy(function(node,options){this.setExpandedState(node,!0,options),node.nodes&&options&&options.levels&&this.expandLevels(node.nodes,options.levels-1,options)},this)),this.render()},Tree.prototype.expandLevels=function(nodes,level,options){options=$.extend({},_default.options,options),$.each(nodes,$.proxy(function(index,node){this.setExpandedState(node,level>0?!0:!1,options),node.nodes&&this.expandLevels(node.nodes,level-1,options)},this))},Tree.prototype.revealNode=function(identifiers,options){this.forEachIdentifier(identifiers,options,$.proxy(function(node,options){for(var parentNode=this.getParent(node);parentNode;)this.setExpandedState(parentNode,!0,options),parentNode=this.getParent(parentNode)},this)),this.render()},Tree.prototype.toggleNodeExpanded=function(identifiers,options){this.forEachIdentifier(identifiers,options,$.proxy(function(node,options){this.toggleExpandedState(node,options)},this)),this.render()},Tree.prototype.checkAll=function(options){var identifiers=this.findNodes("false","g","state.checked");this.forEachIdentifier(identifiers,options,$.proxy(function(node,options){this.setCheckedState(node,!0,options)},this)),this.render()},Tree.prototype.checkNode=function(identifiers,options){this.forEachIdentifier(identifiers,options,$.proxy(function(node,options){this.setCheckedState(node,!0,options)},this)),this.render()},Tree.prototype.uncheckAll=function(options){var identifiers=this.findNodes("true","g","state.checked");this.forEachIdentifier(identifiers,options,$.proxy(function(node,options){this.setCheckedState(node,!1,options)},this)),this.render()},Tree.prototype.uncheckNode=function(identifiers,options){this.forEachIdentifier(identifiers,options,$.proxy(function(node,options){this.setCheckedState(node,!1,options)},this)),this.render()},Tree.prototype.toggleNodeChecked=function(identifiers,options){this.forEachIdentifier(identifiers,options,$.proxy(function(node,options){this.toggleCheckedState(node,options)},this)),this.render()},Tree.prototype.disableAll=function(options){var identifiers=this.findNodes("false","g","state.disabled");this.forEachIdentifier(identifiers,options,$.proxy(function(node,options){this.setDisabledState(node,!0,options)},this)),this.render()},Tree.prototype.disableNode=function(identifiers,options){this.forEachIdentifier(identifiers,options,$.proxy(function(node,options){this.setDisabledState(node,!0,options)},this)),this.render()},Tree.prototype.enableAll=function(options){var identifiers=this.findNodes("true","g","state.disabled");this.forEachIdentifier(identifiers,options,$.proxy(function(node,options){this.setDisabledState(node,!1,options)},this)),this.render()},Tree.prototype.enableNode=function(identifiers,options){this.forEachIdentifier(identifiers,options,$.proxy(function(node,options){this.setDisabledState(node,!1,options)},this)),this.render()},Tree.prototype.toggleNodeDisabled=function(identifiers,options){this.forEachIdentifier(identifiers,options,$.proxy(function(node,options){this.setDisabledState(node,!node.state.disabled,options)},this)),this.render()},Tree.prototype.forEachIdentifier=function(identifiers,options,callback){options=$.extend({},_default.options,options),identifiers instanceof Array||(identifiers=[identifiers]),$.each(identifiers,$.proxy(function(index,identifier){callback(this.identifyNode(identifier),options)},this))},Tree.prototype.identifyNode=function(identifier){return"number"==typeof identifier?this.nodes[identifier]:identifier},Tree.prototype.search=function(pattern,options){options=$.extend({},_default.searchOptions,options),this.clearSearch({render:!1});var results=[];if(pattern&&pattern.length>0){options.exactMatch&&(pattern="^"+pattern+"$");var modifier="g";options.ignoreCase&&(modifier+="i"),results=this.findNodes(pattern,modifier),$.each(results,function(index,node){node.searchResult=!0})}return options.revealResults?this.revealNode(results):this.render(),this.$element.trigger("searchComplete",$.extend(!0,{},results)),results},Tree.prototype.clearSearch=function(options){options=$.extend({},{render:!0},options);var results=$.each(this.findNodes("true","g","searchResult"),function(index,node){node.searchResult=!1});options.render&&this.render(),this.$element.trigger("searchCleared",$.extend(!0,{},results))},Tree.prototype.findNodes=function(pattern,modifier,attribute){modifier=modifier||"g",attribute=attribute||"text";var _this=this;return $.grep(this.nodes,function(node){var val=_this.getNodeValue(node,attribute);return"string"==typeof val?val.match(new RegExp(pattern,modifier)):void 0})},Tree.prototype.getNodeValue=function(obj,attr){var index=attr.indexOf(".");if(index>0){var _obj=obj[attr.substring(0,index)],_attr=attr.substring(index+1,attr.length);return this.getNodeValue(_obj,_attr)}return obj.hasOwnProperty(attr)?obj[attr].toString():undefined};var logError=function(message){window.console&&window.console.error(message)};$.fn[pluginName]=function(options,args){var result;return this.each(function(){var _this=$.data(this,pluginName);"string"==typeof options?_this?$.isFunction(_this[options])&&"_"!==options.charAt(0)?(args instanceof Array||(args=[args]),result=_this[options].apply(_this,args)):logError("No such method : "+options):logError("Not initialized, can not call method : "+options):"boolean"==typeof options?result=_this:$.data(this,pluginName,new Tree(this,$.extend(!0,{},options)))}),result||this}}(jQuery,window,document),function(){"use strict";var root=this,previous=root.Chart,Chart=function(context){this.canvas=context.canvas,this.ctx=context;var computeDimension=function(element,dimension){return element["offset"+dimension]?element["offset"+dimension]:document.defaultView.getComputedStyle(element).getPropertyValue(dimension)},width=this.width=computeDimension(context.canvas,"Width"),height=this.height=computeDimension(context.canvas,"Height");context.canvas.width=width,context.canvas.height=height;var width=this.width=context.canvas.width,height=this.height=context.canvas.height;return this.aspectRatio=this.width/this.height,helpers.retinaScale(this),this};Chart.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},Chart.types={};var helpers=Chart.helpers={},each=helpers.each=function(loopable,callback,self){var additionalArgs=Array.prototype.slice.call(arguments,3);if(loopable)if(loopable.length===+loopable.length){var i;for(i=0;i<loopable.length;i++)callback.apply(self,[loopable[i],i].concat(additionalArgs))}else for(var item in loopable)callback.apply(self,[loopable[item],item].concat(additionalArgs))},clone=helpers.clone=function(obj){var objClone={};return each(obj,function(value,key){obj.hasOwnProperty(key)&&(objClone[key]=value)}),objClone},extend=helpers.extend=function(base){return each(Array.prototype.slice.call(arguments,1),function(extensionObject){each(extensionObject,function(value,key){extensionObject.hasOwnProperty(key)&&(base[key]=value)})}),base},merge=helpers.merge=function(){var args=Array.prototype.slice.call(arguments,0);return args.unshift({}),extend.apply(null,args)},indexOf=helpers.indexOf=function(arrayToSearch,item){if(Array.prototype.indexOf)return arrayToSearch.indexOf(item);
for(var i=0;i<arrayToSearch.length;i++)if(arrayToSearch[i]===item)return i;return-1},inherits=(helpers.where=function(collection,filterCallback){var filtered=[];return helpers.each(collection,function(item){filterCallback(item)&&filtered.push(item)}),filtered},helpers.findNextWhere=function(arrayToSearch,filterCallback,startIndex){startIndex||(startIndex=-1);for(var i=startIndex+1;i<arrayToSearch.length;i++){var currentItem=arrayToSearch[i];if(filterCallback(currentItem))return currentItem}},helpers.findPreviousWhere=function(arrayToSearch,filterCallback,startIndex){startIndex||(startIndex=arrayToSearch.length);for(var i=startIndex-1;i>=0;i--){var currentItem=arrayToSearch[i];if(filterCallback(currentItem))return currentItem}},helpers.inherits=function(extensions){var parent=this,ChartElement=extensions&&extensions.hasOwnProperty("constructor")?extensions.constructor:function(){return parent.apply(this,arguments)},Surrogate=function(){this.constructor=ChartElement};return Surrogate.prototype=parent.prototype,ChartElement.prototype=new Surrogate,ChartElement.extend=inherits,extensions&&extend(ChartElement.prototype,extensions),ChartElement.__super__=parent.prototype,ChartElement}),noop=helpers.noop=function(){},uid=helpers.uid=function(){var id=0;return function(){return"chart-"+id++}}(),warn=helpers.warn=function(str){window.console&&"function"==typeof window.console.warn&&console.warn(str)},amd=helpers.amd="function"==typeof define&&define.amd,isNumber=helpers.isNumber=function(n){return!isNaN(parseFloat(n))&&isFinite(n)},max=helpers.max=function(array){return Math.max.apply(Math,array)},min=helpers.min=function(array){return Math.min.apply(Math,array)},getDecimalPlaces=(helpers.cap=function(valueToCap,maxValue,minValue){if(isNumber(maxValue)){if(valueToCap>maxValue)return maxValue}else if(isNumber(minValue)&&minValue>valueToCap)return minValue;return valueToCap},helpers.getDecimalPlaces=function(num){return num%1!==0&&isNumber(num)?num.toString().split(".")[1].length:0}),toRadians=helpers.radians=function(degrees){return degrees*(Math.PI/180)},aliasPixel=(helpers.getAngleFromPoint=function(centrePoint,anglePoint){var distanceFromXCenter=anglePoint.x-centrePoint.x,distanceFromYCenter=anglePoint.y-centrePoint.y,radialDistanceFromCenter=Math.sqrt(distanceFromXCenter*distanceFromXCenter+distanceFromYCenter*distanceFromYCenter),angle=2*Math.PI+Math.atan2(distanceFromYCenter,distanceFromXCenter);return 0>distanceFromXCenter&&0>distanceFromYCenter&&(angle+=2*Math.PI),{angle:angle,distance:radialDistanceFromCenter}},helpers.aliasPixel=function(pixelWidth){return pixelWidth%2===0?0:.5}),calculateOrderOfMagnitude=(helpers.splineCurve=function(FirstPoint,MiddlePoint,AfterPoint,t){var d01=Math.sqrt(Math.pow(MiddlePoint.x-FirstPoint.x,2)+Math.pow(MiddlePoint.y-FirstPoint.y,2)),d12=Math.sqrt(Math.pow(AfterPoint.x-MiddlePoint.x,2)+Math.pow(AfterPoint.y-MiddlePoint.y,2)),fa=t*d01/(d01+d12),fb=t*d12/(d01+d12);return{inner:{x:MiddlePoint.x-fa*(AfterPoint.x-FirstPoint.x),y:MiddlePoint.y-fa*(AfterPoint.y-FirstPoint.y)},outer:{x:MiddlePoint.x+fb*(AfterPoint.x-FirstPoint.x),y:MiddlePoint.y+fb*(AfterPoint.y-FirstPoint.y)}}},helpers.calculateOrderOfMagnitude=function(val){return Math.floor(Math.log(val)/Math.LN10)}),template=(helpers.calculateScaleRange=function(valuesArray,drawingSize,textSize,startFromZero,integersOnly){var minSteps=2,maxSteps=Math.floor(drawingSize/(1.5*textSize)),skipFitting=minSteps>=maxSteps,maxValue=max(valuesArray),minValue=min(valuesArray);maxValue===minValue&&(maxValue+=.5,minValue>=.5&&!startFromZero?minValue-=.5:maxValue+=.5);for(var valueRange=Math.abs(maxValue-minValue),rangeOrderOfMagnitude=calculateOrderOfMagnitude(valueRange),graphMax=Math.ceil(maxValue/(1*Math.pow(10,rangeOrderOfMagnitude)))*Math.pow(10,rangeOrderOfMagnitude),graphMin=startFromZero?0:Math.floor(minValue/(1*Math.pow(10,rangeOrderOfMagnitude)))*Math.pow(10,rangeOrderOfMagnitude),graphRange=graphMax-graphMin,stepValue=Math.pow(10,rangeOrderOfMagnitude),numberOfSteps=Math.round(graphRange/stepValue);(numberOfSteps>maxSteps||maxSteps>2*numberOfSteps)&&!skipFitting;)if(numberOfSteps>maxSteps)stepValue*=2,numberOfSteps=Math.round(graphRange/stepValue),numberOfSteps%1!==0&&(skipFitting=!0);else if(integersOnly&&rangeOrderOfMagnitude>=0){if(stepValue/2%1!==0)break;stepValue/=2,numberOfSteps=Math.round(graphRange/stepValue)}else stepValue/=2,numberOfSteps=Math.round(graphRange/stepValue);return skipFitting&&(numberOfSteps=minSteps,stepValue=graphRange/numberOfSteps),{steps:numberOfSteps,stepValue:stepValue,min:graphMin,max:graphMin+numberOfSteps*stepValue}},helpers.template=function(templateString,valuesObject){function tmpl(str,data){var fn=/\W/.test(str)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+str.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):cache[str]=cache[str];return data?fn(data):fn}if(templateString instanceof Function)return templateString(valuesObject);var cache={};return tmpl(templateString,valuesObject)}),easingEffects=(helpers.generateLabels=function(templateString,numberOfSteps,graphMin,stepValue){var labelsArray=new Array(numberOfSteps);return labelTemplateString&&each(labelsArray,function(val,index){labelsArray[index]=template(templateString,{value:graphMin+stepValue*(index+1)})}),labelsArray},helpers.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-0.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-0.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-0.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-0.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var s=1.70158,p=0,a=1;return 0===t?0:1==(t/=1)?1:(p||(p=.3),a<Math.abs(1)?(a=1,s=p/4):s=p/(2*Math.PI)*Math.asin(1/a),-(a*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-s)*Math.PI/p)))},easeOutElastic:function(t){var s=1.70158,p=0,a=1;return 0===t?0:1==(t/=1)?1:(p||(p=.3),a<Math.abs(1)?(a=1,s=p/4):s=p/(2*Math.PI)*Math.asin(1/a),a*Math.pow(2,-10*t)*Math.sin(2*(1*t-s)*Math.PI/p)+1)},easeInOutElastic:function(t){var s=1.70158,p=0,a=1;return 0===t?0:2==(t/=.5)?1:(p||(p=.3*1.5),a<Math.abs(1)?(a=1,s=p/4):s=p/(2*Math.PI)*Math.asin(1/a),1>t?-.5*a*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-s)*Math.PI/p):a*Math.pow(2,-10*(t-=1))*Math.sin(2*(1*t-s)*Math.PI/p)*.5+1)},easeInBack:function(t){var s=1.70158;return 1*(t/=1)*t*((s+1)*t-s)},easeOutBack:function(t){var s=1.70158;return 1*((t=t/1-1)*t*((s+1)*t+s)+1)},easeInOutBack:function(t){var s=1.70158;return(t/=.5)<1?.5*t*t*(((s*=1.525)+1)*t-s):.5*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)},easeInBounce:function(t){return 1-easingEffects.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?7.5625*t*t:2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*easingEffects.easeInBounce(2*t):.5*easingEffects.easeOutBounce(2*t-1)+.5}}),requestAnimFrame=helpers.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){return window.setTimeout(callback,1e3/60)}}(),cancelAnimFrame=helpers.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(callback){return window.clearTimeout(callback,1e3/60)}}(),addEvent=(helpers.animationLoop=function(callback,totalSteps,easingString,onProgress,onComplete,chartInstance){var currentStep=0,easingFunction=easingEffects[easingString]||easingEffects.linear,animationFrame=function(){currentStep++;var stepDecimal=currentStep/totalSteps,easeDecimal=easingFunction(stepDecimal);callback.call(chartInstance,easeDecimal,stepDecimal,currentStep),onProgress.call(chartInstance,easeDecimal,stepDecimal),totalSteps>currentStep?chartInstance.animationFrame=requestAnimFrame(animationFrame):onComplete.apply(chartInstance)};requestAnimFrame(animationFrame)},helpers.getRelativePosition=function(evt){var mouseX,mouseY,e=evt.originalEvent||evt,canvas=evt.currentTarget||evt.srcElement,boundingRect=canvas.getBoundingClientRect();return e.touches?(mouseX=e.touches[0].clientX-boundingRect.left,mouseY=e.touches[0].clientY-boundingRect.top):(mouseX=e.clientX-boundingRect.left,mouseY=e.clientY-boundingRect.top),{x:mouseX,y:mouseY}},helpers.addEvent=function(node,eventType,method){node.addEventListener?node.addEventListener(eventType,method):node.attachEvent?node.attachEvent("on"+eventType,method):node["on"+eventType]=method}),removeEvent=helpers.removeEvent=function(node,eventType,handler){node.removeEventListener?node.removeEventListener(eventType,handler,!1):node.detachEvent?node.detachEvent("on"+eventType,handler):node["on"+eventType]=noop},unbindEvents=(helpers.bindEvents=function(chartInstance,arrayOfEvents,handler){chartInstance.events||(chartInstance.events={}),each(arrayOfEvents,function(eventName){chartInstance.events[eventName]=function(){handler.apply(chartInstance,arguments)},addEvent(chartInstance.chart.canvas,eventName,chartInstance.events[eventName])})},helpers.unbindEvents=function(chartInstance,arrayOfEvents){each(arrayOfEvents,function(handler,eventName){removeEvent(chartInstance.chart.canvas,eventName,handler)})}),getMaximumWidth=helpers.getMaximumWidth=function(domNode){var container=domNode.parentNode;return container.clientWidth},getMaximumHeight=helpers.getMaximumHeight=function(domNode){var container=domNode.parentNode;return container.clientHeight},retinaScale=(helpers.getMaximumSize=helpers.getMaximumWidth,helpers.retinaScale=function(chart){var ctx=chart.ctx,width=chart.canvas.width,height=chart.canvas.height;window.devicePixelRatio&&(ctx.canvas.style.width=width+"px",ctx.canvas.style.height=height+"px",ctx.canvas.height=height*window.devicePixelRatio,ctx.canvas.width=width*window.devicePixelRatio,ctx.scale(window.devicePixelRatio,window.devicePixelRatio))}),clear=helpers.clear=function(chart){chart.ctx.clearRect(0,0,chart.width,chart.height)},fontString=helpers.fontString=function(pixelSize,fontStyle,fontFamily){return fontStyle+" "+pixelSize+"px "+fontFamily},longestText=helpers.longestText=function(ctx,font,arrayOfStrings){ctx.font=font;var longest=0;return each(arrayOfStrings,function(string){var textWidth=ctx.measureText(string).width;longest=textWidth>longest?textWidth:longest}),longest},drawRoundedRectangle=helpers.drawRoundedRectangle=function(ctx,x,y,width,height,radius){ctx.beginPath(),ctx.moveTo(x+radius,y),ctx.lineTo(x+width-radius,y),ctx.quadraticCurveTo(x+width,y,x+width,y+radius),ctx.lineTo(x+width,y+height-radius),ctx.quadraticCurveTo(x+width,y+height,x+width-radius,y+height),ctx.lineTo(x+radius,y+height),ctx.quadraticCurveTo(x,y+height,x,y+height-radius),ctx.lineTo(x,y+radius),ctx.quadraticCurveTo(x,y,x+radius,y),ctx.closePath()};Chart.instances={},Chart.Type=function(data,options,chart){this.options=options,this.chart=chart,this.id=uid(),Chart.instances[this.id]=this,options.responsive&&this.resize(),this.initialize.call(this,data)},extend(Chart.Type.prototype,{initialize:function(){return this},clear:function(){return clear(this.chart),this},stop:function(){return cancelAnimFrame(this.animationFrame),this},resize:function(callback){this.stop();var canvas=this.chart.canvas,newWidth=getMaximumWidth(this.chart.canvas),newHeight=this.options.maintainAspectRatio?newWidth/this.chart.aspectRatio:getMaximumHeight(this.chart.canvas);return canvas.width=this.chart.width=newWidth,canvas.height=this.chart.height=newHeight,retinaScale(this.chart),"function"==typeof callback&&callback.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:noop,render:function(reflow){return reflow&&this.reflow(),this.options.animation&&!reflow?helpers.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return template(this.options.legendTemplate,this)},destroy:function(){this.clear(),unbindEvents(this,this.events);var canvas=this.chart.canvas;canvas.width=this.chart.width,canvas.height=this.chart.height,canvas.style.removeProperty?(canvas.style.removeProperty("width"),canvas.style.removeProperty("height")):(canvas.style.removeAttribute("width"),canvas.style.removeAttribute("height")),delete Chart.instances[this.id]},showTooltip:function(ChartElements,forceRedraw){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var isChanged=function(Elements){var changed=!1;return Elements.length!==this.activeElements.length?changed=!0:(each(Elements,function(element,index){element!==this.activeElements[index]&&(changed=!0)},this),changed)}.call(this,ChartElements);if(isChanged||forceRedraw){if(this.activeElements=ChartElements,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),ChartElements.length>0)if(this.datasets&&this.datasets.length>1){for(var dataArray,dataIndex,i=this.datasets.length-1;i>=0&&(dataArray=this.datasets[i].points||this.datasets[i].bars||this.datasets[i].segments,dataIndex=indexOf(dataArray,ChartElements[0]),-1===dataIndex);i--);var tooltipLabels=[],tooltipColors=[],medianPosition=function(){var dataCollection,xMax,yMax,xMin,yMin,Elements=[],xPositions=[],yPositions=[];return helpers.each(this.datasets,function(dataset){dataCollection=dataset.points||dataset.bars||dataset.segments,dataCollection[dataIndex]&&dataCollection[dataIndex].hasValue()&&Elements.push(dataCollection[dataIndex])}),helpers.each(Elements,function(element){xPositions.push(element.x),yPositions.push(element.y),tooltipLabels.push(helpers.template(this.options.multiTooltipTemplate,element)),tooltipColors.push({fill:element._saved.fillColor||element.fillColor,stroke:element._saved.strokeColor||element.strokeColor})},this),yMin=min(yPositions),yMax=max(yPositions),xMin=min(xPositions),xMax=max(xPositions),{x:xMin>this.chart.width/2?xMin:xMax,y:(yMin+yMax)/2}}.call(this,dataIndex);new Chart.MultiTooltip({x:medianPosition.x,y:medianPosition.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:tooltipLabels,legendColors:tooltipColors,legendColorBackground:this.options.multiTooltipKeyBackground,title:ChartElements[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else each(ChartElements,function(Element){var tooltipPosition=Element.tooltipPosition();new Chart.Tooltip({x:Math.round(tooltipPosition.x),y:Math.round(tooltipPosition.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:template(this.options.tooltipTemplate,Element),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),Chart.Type.extend=function(extensions){var parent=this,ChartType=function(){return parent.apply(this,arguments)};if(ChartType.prototype=clone(parent.prototype),extend(ChartType.prototype,extensions),ChartType.extend=Chart.Type.extend,extensions.name||parent.prototype.name){var chartName=extensions.name||parent.prototype.name,baseDefaults=Chart.defaults[parent.prototype.name]?clone(Chart.defaults[parent.prototype.name]):{};Chart.defaults[chartName]=extend(baseDefaults,extensions.defaults),Chart.types[chartName]=ChartType,Chart.prototype[chartName]=function(data,options){var config=merge(Chart.defaults.global,Chart.defaults[chartName],options||{});return new ChartType(data,config,this)}}else warn("Name not provided for this chart, so it hasn't been registered");return parent},Chart.Element=function(configuration){extend(this,configuration),this.initialize.apply(this,arguments),this.save()},extend(Chart.Element.prototype,{initialize:function(){},restore:function(props){return props?each(props,function(key){this[key]=this._saved[key]},this):extend(this,this._saved),this},save:function(){return this._saved=clone(this),delete this._saved._saved,this},update:function(newProps){return each(newProps,function(value,key){this._saved[key]=this[key],this[key]=value},this),this},transition:function(props,ease){return each(props,function(value,key){this[key]=(value-this._saved[key])*ease+this._saved[key]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return isNumber(this.value)}}),Chart.Element.extend=inherits,Chart.Point=Chart.Element.extend({display:!0,inRange:function(chartX,chartY){var hitDetectionRange=this.hitDetectionRadius+this.radius;return Math.pow(chartX-this.x,2)+Math.pow(chartY-this.y,2)<Math.pow(hitDetectionRange,2)},draw:function(){if(this.display){var ctx=this.ctx;ctx.beginPath(),ctx.arc(this.x,this.y,this.radius,0,2*Math.PI),ctx.closePath(),ctx.strokeStyle=this.strokeColor,ctx.lineWidth=this.strokeWidth,ctx.fillStyle=this.fillColor,ctx.fill(),ctx.stroke()}}}),Chart.Arc=Chart.Element.extend({inRange:function(chartX,chartY){var pointRelativePosition=helpers.getAngleFromPoint(this,{x:chartX,y:chartY}),betweenAngles=pointRelativePosition.angle>=this.startAngle&&pointRelativePosition.angle<=this.endAngle,withinRadius=pointRelativePosition.distance>=this.innerRadius&&pointRelativePosition.distance<=this.outerRadius;return betweenAngles&&withinRadius},tooltipPosition:function(){var centreAngle=this.startAngle+(this.endAngle-this.startAngle)/2,rangeFromCentre=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(centreAngle)*rangeFromCentre,y:this.y+Math.sin(centreAngle)*rangeFromCentre}},draw:function(animationPercent){var ctx=this.ctx;ctx.beginPath(),ctx.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),ctx.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),ctx.closePath(),ctx.strokeStyle=this.strokeColor,ctx.lineWidth=this.strokeWidth,ctx.fillStyle=this.fillColor,ctx.fill(),ctx.lineJoin="bevel",this.showStroke&&ctx.stroke()}}),Chart.Rectangle=Chart.Element.extend({draw:function(){var ctx=this.ctx,halfWidth=this.width/2,leftX=this.x-halfWidth,rightX=this.x+halfWidth,top=this.base-(this.base-this.y),halfStroke=this.strokeWidth/2;this.showStroke&&(leftX+=halfStroke,rightX-=halfStroke,top+=halfStroke),ctx.beginPath(),ctx.fillStyle=this.fillColor,ctx.strokeStyle=this.strokeColor,ctx.lineWidth=this.strokeWidth,ctx.moveTo(leftX,this.base),ctx.lineTo(leftX,top),ctx.lineTo(rightX,top),ctx.lineTo(rightX,this.base),ctx.fill(),this.showStroke&&ctx.stroke()},height:function(){return this.base-this.y},inRange:function(chartX,chartY){return chartX>=this.x-this.width/2&&chartX<=this.x+this.width/2&&chartY>=this.y&&chartY<=this.base}}),Chart.Tooltip=Chart.Element.extend({draw:function(){var ctx=this.chart.ctx;ctx.font=fontString(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var caretPadding=this.caretPadding=2,tooltipWidth=ctx.measureText(this.text).width+2*this.xPadding,tooltipRectHeight=this.fontSize+2*this.yPadding,tooltipHeight=tooltipRectHeight+this.caretHeight+caretPadding;this.x+tooltipWidth/2>this.chart.width?this.xAlign="left":this.x-tooltipWidth/2<0&&(this.xAlign="right"),this.y-tooltipHeight<0&&(this.yAlign="below");var tooltipX=this.x-tooltipWidth/2,tooltipY=this.y-tooltipHeight;if(ctx.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case"above":ctx.beginPath(),ctx.moveTo(this.x,this.y-caretPadding),ctx.lineTo(this.x+this.caretHeight,this.y-(caretPadding+this.caretHeight)),ctx.lineTo(this.x-this.caretHeight,this.y-(caretPadding+this.caretHeight)),ctx.closePath(),ctx.fill();break;case"below":tooltipY=this.y+caretPadding+this.caretHeight,ctx.beginPath(),ctx.moveTo(this.x,this.y+caretPadding),ctx.lineTo(this.x+this.caretHeight,this.y+caretPadding+this.caretHeight),ctx.lineTo(this.x-this.caretHeight,this.y+caretPadding+this.caretHeight),ctx.closePath(),ctx.fill()}switch(this.xAlign){case"left":tooltipX=this.x-tooltipWidth+(this.cornerRadius+this.caretHeight);break;case"right":tooltipX=this.x-(this.cornerRadius+this.caretHeight)}drawRoundedRectangle(ctx,tooltipX,tooltipY,tooltipWidth,tooltipRectHeight,this.cornerRadius),ctx.fill(),ctx.fillStyle=this.textColor,ctx.textAlign="center",ctx.textBaseline="middle",ctx.fillText(this.text,tooltipX+tooltipWidth/2,tooltipY+tooltipRectHeight/2)}}}),Chart.MultiTooltip=Chart.Element.extend({initialize:function(){this.font=fontString(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=fontString(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var titleWidth=this.ctx.measureText(this.title).width,labelWidth=longestText(this.ctx,this.font,this.labels)+this.fontSize+3,longestTextWidth=max([labelWidth,titleWidth]);this.width=longestTextWidth+2*this.xPadding;var halfHeight=this.height/2;this.y-halfHeight<0?this.y=halfHeight:this.y+halfHeight>this.chart.height&&(this.y=this.chart.height-halfHeight),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(index){var baseLineHeight=this.y-this.height/2+this.yPadding,afterTitleIndex=index-1;return 0===index?baseLineHeight+this.titleFontSize/2:baseLineHeight+(1.5*this.fontSize*afterTitleIndex+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){if(this.custom)this.custom(this);else{drawRoundedRectangle(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var ctx=this.ctx;ctx.fillStyle=this.fillColor,ctx.fill(),ctx.closePath(),ctx.textAlign="left",ctx.textBaseline="middle",ctx.fillStyle=this.titleTextColor,ctx.font=this.titleFont,ctx.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),ctx.font=this.font,helpers.each(this.labels,function(label,index){ctx.fillStyle=this.textColor,ctx.fillText(label,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(index+1)),ctx.fillStyle=this.legendColorBackground,ctx.fillRect(this.x+this.xPadding,this.getLineHeight(index+1)-this.fontSize/2,this.fontSize,this.fontSize),ctx.fillStyle=this.legendColors[index].fill,ctx.fillRect(this.x+this.xPadding,this.getLineHeight(index+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),Chart.Scale=Chart.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var stepDecimalPlaces=getDecimalPlaces(this.stepValue),i=0;i<=this.steps;i++)this.yLabels.push(template(this.templateString,{value:(this.min+i*this.stepValue).toFixed(stepDecimalPlaces)}));this.yLabelWidth=this.display&&this.showLabels?longestText(this.ctx,this.font,this.yLabels):0},addXLabel:function(label){this.xLabels.push(label),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var cachedYLabelWidth,cachedHeight=this.endPoint-this.startPoint;for(this.calculateYRange(cachedHeight),this.buildYLabels(),this.calculateXLabelRotation();cachedHeight>this.endPoint-this.startPoint;)cachedHeight=this.endPoint-this.startPoint,cachedYLabelWidth=this.yLabelWidth,this.calculateYRange(cachedHeight),this.buildYLabels(),cachedYLabelWidth<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var firstRotated,lastRotated,firstWidth=this.ctx.measureText(this.xLabels[0]).width,lastWidth=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=lastWidth/2+3,this.xScalePaddingLeft=firstWidth/2>this.yLabelWidth+10?firstWidth/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var cosRotation,originalLabelWidth=longestText(this.ctx,this.font,this.xLabels);this.xLabelWidth=originalLabelWidth;for(var xGridWidth=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>xGridWidth&&0===this.xLabelRotation||this.xLabelWidth>xGridWidth&&this.xLabelRotation<=90&&this.xLabelRotation>0;)cosRotation=Math.cos(toRadians(this.xLabelRotation)),firstRotated=cosRotation*firstWidth,lastRotated=cosRotation*lastWidth,firstRotated+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=firstRotated+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=cosRotation*originalLabelWidth;this.xLabelRotation>0&&(this.endPoint-=Math.sin(toRadians(this.xLabelRotation))*originalLabelWidth+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:noop,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(value){var scalingFactor=this.drawingArea()/(this.min-this.max);return this.endPoint-scalingFactor*(value-this.min)},calculateX:function(index){var innerWidth=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),valueWidth=innerWidth/Math.max(this.valuesCount-(this.offsetGridLines?0:1),1),valueOffset=valueWidth*index+this.xScalePaddingLeft;return this.offsetGridLines&&(valueOffset+=valueWidth/2),Math.round(valueOffset)},update:function(newProps){helpers.extend(this,newProps),this.fit()},draw:function(){var ctx=this.ctx,yLabelGap=(this.endPoint-this.startPoint)/this.steps,xStart=Math.round(this.xScalePaddingLeft);this.display&&(ctx.fillStyle=this.textColor,ctx.font=this.font,each(this.yLabels,function(labelString,index){var yLabelCenter=this.endPoint-yLabelGap*index,linePositionY=Math.round(yLabelCenter),drawHorizontalLine=this.showHorizontalLines;ctx.textAlign="right",ctx.textBaseline="middle",this.showLabels&&ctx.fillText(labelString,xStart-10,yLabelCenter),0!==index||drawHorizontalLine||(drawHorizontalLine=!0),drawHorizontalLine&&ctx.beginPath(),index>0?(ctx.lineWidth=this.gridLineWidth,ctx.strokeStyle=this.gridLineColor):(ctx.lineWidth=this.lineWidth,ctx.strokeStyle=this.lineColor),linePositionY+=helpers.aliasPixel(ctx.lineWidth),drawHorizontalLine&&(ctx.moveTo(xStart,linePositionY),ctx.lineTo(this.width,linePositionY),ctx.stroke(),ctx.closePath()),ctx.lineWidth=this.lineWidth,ctx.strokeStyle=this.lineColor,ctx.beginPath(),ctx.moveTo(xStart-5,linePositionY),ctx.lineTo(xStart,linePositionY),ctx.stroke(),ctx.closePath()},this),each(this.xLabels,function(label,index){var xPos=this.calculateX(index)+aliasPixel(this.lineWidth),linePos=this.calculateX(index-(this.offsetGridLines?.5:0))+aliasPixel(this.lineWidth),isRotated=this.xLabelRotation>0,drawVerticalLine=this.showVerticalLines;0!==index||drawVerticalLine||(drawVerticalLine=!0),drawVerticalLine&&ctx.beginPath(),index>0?(ctx.lineWidth=this.gridLineWidth,ctx.strokeStyle=this.gridLineColor):(ctx.lineWidth=this.lineWidth,ctx.strokeStyle=this.lineColor),drawVerticalLine&&(ctx.moveTo(linePos,this.endPoint),ctx.lineTo(linePos,this.startPoint-3),ctx.stroke(),ctx.closePath()),ctx.lineWidth=this.lineWidth,ctx.strokeStyle=this.lineColor,ctx.beginPath(),ctx.moveTo(linePos,this.endPoint),ctx.lineTo(linePos,this.endPoint+5),ctx.stroke(),ctx.closePath(),ctx.save(),ctx.translate(xPos,isRotated?this.endPoint+12:this.endPoint+8),ctx.rotate(-1*toRadians(this.xLabelRotation)),ctx.font=this.font,ctx.textAlign=isRotated?"right":"center",ctx.textBaseline=isRotated?"middle":"top",ctx.fillText(label,0,0),ctx.restore()},this))}}),Chart.RadialScale=Chart.Element.extend({initialize:function(){this.size=min([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(value){var scalingFactor=this.drawingArea/(this.max-this.min);return(value-this.min)*scalingFactor},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var stepDecimalPlaces=getDecimalPlaces(this.stepValue),i=0;i<=this.steps;i++)this.yLabels.push(template(this.templateString,{value:(this.min+i*this.stepValue).toFixed(stepDecimalPlaces)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var pointPosition,i,textWidth,halfTextWidth,furthestRightIndex,furthestRightAngle,furthestLeftIndex,furthestLeftAngle,xProtrusionLeft,xProtrusionRight,radiusReductionRight,radiusReductionLeft,largestPossibleRadius=min([this.height/2-this.pointLabelFontSize-5,this.width/2]),furthestRight=this.width,furthestLeft=0;for(this.ctx.font=fontString(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),i=0;i<this.valuesCount;i++)pointPosition=this.getPointPosition(i,largestPossibleRadius),textWidth=this.ctx.measureText(template(this.templateString,{value:this.labels[i]})).width+5,0===i||i===this.valuesCount/2?(halfTextWidth=textWidth/2,pointPosition.x+halfTextWidth>furthestRight&&(furthestRight=pointPosition.x+halfTextWidth,furthestRightIndex=i),pointPosition.x-halfTextWidth<furthestLeft&&(furthestLeft=pointPosition.x-halfTextWidth,furthestLeftIndex=i)):i<this.valuesCount/2?pointPosition.x+textWidth>furthestRight&&(furthestRight=pointPosition.x+textWidth,furthestRightIndex=i):i>this.valuesCount/2&&pointPosition.x-textWidth<furthestLeft&&(furthestLeft=pointPosition.x-textWidth,furthestLeftIndex=i);xProtrusionLeft=furthestLeft,xProtrusionRight=Math.ceil(furthestRight-this.width),furthestRightAngle=this.getIndexAngle(furthestRightIndex),furthestLeftAngle=this.getIndexAngle(furthestLeftIndex),radiusReductionRight=xProtrusionRight/Math.sin(furthestRightAngle+Math.PI/2),radiusReductionLeft=xProtrusionLeft/Math.sin(furthestLeftAngle+Math.PI/2),radiusReductionRight=isNumber(radiusReductionRight)?radiusReductionRight:0,radiusReductionLeft=isNumber(radiusReductionLeft)?radiusReductionLeft:0,this.drawingArea=largestPossibleRadius-(radiusReductionLeft+radiusReductionRight)/2,this.setCenterPoint(radiusReductionLeft,radiusReductionRight)
},setCenterPoint:function(leftMovement,rightMovement){var maxRight=this.width-rightMovement-this.drawingArea,maxLeft=leftMovement+this.drawingArea;this.xCenter=(maxLeft+maxRight)/2,this.yCenter=this.height/2},getIndexAngle:function(index){var angleMultiplier=2*Math.PI/this.valuesCount;return index*angleMultiplier-Math.PI/2},getPointPosition:function(index,distanceFromCenter){var thisAngle=this.getIndexAngle(index);return{x:Math.cos(thisAngle)*distanceFromCenter+this.xCenter,y:Math.sin(thisAngle)*distanceFromCenter+this.yCenter}},draw:function(){if(this.display){var ctx=this.ctx;if(each(this.yLabels,function(label,index){if(index>0){var pointPosition,yCenterOffset=index*(this.drawingArea/this.steps),yHeight=this.yCenter-yCenterOffset;if(this.lineWidth>0)if(ctx.strokeStyle=this.lineColor,ctx.lineWidth=this.lineWidth,this.lineArc)ctx.beginPath(),ctx.arc(this.xCenter,this.yCenter,yCenterOffset,0,2*Math.PI),ctx.closePath(),ctx.stroke();else{ctx.beginPath();for(var i=0;i<this.valuesCount;i++)pointPosition=this.getPointPosition(i,this.calculateCenterOffset(this.min+index*this.stepValue)),0===i?ctx.moveTo(pointPosition.x,pointPosition.y):ctx.lineTo(pointPosition.x,pointPosition.y);ctx.closePath(),ctx.stroke()}if(this.showLabels){if(ctx.font=fontString(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var labelWidth=ctx.measureText(label).width;ctx.fillStyle=this.backdropColor,ctx.fillRect(this.xCenter-labelWidth/2-this.backdropPaddingX,yHeight-this.fontSize/2-this.backdropPaddingY,labelWidth+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}ctx.textAlign="center",ctx.textBaseline="middle",ctx.fillStyle=this.fontColor,ctx.fillText(label,this.xCenter,yHeight)}}},this),!this.lineArc){ctx.lineWidth=this.angleLineWidth,ctx.strokeStyle=this.angleLineColor;for(var i=this.valuesCount-1;i>=0;i--){if(this.angleLineWidth>0){var outerPosition=this.getPointPosition(i,this.calculateCenterOffset(this.max));ctx.beginPath(),ctx.moveTo(this.xCenter,this.yCenter),ctx.lineTo(outerPosition.x,outerPosition.y),ctx.stroke(),ctx.closePath()}var pointLabelPosition=this.getPointPosition(i,this.calculateCenterOffset(this.max)+5);ctx.font=fontString(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),ctx.fillStyle=this.pointLabelFontColor;var labelsCount=this.labels.length,halfLabelsCount=this.labels.length/2,quarterLabelsCount=halfLabelsCount/2,upperHalf=quarterLabelsCount>i||i>labelsCount-quarterLabelsCount,exactQuarter=i===quarterLabelsCount||i===labelsCount-quarterLabelsCount;ctx.textAlign=0===i?"center":i===halfLabelsCount?"center":halfLabelsCount>i?"left":"right",ctx.textBaseline=exactQuarter?"middle":upperHalf?"bottom":"top",ctx.fillText(this.labels[i],pointLabelPosition.x,pointLabelPosition.y)}}}}}),helpers.addEvent(window,"resize",function(){var timeout;return function(){clearTimeout(timeout),timeout=setTimeout(function(){each(Chart.instances,function(instance){instance.options.responsive&&instance.resize(instance.render,!0)})},50)}}()),amd?define(function(){return Chart}):"object"==typeof module&&module.exports&&(module.exports=Chart),root.Chart=Chart,Chart.noConflict=function(){return root.Chart=previous,Chart}}.call(this),function(){"use strict";var root=this,Chart=root.Chart,helpers=Chart.helpers,defaultConfig={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};Chart.Type.extend({name:"Bar",defaults:defaultConfig,initialize:function(data){var options=this.options;this.ScaleClass=Chart.Scale.extend({offsetGridLines:!0,calculateBarX:function(datasetCount,datasetIndex,barIndex){var xWidth=this.calculateBaseWidth(),xAbsolute=this.calculateX(barIndex)-xWidth/2,barWidth=this.calculateBarWidth(datasetCount);return xAbsolute+barWidth*datasetIndex+datasetIndex*options.barDatasetSpacing+barWidth/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*options.barValueSpacing},calculateBarWidth:function(datasetCount){var baseWidth=this.calculateBaseWidth()-(datasetCount-1)*options.barDatasetSpacing;return baseWidth/datasetCount}}),this.datasets=[],this.options.showTooltips&&helpers.bindEvents(this,this.options.tooltipEvents,function(evt){var activeBars="mouseout"!==evt.type?this.getBarsAtEvent(evt):[];this.eachBars(function(bar){bar.restore(["fillColor","strokeColor"])}),helpers.each(activeBars,function(activeBar){activeBar.fillColor=activeBar.highlightFill,activeBar.strokeColor=activeBar.highlightStroke}),this.showTooltip(activeBars)}),this.BarClass=Chart.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),helpers.each(data.datasets,function(dataset){var datasetObject={label:dataset.label||null,fillColor:dataset.fillColor,strokeColor:dataset.strokeColor,bars:[]};this.datasets.push(datasetObject),helpers.each(dataset.data,function(dataPoint,index){datasetObject.bars.push(new this.BarClass({value:dataPoint,label:data.labels[index],datasetLabel:dataset.label,strokeColor:dataset.strokeColor,fillColor:dataset.fillColor,highlightFill:dataset.highlightFill||dataset.fillColor,highlightStroke:dataset.highlightStroke||dataset.strokeColor}))},this)},this),this.buildScale(data.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(bar,index,datasetIndex){helpers.extend(bar,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,datasetIndex,index),y:this.scale.endPoint}),bar.save()},this),this.render()},update:function(){this.scale.update(),helpers.each(this.activeElements,function(activeElement){activeElement.restore(["fillColor","strokeColor"])}),this.eachBars(function(bar){bar.save()}),this.render()},eachBars:function(callback){helpers.each(this.datasets,function(dataset,datasetIndex){helpers.each(dataset.bars,callback,this,datasetIndex)},this)},getBarsAtEvent:function(e){for(var barIndex,barsArray=[],eventPosition=helpers.getRelativePosition(e),datasetIterator=function(dataset){barsArray.push(dataset.bars[barIndex])},datasetIndex=0;datasetIndex<this.datasets.length;datasetIndex++)for(barIndex=0;barIndex<this.datasets[datasetIndex].bars.length;barIndex++)if(this.datasets[datasetIndex].bars[barIndex].inRange(eventPosition.x,eventPosition.y))return helpers.each(this.datasets,datasetIterator),barsArray;return barsArray},buildScale:function(labels){var self=this,dataTotal=function(){var values=[];return self.eachBars(function(bar){values.push(bar.value)}),values},scaleOptions={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:labels.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(currentHeight){var updatedRanges=helpers.calculateScaleRange(dataTotal(),currentHeight,this.fontSize,this.beginAtZero,this.integersOnly);helpers.extend(this,updatedRanges)},xLabels:labels,font:helpers.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&helpers.extend(scaleOptions,{calculateYRange:helpers.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(scaleOptions)},addData:function(valuesArray,label){helpers.each(valuesArray,function(value,datasetIndex){this.datasets[datasetIndex].bars.push(new this.BarClass({value:value,label:label,x:this.scale.calculateBarX(this.datasets.length,datasetIndex,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[datasetIndex].strokeColor,fillColor:this.datasets[datasetIndex].fillColor}))},this),this.scale.addXLabel(label),this.update()},removeData:function(){this.scale.removeXLabel(),helpers.each(this.datasets,function(dataset){dataset.bars.shift()},this),this.update()},reflow:function(){helpers.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var newScaleProps=helpers.extend({height:this.chart.height,width:this.chart.width});this.scale.update(newScaleProps)},draw:function(ease){var easingDecimal=ease||1;this.clear();this.chart.ctx;this.scale.draw(easingDecimal),helpers.each(this.datasets,function(dataset,datasetIndex){helpers.each(dataset.bars,function(bar,index){bar.hasValue()&&(bar.base=this.scale.endPoint,bar.transition({x:this.scale.calculateBarX(this.datasets.length,datasetIndex,index),y:this.scale.calculateY(bar.value),width:this.scale.calculateBarWidth(this.datasets.length)},easingDecimal).draw())},this)},this)}})}.call(this),function(){"use strict";var root=this,Chart=root.Chart,helpers=Chart.helpers,defaultConfig={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};Chart.Type.extend({name:"Doughnut",defaults:defaultConfig,initialize:function(data){this.segments=[],this.outerRadius=(helpers.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=Chart.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&helpers.bindEvents(this,this.options.tooltipEvents,function(evt){var activeSegments="mouseout"!==evt.type?this.getSegmentsAtEvent(evt):[];helpers.each(this.segments,function(segment){segment.restore(["fillColor"])}),helpers.each(activeSegments,function(activeSegment){activeSegment.fillColor=activeSegment.highlightColor}),this.showTooltip(activeSegments)}),this.calculateTotal(data),helpers.each(data,function(datapoint,index){this.addData(datapoint,index,!0)},this),this.render()},getSegmentsAtEvent:function(e){var segmentsArray=[],location=helpers.getRelativePosition(e);return helpers.each(this.segments,function(segment){segment.inRange(location.x,location.y)&&segmentsArray.push(segment)},this),segmentsArray},addData:function(segment,atIndex,silent){var index=atIndex||this.segments.length;this.segments.splice(index,0,new this.SegmentArc({value:segment.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:segment.color,highlightColor:segment.highlight||segment.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(segment.value),label:segment.label})),silent||(this.reflow(),this.update())},calculateCircumference:function(value){return 2*Math.PI*(Math.abs(value)/this.total)},calculateTotal:function(data){this.total=0,helpers.each(data,function(segment){this.total+=Math.abs(segment.value)},this)},update:function(){this.calculateTotal(this.segments),helpers.each(this.activeElements,function(activeElement){activeElement.restore(["fillColor"])}),helpers.each(this.segments,function(segment){segment.save()}),this.render()},removeData:function(atIndex){var indexToDelete=helpers.isNumber(atIndex)?atIndex:this.segments.length-1;this.segments.splice(indexToDelete,1),this.reflow(),this.update()},reflow:function(){helpers.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(helpers.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,helpers.each(this.segments,function(segment){segment.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(easeDecimal){var animDecimal=easeDecimal?easeDecimal:1;this.clear(),helpers.each(this.segments,function(segment,index){segment.transition({circumference:this.calculateCircumference(segment.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},animDecimal),segment.endAngle=segment.startAngle+segment.circumference,segment.draw(),0===index&&(segment.startAngle=1.5*Math.PI),index<this.segments.length-1&&(this.segments[index+1].startAngle=segment.endAngle)},this)}}),Chart.types.Doughnut.extend({name:"Pie",defaults:helpers.merge(defaultConfig,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var root=this,Chart=root.Chart,helpers=Chart.helpers,defaultConfig={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};Chart.Type.extend({name:"Line",defaults:defaultConfig,initialize:function(data){this.PointClass=Chart.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(mouseX){return Math.pow(mouseX-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&helpers.bindEvents(this,this.options.tooltipEvents,function(evt){var activePoints="mouseout"!==evt.type?this.getPointsAtEvent(evt):[];this.eachPoints(function(point){point.restore(["fillColor","strokeColor"])}),helpers.each(activePoints,function(activePoint){activePoint.fillColor=activePoint.highlightFill,activePoint.strokeColor=activePoint.highlightStroke}),this.showTooltip(activePoints)}),helpers.each(data.datasets,function(dataset){var datasetObject={label:dataset.label||null,fillColor:dataset.fillColor,strokeColor:dataset.strokeColor,pointColor:dataset.pointColor,pointStrokeColor:dataset.pointStrokeColor,points:[]};this.datasets.push(datasetObject),helpers.each(dataset.data,function(dataPoint,index){datasetObject.points.push(new this.PointClass({value:dataPoint,label:data.labels[index],datasetLabel:dataset.label,strokeColor:dataset.pointStrokeColor,fillColor:dataset.pointColor,highlightFill:dataset.pointHighlightFill||dataset.pointColor,highlightStroke:dataset.pointHighlightStroke||dataset.pointStrokeColor}))},this),this.buildScale(data.labels),this.eachPoints(function(point,index){helpers.extend(point,{x:this.scale.calculateX(index),y:this.scale.endPoint}),point.save()},this)},this),this.render()},update:function(){this.scale.update(),helpers.each(this.activeElements,function(activeElement){activeElement.restore(["fillColor","strokeColor"])}),this.eachPoints(function(point){point.save()}),this.render()},eachPoints:function(callback){helpers.each(this.datasets,function(dataset){helpers.each(dataset.points,callback,this)},this)},getPointsAtEvent:function(e){var pointsArray=[],eventPosition=helpers.getRelativePosition(e);return helpers.each(this.datasets,function(dataset){helpers.each(dataset.points,function(point){point.inRange(eventPosition.x,eventPosition.y)&&pointsArray.push(point)})},this),pointsArray},buildScale:function(labels){var self=this,dataTotal=function(){var values=[];return self.eachPoints(function(point){values.push(point.value)}),values},scaleOptions={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:labels.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(currentHeight){var updatedRanges=helpers.calculateScaleRange(dataTotal(),currentHeight,this.fontSize,this.beginAtZero,this.integersOnly);helpers.extend(this,updatedRanges)},xLabels:labels,font:helpers.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&helpers.extend(scaleOptions,{calculateYRange:helpers.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new Chart.Scale(scaleOptions)},addData:function(valuesArray,label){helpers.each(valuesArray,function(value,datasetIndex){this.datasets[datasetIndex].points.push(new this.PointClass({value:value,label:label,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[datasetIndex].pointStrokeColor,fillColor:this.datasets[datasetIndex].pointColor}))},this),this.scale.addXLabel(label),this.update()},removeData:function(){this.scale.removeXLabel(),helpers.each(this.datasets,function(dataset){dataset.points.shift()},this),this.update()},reflow:function(){var newScaleProps=helpers.extend({height:this.chart.height,width:this.chart.width});this.scale.update(newScaleProps)},draw:function(ease){var easingDecimal=ease||1;this.clear();var ctx=this.chart.ctx,hasValue=function(item){return null!==item.value},nextPoint=function(point,collection,index){return helpers.findNextWhere(collection,hasValue,index)||point},previousPoint=function(point,collection,index){return helpers.findPreviousWhere(collection,hasValue,index)||point};this.scale.draw(easingDecimal),helpers.each(this.datasets,function(dataset){var pointsWithValues=helpers.where(dataset.points,hasValue);helpers.each(dataset.points,function(point,index){point.hasValue()&&point.transition({y:this.scale.calculateY(point.value),x:this.scale.calculateX(index)},easingDecimal)},this),this.options.bezierCurve&&helpers.each(pointsWithValues,function(point,index){var tension=index>0&&index<pointsWithValues.length-1?this.options.bezierCurveTension:0;point.controlPoints=helpers.splineCurve(previousPoint(point,pointsWithValues,index),point,nextPoint(point,pointsWithValues,index),tension),point.controlPoints.outer.y>this.scale.endPoint?point.controlPoints.outer.y=this.scale.endPoint:point.controlPoints.outer.y<this.scale.startPoint&&(point.controlPoints.outer.y=this.scale.startPoint),point.controlPoints.inner.y>this.scale.endPoint?point.controlPoints.inner.y=this.scale.endPoint:point.controlPoints.inner.y<this.scale.startPoint&&(point.controlPoints.inner.y=this.scale.startPoint)},this),ctx.lineWidth=this.options.datasetStrokeWidth,ctx.strokeStyle=dataset.strokeColor,ctx.beginPath(),helpers.each(pointsWithValues,function(point,index){if(0===index)ctx.moveTo(point.x,point.y);else if(this.options.bezierCurve){var previous=previousPoint(point,pointsWithValues,index);ctx.bezierCurveTo(previous.controlPoints.outer.x,previous.controlPoints.outer.y,point.controlPoints.inner.x,point.controlPoints.inner.y,point.x,point.y)}else ctx.lineTo(point.x,point.y)},this),ctx.stroke(),this.options.datasetFill&&pointsWithValues.length>0&&(ctx.lineTo(pointsWithValues[pointsWithValues.length-1].x,this.scale.endPoint),ctx.lineTo(pointsWithValues[0].x,this.scale.endPoint),ctx.fillStyle=dataset.fillColor,ctx.closePath(),ctx.fill()),helpers.each(pointsWithValues,function(point){point.draw()})},this)}})}.call(this),function(){"use strict";var root=this,Chart=root.Chart,helpers=Chart.helpers,defaultConfig={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};Chart.Type.extend({name:"PolarArea",defaults:defaultConfig,initialize:function(data){this.segments=[],this.SegmentArc=Chart.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new Chart.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:data.length}),this.updateScaleRange(data),this.scale.update(),helpers.each(data,function(segment,index){this.addData(segment,index,!0)},this),this.options.showTooltips&&helpers.bindEvents(this,this.options.tooltipEvents,function(evt){var activeSegments="mouseout"!==evt.type?this.getSegmentsAtEvent(evt):[];helpers.each(this.segments,function(segment){segment.restore(["fillColor"])}),helpers.each(activeSegments,function(activeSegment){activeSegment.fillColor=activeSegment.highlightColor}),this.showTooltip(activeSegments)}),this.render()},getSegmentsAtEvent:function(e){var segmentsArray=[],location=helpers.getRelativePosition(e);return helpers.each(this.segments,function(segment){segment.inRange(location.x,location.y)&&segmentsArray.push(segment)},this),segmentsArray},addData:function(segment,atIndex,silent){var index=atIndex||this.segments.length;this.segments.splice(index,0,new this.SegmentArc({fillColor:segment.color,highlightColor:segment.highlight||segment.color,label:segment.label,value:segment.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(segment.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),silent||(this.reflow(),this.update())},removeData:function(atIndex){var indexToDelete=helpers.isNumber(atIndex)?atIndex:this.segments.length-1;this.segments.splice(indexToDelete,1),this.reflow(),this.update()},calculateTotal:function(data){this.total=0,helpers.each(data,function(segment){this.total+=segment.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(datapoints){var valuesArray=[];helpers.each(datapoints,function(segment){valuesArray.push(segment.value)});var scaleSizes=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:helpers.calculateScaleRange(valuesArray,helpers.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);helpers.extend(this.scale,scaleSizes,{size:helpers.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),helpers.each(this.segments,function(segment){segment.save()}),this.reflow(),this.render()},reflow:function(){helpers.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),helpers.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),helpers.each(this.segments,function(segment){segment.update({outerRadius:this.scale.calculateCenterOffset(segment.value)})},this)},draw:function(ease){var easingDecimal=ease||1;this.clear(),helpers.each(this.segments,function(segment,index){segment.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(segment.value)},easingDecimal),segment.endAngle=segment.startAngle+segment.circumference,0===index&&(segment.startAngle=1.5*Math.PI),index<this.segments.length-1&&(this.segments[index+1].startAngle=segment.endAngle),segment.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var root=this,Chart=root.Chart,helpers=Chart.helpers;Chart.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(data){this.PointClass=Chart.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(data),this.options.showTooltips&&helpers.bindEvents(this,this.options.tooltipEvents,function(evt){var activePointsCollection="mouseout"!==evt.type?this.getPointsAtEvent(evt):[];this.eachPoints(function(point){point.restore(["fillColor","strokeColor"])}),helpers.each(activePointsCollection,function(activePoint){activePoint.fillColor=activePoint.highlightFill,activePoint.strokeColor=activePoint.highlightStroke}),this.showTooltip(activePointsCollection)}),helpers.each(data.datasets,function(dataset){var datasetObject={label:dataset.label||null,fillColor:dataset.fillColor,strokeColor:dataset.strokeColor,pointColor:dataset.pointColor,pointStrokeColor:dataset.pointStrokeColor,points:[]};this.datasets.push(datasetObject),helpers.each(dataset.data,function(dataPoint,index){var pointPosition;this.scale.animation||(pointPosition=this.scale.getPointPosition(index,this.scale.calculateCenterOffset(dataPoint))),datasetObject.points.push(new this.PointClass({value:dataPoint,label:data.labels[index],datasetLabel:dataset.label,x:this.options.animation?this.scale.xCenter:pointPosition.x,y:this.options.animation?this.scale.yCenter:pointPosition.y,strokeColor:dataset.pointStrokeColor,fillColor:dataset.pointColor,highlightFill:dataset.pointHighlightFill||dataset.pointColor,highlightStroke:dataset.pointHighlightStroke||dataset.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(callback){helpers.each(this.datasets,function(dataset){helpers.each(dataset.points,callback,this)},this)},getPointsAtEvent:function(evt){var mousePosition=helpers.getRelativePosition(evt),fromCenter=helpers.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},mousePosition),anglePerIndex=2*Math.PI/this.scale.valuesCount,pointIndex=Math.round((fromCenter.angle-1.5*Math.PI)/anglePerIndex),activePointsCollection=[];return(pointIndex>=this.scale.valuesCount||0>pointIndex)&&(pointIndex=0),fromCenter.distance<=this.scale.drawingArea&&helpers.each(this.datasets,function(dataset){activePointsCollection.push(dataset.points[pointIndex])}),activePointsCollection},buildScale:function(data){this.scale=new Chart.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:data.labels,valuesCount:data.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(data.datasets),this.scale.buildYLabels()},updateScaleRange:function(datasets){var valuesArray=function(){var totalDataArray=[];return helpers.each(datasets,function(dataset){dataset.data?totalDataArray=totalDataArray.concat(dataset.data):helpers.each(dataset.points,function(point){totalDataArray.push(point.value)})}),totalDataArray}(),scaleSizes=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:helpers.calculateScaleRange(valuesArray,helpers.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);helpers.extend(this.scale,scaleSizes)},addData:function(valuesArray,label){this.scale.valuesCount++,helpers.each(valuesArray,function(value,datasetIndex){var pointPosition=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(value));this.datasets[datasetIndex].points.push(new this.PointClass({value:value,label:label,x:pointPosition.x,y:pointPosition.y,strokeColor:this.datasets[datasetIndex].pointStrokeColor,fillColor:this.datasets[datasetIndex].pointColor}))},this),this.scale.labels.push(label),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),helpers.each(this.datasets,function(dataset){dataset.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(point){point.save()}),this.reflow(),this.render()
},reflow:function(){helpers.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:helpers.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(ease){var easeDecimal=ease||1,ctx=this.chart.ctx;this.clear(),this.scale.draw(),helpers.each(this.datasets,function(dataset){helpers.each(dataset.points,function(point,index){point.hasValue()&&point.transition(this.scale.getPointPosition(index,this.scale.calculateCenterOffset(point.value)),easeDecimal)},this),ctx.lineWidth=this.options.datasetStrokeWidth,ctx.strokeStyle=dataset.strokeColor,ctx.beginPath(),helpers.each(dataset.points,function(point,index){0===index?ctx.moveTo(point.x,point.y):ctx.lineTo(point.x,point.y)},this),ctx.closePath(),ctx.stroke(),ctx.fillStyle=dataset.fillColor,ctx.fill(),helpers.each(dataset.points,function(point){point.hasValue()&&point.draw()})},this)}})}.call(this),"undefined"==typeof jQuery)throw new Error("Jasny Bootstrap's JavaScript requires jQuery");+function($){"use strict";function transitionEnd(){var el=document.createElement("bootstrap"),transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var name in transEndEventNames)if(void 0!==el.style[name])return{end:transEndEventNames[name]};return!1}void 0===$.support.transition&&($.fn.emulateTransitionEnd=function(duration){var called=!1,$el=this;$(this).one($.support.transition.end,function(){called=!0});var callback=function(){called||$($el).trigger($.support.transition.end)};return setTimeout(callback,duration),this},$(function(){$.support.transition=transitionEnd()}))}(window.jQuery),+function($){"use strict";var OffCanvas=function(element,options){this.$element=$(element),this.options=$.extend({},OffCanvas.DEFAULTS,options),this.state=null,this.placement=null,this.options.recalc&&(this.calcClone(),$(window).on("resize",$.proxy(this.recalc,this))),this.options.autohide&&$(document).on("click",$.proxy(this.autohide,this)),this.options.toggle&&this.toggle(),this.options.disablescrolling&&(this.options.disableScrolling=this.options.disablescrolling,delete this.options.disablescrolling)};OffCanvas.DEFAULTS={toggle:!0,placement:"auto",autohide:!0,recalc:!0,disableScrolling:!0},OffCanvas.prototype.offset=function(){switch(this.placement){case"left":case"right":return this.$element.outerWidth();case"top":case"bottom":return this.$element.outerHeight()}},OffCanvas.prototype.calcPlacement=function(){function ab(a,b){if("auto"===element.css(b))return a;if("auto"===element.css(a))return b;var size_a=parseInt(element.css(a),10),size_b=parseInt(element.css(b),10);return size_a>size_b?b:a}if("auto"!==this.options.placement)return void(this.placement=this.options.placement);this.$element.hasClass("in")||this.$element.css("visiblity","hidden !important").addClass("in");var horizontal=$(window).width()/this.$element.width(),vertical=$(window).height()/this.$element.height(),element=this.$element;this.placement=horizontal>=vertical?ab("left","right"):ab("top","bottom"),"hidden !important"===this.$element.css("visibility")&&this.$element.removeClass("in").css("visiblity","")},OffCanvas.prototype.opposite=function(placement){switch(placement){case"top":return"bottom";case"left":return"right";case"bottom":return"top";case"right":return"left"}},OffCanvas.prototype.getCanvasElements=function(){var canvas=this.options.canvas?$(this.options.canvas):this.$element,fixed_elements=canvas.find("*").filter(function(){return"fixed"===$(this).css("position")}).not(this.options.exclude);return canvas.add(fixed_elements)},OffCanvas.prototype.slide=function(elements,offset,callback){if(!$.support.transition){var anim={};return anim[this.placement]="+="+offset,elements.animate(anim,350,callback)}var placement=this.placement,opposite=this.opposite(placement);elements.each(function(){"auto"!==$(this).css(placement)&&$(this).css(placement,(parseInt($(this).css(placement),10)||0)+offset),"auto"!==$(this).css(opposite)&&$(this).css(opposite,(parseInt($(this).css(opposite),10)||0)-offset)}),this.$element.one($.support.transition.end,callback).emulateTransitionEnd(350)},OffCanvas.prototype.disableScrolling=function(){var bodyWidth=$("body").width(),prop="padding-"+this.opposite(this.placement);if(void 0===$("body").data("offcanvas-style")&&$("body").data("offcanvas-style",$("body").attr("style")||""),$("body").css("overflow","hidden"),$("body").width()>bodyWidth){var padding=parseInt($("body").css(prop),10)+$("body").width()-bodyWidth;setTimeout(function(){$("body").css(prop,padding)},1)}},OffCanvas.prototype.show=function(){if(!this.state){var startEvent=$.Event("show.bs.offcanvas");if(this.$element.trigger(startEvent),!startEvent.isDefaultPrevented()){this.state="slide-in",this.calcPlacement();var elements=this.getCanvasElements(),placement=this.placement,opposite=this.opposite(placement),offset=this.offset();-1!==elements.index(this.$element)&&($(this.$element).data("offcanvas-style",$(this.$element).attr("style")||""),this.$element.css(placement,-1*offset),this.$element.css(placement)),elements.addClass("canvas-sliding").each(function(){void 0===$(this).data("offcanvas-style")&&$(this).data("offcanvas-style",$(this).attr("style")||""),"static"===$(this).css("position")&&$(this).css("position","relative"),"auto"!==$(this).css(placement)&&"0px"!==$(this).css(placement)||"auto"!==$(this).css(opposite)&&"0px"!==$(this).css(opposite)||$(this).css(placement,0)}),this.options.disableScrolling&&this.disableScrolling();var complete=function(){"slide-in"==this.state&&(this.state="slid",elements.removeClass("canvas-sliding").addClass("canvas-slid"),this.$element.trigger("shown.bs.offcanvas"))};setTimeout($.proxy(function(){this.$element.addClass("in"),this.slide(elements,offset,$.proxy(complete,this))},this),1)}}},OffCanvas.prototype.hide=function(){if("slid"===this.state){var startEvent=$.Event("hide.bs.offcanvas");if(this.$element.trigger(startEvent),!startEvent.isDefaultPrevented()){this.state="slide-out";var elements=$(".canvas-slid"),offset=(this.placement,-1*this.offset()),complete=function(){"slide-out"==this.state&&(this.state=null,this.placement=null,this.$element.removeClass("in"),elements.removeClass("canvas-sliding"),elements.add(this.$element).add("body").each(function(){$(this).attr("style",$(this).data("offcanvas-style")).removeData("offcanvas-style")}),this.$element.trigger("hidden.bs.offcanvas"))};elements.removeClass("canvas-slid").addClass("canvas-sliding"),setTimeout($.proxy(function(){this.slide(elements,offset,$.proxy(complete,this))},this),1)}}},OffCanvas.prototype.toggle=function(){"slide-in"!==this.state&&"slide-out"!==this.state&&this["slid"===this.state?"hide":"show"]()},OffCanvas.prototype.calcClone=function(){this.$calcClone=this.$element.clone().html("").addClass("offcanvas-clone").removeClass("in").appendTo($("body"))},OffCanvas.prototype.recalc=function(){if("none"!==this.$calcClone.css("display")&&("slid"===this.state||"slide-in"===this.state)){this.state=null,this.placement=null;var elements=this.getCanvasElements();this.$element.removeClass("in"),elements.removeClass("canvas-slid"),elements.add(this.$element).add("body").each(function(){$(this).attr("style",$(this).data("offcanvas-style")).removeData("offcanvas-style")})}},OffCanvas.prototype.autohide=function(e){0===$(e.target).closest(this.$element).length&&this.hide()};var old=$.fn.offcanvas;$.fn.offcanvas=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.offcanvas"),options=$.extend({},OffCanvas.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("bs.offcanvas",data=new OffCanvas(this,options)),"string"==typeof option&&data[option]()})},$.fn.offcanvas.Constructor=OffCanvas,$.fn.offcanvas.noConflict=function(){return $.fn.offcanvas=old,this},$(document).on("click.bs.offcanvas.data-api","[data-toggle=offcanvas]",function(e){var href,$this=$(this),target=$this.attr("data-target")||e.preventDefault()||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,""),$canvas=$(target),data=$canvas.data("bs.offcanvas"),option=data?"toggle":$this.data();e.stopPropagation(),data?data.toggle():$canvas.offcanvas(option)})}(window.jQuery),+function($){"use strict";var Rowlink=function(element,options){this.$element=$(element),this.options=$.extend({},Rowlink.DEFAULTS,options),this.$element.on("click.bs.rowlink","td:not(.rowlink-skip)",$.proxy(this.click,this))};Rowlink.DEFAULTS={target:"a"},Rowlink.prototype.click=function(e){var target=$(e.currentTarget).closest("tr").find(this.options.target)[0];if($(e.target)[0]!==target)if(e.preventDefault(),target.click)target.click();else if(document.createEvent){var evt=document.createEvent("MouseEvents");evt.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),target.dispatchEvent(evt)}};var old=$.fn.rowlink;$.fn.rowlink=function(options){return this.each(function(){var $this=$(this),data=$this.data("bs.rowlink");data||$this.data("bs.rowlink",data=new Rowlink(this,options))})},$.fn.rowlink.Constructor=Rowlink,$.fn.rowlink.noConflict=function(){return $.fn.rowlink=old,this},$(document).on("click.bs.rowlink.data-api",'[data-link="row"]',function(e){if(0===$(e.target).closest(".rowlink-skip").length){var $this=$(this);$this.data("bs.rowlink")||($this.rowlink($this.data()),$(e.target).trigger("click.bs.rowlink"))}})}(window.jQuery),+function($){"use strict";var isIphone=void 0!==window.orientation,isAndroid=navigator.userAgent.toLowerCase().indexOf("android")>-1,isIE="Microsoft Internet Explorer"==window.navigator.appName,Inputmask=function(element,options){isAndroid||(this.$element=$(element),this.options=$.extend({},Inputmask.DEFAULTS,options),this.mask=String(this.options.mask),this.init(),this.listen(),this.checkVal())};Inputmask.DEFAULTS={mask:"",placeholder:"_",definitions:{9:"[0-9]",a:"[A-Za-z]",w:"[A-Za-z0-9]","*":"."}},Inputmask.prototype.init=function(){var defs=this.options.definitions,len=this.mask.length;this.tests=[],this.partialPosition=this.mask.length,this.firstNonMaskPos=null,$.each(this.mask.split(""),$.proxy(function(i,c){"?"==c?(len--,this.partialPosition=i):defs[c]?(this.tests.push(new RegExp(defs[c])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1)):this.tests.push(null)},this)),this.buffer=$.map(this.mask.split(""),$.proxy(function(c){return"?"!=c?defs[c]?this.options.placeholder:c:void 0},this)),this.focusText=this.$element.val(),this.$element.data("rawMaskFn",$.proxy(function(){return $.map(this.buffer,function(c,i){return this.tests[i]&&c!=this.options.placeholder?c:null}).join("")},this))},Inputmask.prototype.listen=function(){if(!this.$element.attr("readonly")){var pasteEventName=(isIE?"paste":"input")+".mask";this.$element.on("unmask.bs.inputmask",$.proxy(this.unmask,this)).on("focus.bs.inputmask",$.proxy(this.focusEvent,this)).on("blur.bs.inputmask",$.proxy(this.blurEvent,this)).on("keydown.bs.inputmask",$.proxy(this.keydownEvent,this)).on("keypress.bs.inputmask",$.proxy(this.keypressEvent,this)).on(pasteEventName,$.proxy(this.pasteEvent,this))}},Inputmask.prototype.caret=function(begin,end){if(0!==this.$element.length){if("number"==typeof begin)return end="number"==typeof end?end:begin,this.$element.each(function(){if(this.setSelectionRange)this.setSelectionRange(begin,end);else if(this.createTextRange){var range=this.createTextRange();range.collapse(!0),range.moveEnd("character",end),range.moveStart("character",begin),range.select()}});if(this.$element[0].setSelectionRange)begin=this.$element[0].selectionStart,end=this.$element[0].selectionEnd;else if(document.selection&&document.selection.createRange){var range=document.selection.createRange();begin=0-range.duplicate().moveStart("character",-1e5),end=begin+range.text.length}return{begin:begin,end:end}}},Inputmask.prototype.seekNext=function(pos){for(var len=this.mask.length;++pos<=len&&!this.tests[pos];);return pos},Inputmask.prototype.seekPrev=function(pos){for(;--pos>=0&&!this.tests[pos];);return pos},Inputmask.prototype.shiftL=function(begin,end){var len=this.mask.length;if(!(0>begin)){for(var i=begin,j=this.seekNext(end);len>i;i++)if(this.tests[i]){if(!(len>j&&this.tests[i].test(this.buffer[j])))break;this.buffer[i]=this.buffer[j],this.buffer[j]=this.options.placeholder,j=this.seekNext(j)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,begin))}},Inputmask.prototype.shiftR=function(pos){for(var len=this.mask.length,i=pos,c=this.options.placeholder;len>i;i++)if(this.tests[i]){var j=this.seekNext(i),t=this.buffer[i];if(this.buffer[i]=c,!(len>j&&this.tests[j].test(t)))break;c=t}},Inputmask.prototype.unmask=function(){this.$element.unbind(".mask").removeData("inputmask")},Inputmask.prototype.focusEvent=function(){this.focusText=this.$element.val();var len=this.mask.length,pos=this.checkVal();this.writeBuffer();var that=this,moveCaret=function(){pos==len?that.caret(0,pos):that.caret(pos)};moveCaret(),setTimeout(moveCaret,50)},Inputmask.prototype.blurEvent=function(){this.checkVal(),this.$element.val()!==this.focusText&&this.$element.trigger("change")},Inputmask.prototype.keydownEvent=function(e){var k=e.which;if(8==k||46==k||isIphone&&127==k){var pos=this.caret(),begin=pos.begin,end=pos.end;return end-begin===0&&(begin=46!=k?this.seekPrev(begin):end=this.seekNext(begin-1),end=46==k?this.seekNext(end):end),this.clearBuffer(begin,end),this.shiftL(begin,end-1),!1}return 27==k?(this.$element.val(this.focusText),this.caret(0,this.checkVal()),!1):void 0},Inputmask.prototype.keypressEvent=function(e){var len=this.mask.length,k=e.which,pos=this.caret();if(e.ctrlKey||e.altKey||e.metaKey||32>k)return!0;if(k){pos.end-pos.begin!==0&&(this.clearBuffer(pos.begin,pos.end),this.shiftL(pos.begin,pos.end-1));var p=this.seekNext(pos.begin-1);if(len>p){var c=String.fromCharCode(k);if(this.tests[p].test(c)){this.shiftR(p),this.buffer[p]=c,this.writeBuffer();var next=this.seekNext(p);this.caret(next)}}return!1}},Inputmask.prototype.pasteEvent=function(){var that=this;setTimeout(function(){that.caret(that.checkVal(!0))},0)},Inputmask.prototype.clearBuffer=function(start,end){for(var len=this.mask.length,i=start;end>i&&len>i;i++)this.tests[i]&&(this.buffer[i]=this.options.placeholder)},Inputmask.prototype.writeBuffer=function(){return this.$element.val(this.buffer.join("")).val()},Inputmask.prototype.checkVal=function(allow){for(var len=this.mask.length,test=this.$element.val(),lastMatch=-1,i=0,pos=0;len>i;i++)if(this.tests[i]){for(this.buffer[i]=this.options.placeholder;pos++<test.length;){var c=test.charAt(pos-1);if(this.tests[i].test(c)){this.buffer[i]=c,lastMatch=i;break}}if(pos>test.length)break}else this.buffer[i]==test.charAt(pos)&&i!=this.partialPosition&&(pos++,lastMatch=i);return!allow&&lastMatch+1<this.partialPosition?(this.$element.val(""),this.clearBuffer(0,len)):(allow||lastMatch+1>=this.partialPosition)&&(this.writeBuffer(),allow||this.$element.val(this.$element.val().substring(0,lastMatch+1))),this.partialPosition?i:this.firstNonMaskPos};var old=$.fn.inputmask;$.fn.inputmask=function(options){return this.each(function(){var $this=$(this),data=$this.data("bs.inputmask");data||$this.data("bs.inputmask",data=new Inputmask(this,options))})},$.fn.inputmask.Constructor=Inputmask,$.fn.inputmask.noConflict=function(){return $.fn.inputmask=old,this},$(document).on("focus.bs.inputmask.data-api","[data-mask]",function(){var $this=$(this);$this.data("bs.inputmask")||$this.inputmask($this.data())})}(window.jQuery),+function($){"use strict";var isIE="Microsoft Internet Explorer"==window.navigator.appName,Fileinput=function(element,options){if(this.$element=$(element),this.$input=this.$element.find(":file"),0!==this.$input.length){this.name=this.$input.attr("name")||options.name,this.$hidden=this.$element.find('input[type=hidden][name="'+this.name+'"]'),0===this.$hidden.length&&(this.$hidden=$('<input type="hidden">').insertBefore(this.$input)),this.$preview=this.$element.find(".fileinput-preview");var height=this.$preview.css("height");"inline"!==this.$preview.css("display")&&"0px"!==height&&"none"!==height&&this.$preview.css("line-height",height),this.original={exists:this.$element.hasClass("fileinput-exists"),preview:this.$preview.html(),hiddenVal:this.$hidden.val()},this.listen()}};Fileinput.prototype.listen=function(){this.$input.on("change.bs.fileinput",$.proxy(this.change,this)),$(this.$input[0].form).on("reset.bs.fileinput",$.proxy(this.reset,this)),this.$element.find('[data-trigger="fileinput"]').on("click.bs.fileinput",$.proxy(this.trigger,this)),this.$element.find('[data-dismiss="fileinput"]').on("click.bs.fileinput",$.proxy(this.clear,this))},Fileinput.prototype.change=function(e){var files=void 0===e.target.files?e.target&&e.target.value?[{name:e.target.value.replace(/^.+\\/,"")}]:[]:e.target.files;if(e.stopPropagation(),0===files.length)return void this.clear();this.$hidden.val(""),this.$hidden.attr("name",""),this.$input.attr("name",this.name);var file=files[0];if(this.$preview.length>0&&("undefined"!=typeof file.type?file.type.match(/^image\/(gif|png|jpeg)$/):file.name.match(/\.(gif|png|jpe?g)$/i))&&"undefined"!=typeof FileReader){var reader=new FileReader,preview=this.$preview,element=this.$element;reader.onload=function(re){var $img=$("<img>");$img[0].src=re.target.result,files[0].result=re.target.result,element.find(".fileinput-filename").text(file.name),"none"!=preview.css("max-height")&&$img.css("max-height",parseInt(preview.css("max-height"),10)-parseInt(preview.css("padding-top"),10)-parseInt(preview.css("padding-bottom"),10)-parseInt(preview.css("border-top"),10)-parseInt(preview.css("border-bottom"),10)),preview.html($img),element.addClass("fileinput-exists").removeClass("fileinput-new"),element.trigger("change.bs.fileinput",files)},reader.readAsDataURL(file)}else this.$element.find(".fileinput-filename").text(file.name),this.$preview.text(file.name),this.$element.addClass("fileinput-exists").removeClass("fileinput-new"),this.$element.trigger("change.bs.fileinput")},Fileinput.prototype.clear=function(e){if(e&&e.preventDefault(),this.$hidden.val(""),this.$hidden.attr("name",this.name),this.$input.attr("name",""),isIE){var inputClone=this.$input.clone(!0);this.$input.after(inputClone),this.$input.remove(),this.$input=inputClone}else this.$input.val("");this.$preview.html(""),this.$element.find(".fileinput-filename").text(""),this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),void 0!==e&&(this.$input.trigger("change"),this.$element.trigger("clear.bs.fileinput"))},Fileinput.prototype.reset=function(){this.clear(),this.$hidden.val(this.original.hiddenVal),this.$preview.html(this.original.preview),this.$element.find(".fileinput-filename").text(""),this.original.exists?this.$element.addClass("fileinput-exists").removeClass("fileinput-new"):this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),this.$element.trigger("reset.bs.fileinput")},Fileinput.prototype.trigger=function(e){this.$input.trigger("click"),e.preventDefault()};var old=$.fn.fileinput;$.fn.fileinput=function(options){return this.each(function(){var $this=$(this),data=$this.data("bs.fileinput");data||$this.data("bs.fileinput",data=new Fileinput(this,options)),"string"==typeof options&&data[options]()})},$.fn.fileinput.Constructor=Fileinput,$.fn.fileinput.noConflict=function(){return $.fn.fileinput=old,this},$(document).on("click.fileinput.data-api",'[data-provides="fileinput"]',function(e){var $this=$(this);if(!$this.data("bs.fileinput")){$this.fileinput($this.data());var $target=$(e.target).closest('[data-dismiss="fileinput"],[data-trigger="fileinput"]');$target.length>0&&(e.preventDefault(),$target.trigger("click.bs.fileinput"))}})}(window.jQuery),function($){"use strict";var defaults={slide:0,delay:5e3,preload:!1,preloadImage:!1,preloadVideo:!1,timer:!0,overlay:!1,autoplay:!0,shuffle:!1,cover:!0,color:null,align:"center",valign:"center",transition:"fade",transitionDuration:1e3,transitionRegister:[],animation:null,animationDuration:"auto",animationRegister:[],init:function(){},play:function(){},pause:function(){},walk:function(){},slides:[]},videoCache={},Vegas=function(elmt,options){this.elmt=elmt,this.settings=$.extend({},defaults,$.vegas.defaults,options),this.slide=this.settings.slide,this.total=this.settings.slides.length,this.noshow=this.total<2,this.paused=!this.settings.autoplay||this.noshow,this.$elmt=$(elmt),this.$timer=null,this.$overlay=null,this.$slide=null,this.timeout=null,this.transitions=["fade","fade2","blur","blur2","flash","flash2","negative","negative2","burn","burn2","slideLeft","slideLeft2","slideRight","slideRight2","slideUp","slideUp2","slideDown","slideDown2","zoomIn","zoomIn2","zoomOut","zoomOut2","swirlLeft","swirlLeft2","swirlRight","swirlRight2"],this.animations=["kenburns","kenburnsLeft","kenburnsRight","kenburnsUp","kenburnsUpLeft","kenburnsUpRight","kenburnsDown","kenburnsDownLeft","kenburnsDownRight"],this.settings.transitionRegister instanceof Array==!1&&(this.settings.transitionRegister=[this.settings.transitionRegister]),this.settings.animationRegister instanceof Array==!1&&(this.settings.animationRegister=[this.settings.animationRegister]),this.transitions=this.transitions.concat(this.settings.transitionRegister),this.animations=this.animations.concat(this.settings.animationRegister),this.support={objectFit:"objectFit"in document.body.style,transition:"transition"in document.body.style||"WebkitTransition"in document.body.style,video:$.vegas.isVideoCompatible()},this.settings.shuffle===!0&&this.shuffle(),this._init()};Vegas.prototype={_init:function(){var $wrapper,$overlay,$timer,isBody="BODY"===this.elmt.tagName,timer=this.settings.timer,overlay=this.settings.overlay,self=this;this._preload(),isBody||(this.$elmt.css("height",this.$elmt.css("height")),$wrapper=$('<div class="vegas-wrapper">').css("overflow",this.$elmt.css("overflow")).css("padding",this.$elmt.css("padding")),this.$elmt.css("padding")||$wrapper.css("padding-top",this.$elmt.css("padding-top")).css("padding-bottom",this.$elmt.css("padding-bottom")).css("padding-left",this.$elmt.css("padding-left")).css("padding-right",this.$elmt.css("padding-right")),this.$elmt.clone(!0).children().appendTo($wrapper),this.elmt.innerHTML=""),timer&&this.support.transition&&($timer=$('<div class="vegas-timer"><div class="vegas-timer-progress">'),this.$timer=$timer,this.$elmt.prepend($timer)),overlay&&($overlay=$('<div class="vegas-overlay">'),"string"==typeof overlay&&$overlay.css("background-image","url("+overlay+")"),this.$overlay=$overlay,this.$elmt.prepend($overlay)),this.$elmt.addClass("vegas-container"),isBody||this.$elmt.append($wrapper),setTimeout(function(){self.trigger("init"),self._goto(self.slide),self.settings.autoplay&&self.trigger("play")},1)},_preload:function(){var video,img,i;for(i=0;i<this.settings.slides.length;i++)(this.settings.preload||this.settings.preloadImages)&&this.settings.slides[i].src&&(img=new Image,img.src=this.settings.slides[i].src),(this.settings.preload||this.settings.preloadVideos)&&this.support.video&&this.settings.slides[i].video&&(video=this._video(this.settings.slides[i].video instanceof Array?this.settings.slides[i].video:this.settings.slides[i].video.src))},_random:function(array){return array[Math.floor(Math.random()*(array.length-1))]},_slideShow:function(){var self=this;this.total>1&&!this.paused&&!this.noshow&&(this.timeout=setTimeout(function(){self.next()},this._options("delay")))},_timer:function(state){var self=this;clearTimeout(this.timeout),this.$timer&&(this.$timer.removeClass("vegas-timer-running").find("div").css("transition-duration","0ms"),this.paused||this.noshow||state&&setTimeout(function(){self.$timer.addClass("vegas-timer-running").find("div").css("transition-duration",self._options("delay")-100+"ms")},100))},_video:function(srcs){var video,source,cacheKey=srcs.toString();return videoCache[cacheKey]?videoCache[cacheKey]:(srcs instanceof Array==!1&&(srcs=[srcs]),video=document.createElement("video"),video.preload=!0,srcs.forEach(function(src){source=document.createElement("source"),source.src=src,video.appendChild(source)}),videoCache[cacheKey]=video,video)},_fadeOutSound:function(video,duration){var self=this,delay=duration/10,volume=video.volume-.09;volume>0?(video.volume=volume,setTimeout(function(){self._fadeOutSound(video,duration)},delay)):video.pause()},_fadeInSound:function(video,duration){var self=this,delay=duration/10,volume=video.volume+.09;1>volume&&(video.volume=volume,setTimeout(function(){self._fadeInSound(video,duration)},delay))},_options:function(key,i){return void 0===i&&(i=this.slide),void 0!==this.settings.slides[i][key]?this.settings.slides[i][key]:this.settings[key]},_goto:function(nb){function go(){self._timer(!0),setTimeout(function(){transition&&(self.support.transition?($slides.css("transition","all "+transitionDuration+"ms").addClass("vegas-transition-"+transition+"-out"),$slides.each(function(){var video=$slides.find("video").get(0);video&&(video.volume=1,self._fadeOutSound(video,transitionDuration))}),$slide.css("transition","all "+transitionDuration+"ms").addClass("vegas-transition-"+transition+"-in")):$slide.fadeIn(transitionDuration));for(var i=0;i<$slides.length-4;i++)$slides.eq(i).remove();self.trigger("walk"),self._slideShow()},100)}"undefined"==typeof this.settings.slides[nb]&&(nb=0),this.slide=nb;var $slide,$inner,$video,video,img,$slides=this.$elmt.children(".vegas-slide"),src=this.settings.slides[nb].src,videoSettings=this.settings.slides[nb].video,delay=this._options("delay"),align=this._options("align"),valign=this._options("valign"),color=this._options("color")||this.$elmt.css("background-color"),cover=this._options("cover")?"cover":"contain",self=this,total=$slides.length,transition=this._options("transition"),transitionDuration=this._options("transitionDuration"),animation=this._options("animation"),animationDuration=this._options("animationDuration");("random"===transition||transition instanceof Array)&&(transition=this._random(transition instanceof Array?transition:this.transitions)),("random"===animation||animation instanceof Array)&&(animation=this._random(animation instanceof Array?animation:this.animations)),("auto"===transitionDuration||transitionDuration>delay)&&(transitionDuration=delay),"auto"===animationDuration&&(animationDuration=delay),$slide=$('<div class="vegas-slide"></div>'),this.support.transition&&transition&&$slide.addClass("vegas-transition-"+transition),this.support.video&&videoSettings?(video=this._video(videoSettings instanceof Array?videoSettings:videoSettings.src),video.loop=void 0!==videoSettings.loop?videoSettings.loop:!0,video.muted=void 0!==videoSettings.mute?videoSettings.mute:!0,video.muted===!1?(video.volume=0,this._fadeInSound(video,transitionDuration)):video.pause(),$video=$(video).addClass("vegas-video").css("background-color",color),this.support.objectFit?$video.css("object-position",align+" "+valign).css("object-fit",cover).css("width","100%").css("height","100%"):"contain"===cover&&$video.css("width","100%").css("height","100%"),$slide.append($video)):(img=new Image,$inner=$('<div class="vegas-slide-inner"></div>').css("background-image","url("+src+")").css("background-color",color).css("background-position",align+" "+valign).css("background-size",cover),this.support.transition&&animation&&$inner.addClass("vegas-animation-"+animation).css("animation-duration",animationDuration+"ms"),$slide.append($inner)),this.support.transition||$slide.css("display","none"),total?$slides.eq(total-1).after($slide):this.$elmt.prepend($slide),self._timer(!1),video?(4===video.readyState&&(video.currentTime=0),video.play(),go()):(img.src=src,img.onload=go)},shuffle:function(){for(var temp,rand,i=this.total-1;i>0;i--)rand=Math.floor(Math.random()*(i+1)),temp=this.settings.slides[i],this.settings.slides[i]=this.settings.slides[rand],this.settings.slides[rand]=temp},play:function(){this.paused&&(this.paused=!1,this.next(),this.trigger("play"))},pause:function(){this._timer(!1),this.paused=!0,this.trigger("pause")},toggle:function(){this.paused?this.play():this.pause()},playing:function(){return!this.paused&&!this.noshow},current:function(advanced){return advanced?{slide:this.slide,data:this.settings.slides[this.slide]}:this.slide},jump:function(nb){0>nb||nb>this.total-1||nb===this.slide||(this.slide=nb,this._goto(this.slide))},next:function(){this.slide++,this.slide>=this.total&&(this.slide=0),this._goto(this.slide)},previous:function(){this.slide--,this.slide<0&&(this.slide=this.total-1),this._goto(this.slide)},trigger:function(fn){var params=[];params="init"===fn?[this.settings]:[this.slide,this.settings.slides[this.slide]],this.$elmt.trigger("vegas"+fn,params),"function"==typeof this.settings[fn]&&this.settings[fn].apply(this.$elmt,params)},options:function(key,value){var oldSlides=this.settings.slides.slice();if("object"==typeof key)this.settings=$.extend({},defaults,$.vegas.defaults,key);else{if("string"!=typeof key)return this.settings;if(void 0===value)return this.settings[key];this.settings[key]=value}this.settings.slides!==oldSlides&&(this.total=this.settings.slides.length,this.noshow=this.total<2,this._preload())},destroy:function(){clearTimeout(this.timeout),this.$elmt.removeClass("vegas-container"),this.$elmt.find("> .vegas-slide").remove(),this.$elmt.find("> .vegas-wrapper").clone(!0).children().appendTo(this.$elmt),this.$elmt.find("> .vegas-wrapper").remove(),this.settings.timer&&this.$timer.remove(),this.settings.overlay&&this.$overlay.remove(),this.elmt._vegas=null}},$.fn.vegas=function(options){var returns,args=arguments,error=!1;if(void 0===options||"object"==typeof options)return this.each(function(){this._vegas||(this._vegas=new Vegas(this,options))});if("string"==typeof options){if(this.each(function(){var instance=this._vegas;if(!instance)throw new Error("No Vegas applied to this element.");"function"==typeof instance[options]&&"_"!==options[0]?returns=instance[options].apply(instance,[].slice.call(args,1)):error=!0}),error)throw new Error('No method "'+options+'" in Vegas.');return void 0!==returns?returns:this}},$.vegas={},$.vegas.defaults=defaults,$.vegas.isVideoCompatible=function(){return!/(Android|webOS|Phone|iPad|iPod|BlackBerry|Windows Phone)/i.test(navigator.userAgent)}}(window.jQuery||window.Zepto),function(window){if(window.document){var document=window.document;document.querySelectorAll||(document.querySelectorAll=function(selectors){var element,style=document.createElement("style"),elements=[];for(document.documentElement.firstChild.appendChild(style),document._qsa=[],style.styleSheet.cssText=selectors+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),style.parentNode.removeChild(style);document._qsa.length;)element=document._qsa.shift(),element.style.removeAttribute("x-qsa"),elements.push(element);return document._qsa=null,elements}),document.querySelector||(document.querySelector=function(selectors){var elements=document.querySelectorAll(selectors);return elements.length?elements[0]:null}),document.getElementsByClassName||(document.getElementsByClassName=function(classNames){return classNames=String(classNames).replace(/^|\s+/g,"."),document.querySelectorAll(classNames)}),Object.keys||(Object.keys=function(o){if(o!==Object(o))throw TypeError("Object.keys called on non-object");var p,ret=[];for(p in o)Object.prototype.hasOwnProperty.call(o,p)&&ret.push(p);return ret}),Array.prototype.forEach||(Array.prototype.forEach=function(fun){if(void 0===this||null===this)throw TypeError();var t=Object(this),len=t.length>>>0;if("function"!=typeof fun)throw TypeError();var i,thisp=arguments[1];for(i=0;len>i;i++)i in t&&fun.call(thisp,t[i],i,t)}),function(global){var B64_ALPHABET="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";global.atob=global.atob||function(input){input=String(input);
var n,position=0,output=[],buffer=0,bits=0;if(input=input.replace(/\s/g,""),input.length%4===0&&(input=input.replace(/=+$/,"")),input.length%4===1)throw Error("InvalidCharacterError");if(/[^+/0-9A-Za-z]/.test(input))throw Error("InvalidCharacterError");for(;position<input.length;)n=B64_ALPHABET.indexOf(input.charAt(position)),buffer=buffer<<6|n,bits+=6,24===bits&&(output.push(String.fromCharCode(buffer>>16&255)),output.push(String.fromCharCode(buffer>>8&255)),output.push(String.fromCharCode(255&buffer)),bits=0,buffer=0),position+=1;return 12===bits?(buffer>>=4,output.push(String.fromCharCode(255&buffer))):18===bits&&(buffer>>=2,output.push(String.fromCharCode(buffer>>8&255)),output.push(String.fromCharCode(255&buffer))),output.join("")},global.btoa=global.btoa||function(input){input=String(input);var o1,o2,o3,e1,e2,e3,e4,position=0,out=[];if(/[^\x00-\xFF]/.test(input))throw Error("InvalidCharacterError");for(;position<input.length;)o1=input.charCodeAt(position++),o2=input.charCodeAt(position++),o3=input.charCodeAt(position++),e1=o1>>2,e2=(3&o1)<<4|o2>>4,e3=(15&o2)<<2|o3>>6,e4=63&o3,position===input.length+2?(e3=64,e4=64):position===input.length+1&&(e4=64),out.push(B64_ALPHABET.charAt(e1),B64_ALPHABET.charAt(e2),B64_ALPHABET.charAt(e3),B64_ALPHABET.charAt(e4));return out.join("")}}(window),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(prop){var proto=this.__proto__||this.constructor.prototype;return prop in this&&(!(prop in proto)||proto[prop]!==this[prop])}),function(){if("performance"in window==!1&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==!1){var nowOffset=Date.now();performance.timing&&performance.timing.navigationStart&&(nowOffset=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-nowOffset}}}(),window.requestAnimationFrame||(window.webkitRequestAnimationFrame?!function(global){global.requestAnimationFrame=function(callback){return webkitRequestAnimationFrame(function(){callback(global.performance.now())})},global.cancelAnimationFrame=webkitCancelAnimationFrame}(window):window.mozRequestAnimationFrame?!function(global){global.requestAnimationFrame=function(callback){return mozRequestAnimationFrame(function(){callback(global.performance.now())})},global.cancelAnimationFrame=mozCancelAnimationFrame}(window):!function(global){global.requestAnimationFrame=function(callback){return global.setTimeout(callback,1e3/60)},global.cancelAnimationFrame=global.clearTimeout}(window))}}(this),function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):"object"==typeof exports?exports.Holder=factory():root.Holder=factory()}(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)},function(module,exports,__webpack_require__){(function(global){function prepareImageElement(options,engineSettings,src,el){var holderFlags=parseURL(src.substr(src.lastIndexOf(options.domain)),options);holderFlags&&prepareDOMElement({mode:null,el:el,flags:holderFlags,engineSettings:engineSettings})}function parseURL(url,instanceOptions){var holder={theme:extend(App.settings.themes.gray,null),stylesheets:instanceOptions.stylesheets,instanceOptions:instanceOptions},parts=url.split("?"),basics=parts[0].split("/");holder.holderURL=url;var dimensions=basics[1],dimensionData=dimensions.match(/([\d]+p?)x([\d]+p?)/);if(!dimensionData)return!1;if(holder.fluid=-1!==dimensions.indexOf("p"),holder.dimensions={width:dimensionData[1].replace("p","%"),height:dimensionData[2].replace("p","%")},2===parts.length){var options=querystring.parse(parts[1]);if(options.bg&&(holder.theme.background=utils.parseColor(options.bg)),options.fg&&(holder.theme.foreground=utils.parseColor(options.fg)),options.bg&&!options.fg&&(holder.autoFg=!0),options.theme&&holder.instanceOptions.themes.hasOwnProperty(options.theme)&&(holder.theme=extend(holder.instanceOptions.themes[options.theme],null)),options.text&&(holder.text=options.text),options.textmode&&(holder.textmode=options.textmode),options.size&&(holder.size=options.size),options.font&&(holder.font=options.font),options.align&&(holder.align=options.align),holder.nowrap=utils.truthy(options.nowrap),holder.auto=utils.truthy(options.auto),holder.outline=utils.truthy(options.outline),utils.truthy(options.random)){App.vars.cache.themeKeys=App.vars.cache.themeKeys||Object.keys(holder.instanceOptions.themes);var _theme=App.vars.cache.themeKeys[0|Math.random()*App.vars.cache.themeKeys.length];holder.theme=extend(holder.instanceOptions.themes[_theme],null)}}return holder}function prepareDOMElement(prepSettings){var mode=prepSettings.mode,el=prepSettings.el,flags=prepSettings.flags,_engineSettings=prepSettings.engineSettings,dimensions=flags.dimensions,theme=flags.theme,dimensionsCaption=dimensions.width+"x"+dimensions.height;if(mode=null==mode?flags.fluid?"fluid":"image":mode,null!=flags.text&&(theme.text=flags.text,"object"===el.nodeName.toLowerCase())){for(var textLines=theme.text.split("\\n"),k=0;k<textLines.length;k++)textLines[k]=utils.encodeHtmlEntity(textLines[k]);theme.text=textLines.join("\\n")}var holderURL=flags.holderURL,engineSettings=extend(_engineSettings,null);if(flags.font&&(theme.font=flags.font,!engineSettings.noFontFallback&&"img"===el.nodeName.toLowerCase()&&App.setup.supportsCanvas&&"svg"===engineSettings.renderer&&(engineSettings=extend(engineSettings,{renderer:"canvas"}))),flags.font&&"canvas"==engineSettings.renderer&&(engineSettings.reRender=!0),"background"==mode)null==el.getAttribute("data-background-src")&&DOM.setAttr(el,{"data-background-src":holderURL});else{var domProps={};domProps[App.vars.dataAttr]=holderURL,DOM.setAttr(el,domProps)}flags.theme=theme,el.holderData={flags:flags,engineSettings:engineSettings},("image"==mode||"fluid"==mode)&&DOM.setAttr(el,{alt:theme.text?theme.text+" ["+dimensionsCaption+"]":dimensionsCaption});var renderSettings={mode:mode,el:el,holderSettings:{dimensions:dimensions,theme:theme,flags:flags},engineSettings:engineSettings};"image"==mode?(flags.auto||(el.style.width=dimensions.width+"px",el.style.height=dimensions.height+"px"),"html"==engineSettings.renderer?el.style.backgroundColor=theme.background:(render(renderSettings),"exact"==flags.textmode&&(el.holderData.resizeUpdate=!0,App.vars.resizableImages.push(el),updateResizableElements(el)))):"background"==mode&&"html"!=engineSettings.renderer?render(renderSettings):"fluid"==mode&&(el.holderData.resizeUpdate=!0,"%"==dimensions.height.slice(-1)?el.style.height=dimensions.height:null!=flags.auto&&flags.auto||(el.style.height=dimensions.height+"px"),"%"==dimensions.width.slice(-1)?el.style.width=dimensions.width:null!=flags.auto&&flags.auto||(el.style.width=dimensions.width+"px"),("inline"==el.style.display||""===el.style.display||"none"==el.style.display)&&(el.style.display="block"),setInitialDimensions(el),"html"==engineSettings.renderer?el.style.backgroundColor=theme.background:(App.vars.resizableImages.push(el),updateResizableElements(el)))}function render(renderSettings){function getRenderedImage(){var image=null;switch(engineSettings.renderer){case"canvas":image=sgCanvasRenderer(sceneGraph,renderSettings);break;case"svg":image=svgRenderer(sceneGraph,renderSettings);break;default:throw"Holder: invalid renderer: "+engineSettings.renderer}return image}var image=null,mode=renderSettings.mode,el=renderSettings.el,holderSettings=renderSettings.holderSettings,engineSettings=renderSettings.engineSettings;switch(engineSettings.renderer){case"svg":if(!App.setup.supportsSVG)return;break;case"canvas":if(!App.setup.supportsCanvas)return;break;default:return}var scene={width:holderSettings.dimensions.width,height:holderSettings.dimensions.height,theme:holderSettings.theme,flags:holderSettings.flags},sceneGraph=buildSceneGraph(scene);if(image=getRenderedImage(),null==image)throw"Holder: couldn't render placeholder";"background"==mode?(el.style.backgroundImage="url("+image+")",el.style.backgroundSize=scene.width+"px "+scene.height+"px"):("img"===el.nodeName.toLowerCase()?DOM.setAttr(el,{src:image}):"object"===el.nodeName.toLowerCase()&&(DOM.setAttr(el,{data:image}),DOM.setAttr(el,{type:"image/svg+xml"})),engineSettings.reRender&&global.setTimeout(function(){var image=getRenderedImage();if(null==image)throw"Holder: couldn't render placeholder";"img"===el.nodeName.toLowerCase()?DOM.setAttr(el,{src:image}):"object"===el.nodeName.toLowerCase()&&(DOM.setAttr(el,{data:image}),DOM.setAttr(el,{type:"image/svg+xml"}))},150)),DOM.setAttr(el,{"data-holder-rendered":!0})}function buildSceneGraph(scene){function finalizeLine(parent,line,width,height){line.width=width,line.height=height,parent.width=Math.max(parent.width,line.width),parent.height+=line.height}var fontSize=App.defaults.size;switch(parseFloat(scene.theme.size)?fontSize=scene.theme.size:parseFloat(scene.flags.size)&&(fontSize=scene.flags.size),scene.font={family:scene.theme.font?scene.theme.font:"Arial, Helvetica, Open Sans, sans-serif",size:textSize(scene.width,scene.height,fontSize,App.defaults.scale),units:scene.theme.units?scene.theme.units:App.defaults.units,weight:scene.theme.fontweight?scene.theme.fontweight:"bold"},scene.text=scene.theme.text||Math.floor(scene.width)+"x"+Math.floor(scene.height),scene.noWrap=scene.theme.nowrap||scene.flags.nowrap,scene.align=scene.theme.align||scene.flags.align||"center",scene.flags.textmode){case"literal":scene.text=scene.flags.dimensions.width+"x"+scene.flags.dimensions.height;break;case"exact":if(!scene.flags.exactDimensions)break;scene.text=Math.floor(scene.flags.exactDimensions.width)+"x"+Math.floor(scene.flags.exactDimensions.height)}var sceneGraph=new SceneGraph({width:scene.width,height:scene.height}),Shape=sceneGraph.Shape,holderBg=new Shape.Rect("holderBg",{fill:scene.theme.background});if(holderBg.resize(scene.width,scene.height),sceneGraph.root.add(holderBg),scene.flags.outline){var outlineColor=new Color(holderBg.properties.fill);outlineColor=outlineColor.lighten(outlineColor.lighterThan("7f7f7f")?-.1:.1),holderBg.properties.outline={fill:outlineColor.toHex(!0),width:2}}var holderTextColor=scene.theme.foreground;if(scene.flags.autoFg){var holderBgColor=new Color(holderBg.properties.fill),lightColor=new Color("fff"),darkColor=new Color("000",{alpha:.285714});holderTextColor=holderBgColor.blendAlpha(holderBgColor.lighterThan("7f7f7f")?darkColor:lightColor).toHex(!0)}var holderTextGroup=new Shape.Group("holderTextGroup",{text:scene.text,align:scene.align,font:scene.font,fill:holderTextColor});holderTextGroup.moveTo(null,null,1),sceneGraph.root.add(holderTextGroup);var tpdata=holderTextGroup.textPositionData=stagingRenderer(sceneGraph);if(!tpdata)throw"Holder: staging fallback not supported yet.";holderTextGroup.properties.leading=tpdata.boundingBox.height;var textNode=null,line=null,sceneMargin=scene.width*App.vars.lineWrapRatio,maxLineWidth=sceneMargin;if(tpdata.lineCount>1){var lineKey,offsetX=0,offsetY=0,lineIndex=0;line=new Shape.Group("line"+lineIndex),("left"===scene.align||"right"===scene.align)&&(maxLineWidth=scene.width*(1-2*(1-App.vars.lineWrapRatio)));for(var i=0;i<tpdata.words.length;i++){var word=tpdata.words[i];textNode=new Shape.Text(word.text);var newline="\\n"==word.text;!scene.noWrap&&(offsetX+word.width>=maxLineWidth||newline===!0)&&(finalizeLine(holderTextGroup,line,offsetX,holderTextGroup.properties.leading),holderTextGroup.add(line),offsetX=0,offsetY+=holderTextGroup.properties.leading,lineIndex+=1,line=new Shape.Group("line"+lineIndex),line.y=offsetY),newline!==!0&&(textNode.moveTo(offsetX,0),offsetX+=tpdata.spaceWidth+word.width,line.add(textNode))}if(finalizeLine(holderTextGroup,line,offsetX,holderTextGroup.properties.leading),holderTextGroup.add(line),"left"===scene.align)holderTextGroup.moveTo(scene.width-sceneMargin,null,null);else if("right"===scene.align){for(lineKey in holderTextGroup.children)line=holderTextGroup.children[lineKey],line.moveTo(scene.width-line.width,null,null);holderTextGroup.moveTo(0-(scene.width-sceneMargin),null,null)}else{for(lineKey in holderTextGroup.children)line=holderTextGroup.children[lineKey],line.moveTo((holderTextGroup.width-line.width)/2,null,null);holderTextGroup.moveTo((scene.width-holderTextGroup.width)/2,null,null)}holderTextGroup.moveTo(null,(scene.height-holderTextGroup.height)/2,null),(scene.height-holderTextGroup.height)/2<0&&holderTextGroup.moveTo(null,0,null)}else textNode=new Shape.Text(scene.text),line=new Shape.Group("line0"),line.add(textNode),holderTextGroup.add(line),"left"===scene.align?holderTextGroup.moveTo(scene.width-sceneMargin,null,null):"right"===scene.align?holderTextGroup.moveTo(0-(scene.width-sceneMargin),null,null):holderTextGroup.moveTo((scene.width-tpdata.boundingBox.width)/2,null,null),holderTextGroup.moveTo(null,(scene.height-tpdata.boundingBox.height)/2,null);return sceneGraph}function textSize(width,height,fontSize,scale){var stageWidth=parseInt(width,10),stageHeight=parseInt(height,10),bigSide=Math.max(stageWidth,stageHeight),smallSide=Math.min(stageWidth,stageHeight),newHeight=.8*Math.min(smallSide,bigSide*scale);return Math.round(Math.max(fontSize,newHeight))}function updateResizableElements(element){var images;images=null==element||null==element.nodeType?App.vars.resizableImages:[element];for(var i=0,l=images.length;l>i;i++){var el=images[i];if(el.holderData){var flags=el.holderData.flags,dimensions=dimensionCheck(el);if(dimensions){if(!el.holderData.resizeUpdate)continue;if(flags.fluid&&flags.auto){var fluidConfig=el.holderData.fluidConfig;switch(fluidConfig.mode){case"width":dimensions.height=dimensions.width/fluidConfig.ratio;break;case"height":dimensions.width=dimensions.height*fluidConfig.ratio}}var settings={mode:"image",holderSettings:{dimensions:dimensions,theme:flags.theme,flags:flags},el:el,engineSettings:el.holderData.engineSettings};"exact"==flags.textmode&&(flags.exactDimensions=dimensions,settings.holderSettings.dimensions=flags.dimensions),render(settings)}else setInvisible(el)}}}function setInitialDimensions(el){if(el.holderData){var dimensions=dimensionCheck(el);if(dimensions){var flags=el.holderData.flags,fluidConfig={fluidHeight:"%"==flags.dimensions.height.slice(-1),fluidWidth:"%"==flags.dimensions.width.slice(-1),mode:null,initialDimensions:dimensions};fluidConfig.fluidWidth&&!fluidConfig.fluidHeight?(fluidConfig.mode="width",fluidConfig.ratio=fluidConfig.initialDimensions.width/parseFloat(flags.dimensions.height)):!fluidConfig.fluidWidth&&fluidConfig.fluidHeight&&(fluidConfig.mode="height",fluidConfig.ratio=parseFloat(flags.dimensions.width)/fluidConfig.initialDimensions.height),el.holderData.fluidConfig=fluidConfig}else setInvisible(el)}}function visibilityCheck(){var el,renderableImages=[],keys=Object.keys(App.vars.invisibleImages);keys.forEach(function(key){el=App.vars.invisibleImages[key],dimensionCheck(el)&&"img"==el.nodeName.toLowerCase()&&(renderableImages.push(el),delete App.vars.invisibleImages[key])}),renderableImages.length&&Holder.run({images:renderableImages}),setTimeout(function(){global.requestAnimationFrame(visibilityCheck)},10)}function startVisibilityCheck(){App.vars.visibilityCheckStarted||(global.requestAnimationFrame(visibilityCheck),App.vars.visibilityCheckStarted=!0)}function setInvisible(el){el.holderData.invisibleId||(App.vars.invisibleId+=1,App.vars.invisibleImages["i"+App.vars.invisibleId]=el,el.holderData.invisibleId=App.vars.invisibleId)}function debounce(fn){App.vars.debounceTimer||fn.call(this),App.vars.debounceTimer&&global.clearTimeout(App.vars.debounceTimer),App.vars.debounceTimer=global.setTimeout(function(){App.vars.debounceTimer=null,fn.call(this)},App.setup.debounce)}function resizeEvent(){debounce(function(){updateResizableElements(null)})}var onDomReady=__webpack_require__(2),querystring=__webpack_require__(3),SceneGraph=__webpack_require__(4),utils=__webpack_require__(5),SVG=__webpack_require__(6),DOM=__webpack_require__(7),Color=__webpack_require__(8),constants=__webpack_require__(9),svgRenderer=__webpack_require__(10),extend=utils.extend,dimensionCheck=utils.dimensionCheck,SVG_NS=constants.svg_ns,Holder={version:constants.version,addTheme:function(name,theme){return null!=name&&null!=theme&&(App.settings.themes[name]=theme),delete App.vars.cache.themeKeys,this},addImage:function(src,el){var nodes=DOM.getNodeArray(el);return nodes.forEach(function(node){var img=DOM.newEl("img"),domProps={};domProps[App.setup.dataAttr]=src,DOM.setAttr(img,domProps),node.appendChild(img)}),this},setResizeUpdate:function(el,value){el.holderData&&(el.holderData.resizeUpdate=!!value,el.holderData.resizeUpdate&&updateResizableElements(el))},run:function(userOptions){userOptions=userOptions||{};var engineSettings={},options=extend(App.settings,userOptions);App.vars.preempted=!0,App.vars.dataAttr=options.dataAttr||App.setup.dataAttr,App.vars.lineWrapRatio=options.lineWrapRatio||App.setup.lineWrapRatio,engineSettings.renderer=options.renderer?options.renderer:App.setup.renderer,-1===App.setup.renderers.join(",").indexOf(engineSettings.renderer)&&(engineSettings.renderer=App.setup.supportsSVG?"svg":App.setup.supportsCanvas?"canvas":"html");var images=DOM.getNodeArray(options.images),bgnodes=DOM.getNodeArray(options.bgnodes),stylenodes=DOM.getNodeArray(options.stylenodes),objects=DOM.getNodeArray(options.objects);return engineSettings.stylesheets=[],engineSettings.svgXMLStylesheet=!0,engineSettings.noFontFallback=options.noFontFallback?options.noFontFallback:!1,stylenodes.forEach(function(styleNode){if(styleNode.attributes.rel&&styleNode.attributes.href&&"stylesheet"==styleNode.attributes.rel.value){var href=styleNode.attributes.href.value,proxyLink=DOM.newEl("a");proxyLink.href=href;var stylesheetURL=proxyLink.protocol+"//"+proxyLink.host+proxyLink.pathname+proxyLink.search;engineSettings.stylesheets.push(stylesheetURL)}}),bgnodes.forEach(function(bgNode){if(global.getComputedStyle){var backgroundImage=global.getComputedStyle(bgNode,null).getPropertyValue("background-image"),dataBackgroundImage=bgNode.getAttribute("data-background-src"),rawURL=dataBackgroundImage||backgroundImage,holderURL=null,holderString=options.domain+"/",holderStringIndex=rawURL.indexOf(holderString);if(0===holderStringIndex)holderURL=rawURL;else if(1===holderStringIndex&&"?"===rawURL[0])holderURL=rawURL.slice(1);else{var fragment=rawURL.substr(holderStringIndex).match(/([^\"]*)"?\)/);if(null!==fragment)holderURL=fragment[1];else if(0===rawURL.indexOf("url("))throw"Holder: unable to parse background URL: "+rawURL}if(null!=holderURL){var holderFlags=parseURL(holderURL,options);holderFlags&&prepareDOMElement({mode:"background",el:bgNode,flags:holderFlags,engineSettings:engineSettings})}}}),objects.forEach(function(object){var objectAttr={};try{objectAttr.data=object.getAttribute("data"),objectAttr.dataSrc=object.getAttribute(App.vars.dataAttr)}catch(e){}var objectHasSrcURL=null!=objectAttr.data&&0===objectAttr.data.indexOf(options.domain),objectHasDataSrcURL=null!=objectAttr.dataSrc&&0===objectAttr.dataSrc.indexOf(options.domain);objectHasSrcURL?prepareImageElement(options,engineSettings,objectAttr.data,object):objectHasDataSrcURL&&prepareImageElement(options,engineSettings,objectAttr.dataSrc,object)}),images.forEach(function(image){var imageAttr={};try{imageAttr.src=image.getAttribute("src"),imageAttr.dataSrc=image.getAttribute(App.vars.dataAttr),imageAttr.rendered=image.getAttribute("data-holder-rendered")}catch(e){}var imageHasSrc=null!=imageAttr.src,imageHasDataSrcURL=null!=imageAttr.dataSrc&&0===imageAttr.dataSrc.indexOf(options.domain),imageRendered=null!=imageAttr.rendered&&"true"==imageAttr.rendered;imageHasSrc?0===imageAttr.src.indexOf(options.domain)?prepareImageElement(options,engineSettings,imageAttr.src,image):imageHasDataSrcURL&&(imageRendered?prepareImageElement(options,engineSettings,imageAttr.dataSrc,image):!function(src,options,engineSettings,dataSrc,image){utils.imageExists(src,function(exists){exists||prepareImageElement(options,engineSettings,dataSrc,image)})}(imageAttr.src,options,engineSettings,imageAttr.dataSrc,image)):imageHasDataSrcURL&&prepareImageElement(options,engineSettings,imageAttr.dataSrc,image)}),this}},App={settings:{domain:"holder.js",images:"img",objects:"object",bgnodes:"body .holderjs",stylenodes:"head link.holderjs",themes:{gray:{background:"#EEEEEE",foreground:"#AAAAAA"},social:{background:"#3a5a97",foreground:"#FFFFFF"},industrial:{background:"#434A52",foreground:"#C2F200"},sky:{background:"#0D8FDB",foreground:"#FFFFFF"},vine:{background:"#39DBAC",foreground:"#1E292C"},lava:{background:"#F8591A",foreground:"#1C2846"}}},defaults:{size:10,units:"pt",scale:1/16}},stagingRenderer=function(){var svg=null,stagingText=null,stagingTextNode=null;return function(graph){var rootNode=graph.root;if(App.setup.supportsSVG){var firstTimeSetup=!1,tnode=function(text){return document.createTextNode(text)};(null==svg||svg.parentNode!==document.body)&&(firstTimeSetup=!0),svg=SVG.initSVG(svg,rootNode.properties.width,rootNode.properties.height),svg.style.display="block",firstTimeSetup&&(stagingText=DOM.newEl("text",SVG_NS),stagingTextNode=tnode(null),DOM.setAttr(stagingText,{x:0}),stagingText.appendChild(stagingTextNode),svg.appendChild(stagingText),document.body.appendChild(svg),svg.style.visibility="hidden",svg.style.position="absolute",svg.style.top="-100%",svg.style.left="-100%");var holderTextGroup=rootNode.children.holderTextGroup,htgProps=holderTextGroup.properties;DOM.setAttr(stagingText,{y:htgProps.font.size,style:utils.cssProps({"font-weight":htgProps.font.weight,"font-size":htgProps.font.size+htgProps.font.units,"font-family":htgProps.font.family})}),stagingTextNode.nodeValue=htgProps.text;var stagingTextBBox=stagingText.getBBox(),lineCount=Math.ceil(stagingTextBBox.width/(rootNode.properties.width*App.vars.lineWrapRatio)),words=htgProps.text.split(" "),newlines=htgProps.text.match(/\\n/g);lineCount+=null==newlines?0:newlines.length,stagingTextNode.nodeValue=htgProps.text.replace(/[ ]+/g,"");var computedNoSpaceLength=stagingText.getComputedTextLength(),diffLength=stagingTextBBox.width-computedNoSpaceLength,spaceWidth=Math.round(diffLength/Math.max(1,words.length-1)),wordWidths=[];if(lineCount>1){stagingTextNode.nodeValue="";for(var i=0;i<words.length;i++)if(0!==words[i].length){stagingTextNode.nodeValue=utils.decodeHtmlEntity(words[i]);var bbox=stagingText.getBBox();wordWidths.push({text:words[i],width:bbox.width})}}return svg.style.display="none",{spaceWidth:spaceWidth,lineCount:lineCount,boundingBox:stagingTextBBox,words:wordWidths}}return!1}}(),sgCanvasRenderer=function(){var canvas=DOM.newEl("canvas"),ctx=null;return function(sceneGraph){null==ctx&&(ctx=canvas.getContext("2d"));var root=sceneGraph.root;canvas.width=App.dpr(root.properties.width),canvas.height=App.dpr(root.properties.height),ctx.textBaseline="middle";var bg=root.children.holderBg,bgWidth=App.dpr(bg.width),bgHeight=App.dpr(bg.height),outlineWidth=2,outlineOffsetWidth=outlineWidth/2;ctx.fillStyle=bg.properties.fill,ctx.fillRect(0,0,bgWidth,bgHeight),bg.properties.outline&&(ctx.strokeStyle=bg.properties.outline.fill,ctx.lineWidth=bg.properties.outline.width,ctx.moveTo(outlineOffsetWidth,outlineOffsetWidth),ctx.lineTo(bgWidth-outlineOffsetWidth,outlineOffsetWidth),ctx.lineTo(bgWidth-outlineOffsetWidth,bgHeight-outlineOffsetWidth),ctx.lineTo(outlineOffsetWidth,bgHeight-outlineOffsetWidth),ctx.lineTo(outlineOffsetWidth,outlineOffsetWidth),ctx.moveTo(0,outlineOffsetWidth),ctx.lineTo(bgWidth,bgHeight-outlineOffsetWidth),ctx.moveTo(0,bgHeight-outlineOffsetWidth),ctx.lineTo(bgWidth,outlineOffsetWidth),ctx.stroke());var textGroup=root.children.holderTextGroup;ctx.font=textGroup.properties.font.weight+" "+App.dpr(textGroup.properties.font.size)+textGroup.properties.font.units+" "+textGroup.properties.font.family+", monospace",ctx.fillStyle=textGroup.properties.fill;for(var lineKey in textGroup.children){var line=textGroup.children[lineKey];for(var wordKey in line.children){var word=line.children[wordKey],x=App.dpr(textGroup.x+line.x+word.x),y=App.dpr(textGroup.y+line.y+word.y+textGroup.properties.leading/2);ctx.fillText(word.properties.text,x,y)}}return canvas.toDataURL("image/png")}}();for(var flag in App.flags)App.flags.hasOwnProperty(flag)&&(App.flags[flag].match=function(val){return val.match(this.regex)});App.setup={renderer:"html",debounce:100,ratio:1,supportsCanvas:!1,supportsSVG:!1,lineWrapRatio:.9,dataAttr:"data-src",renderers:["html","canvas","svg"]},App.dpr=function(val){return val*App.setup.ratio},App.vars={preempted:!1,resizableImages:[],invisibleImages:{},invisibleId:0,visibilityCheckStarted:!1,debounceTimer:null,cache:{}},function(){var devicePixelRatio=1,backingStoreRatio=1,canvas=DOM.newEl("canvas"),ctx=null;canvas.getContext&&-1!=canvas.toDataURL("image/png").indexOf("data:image/png")&&(App.setup.renderer="canvas",ctx=canvas.getContext("2d"),App.setup.supportsCanvas=!0),App.setup.supportsCanvas&&(devicePixelRatio=global.devicePixelRatio||1,backingStoreRatio=ctx.webkitBackingStorePixelRatio||ctx.mozBackingStorePixelRatio||ctx.msBackingStorePixelRatio||ctx.oBackingStorePixelRatio||ctx.backingStorePixelRatio||1),App.setup.ratio=devicePixelRatio/backingStoreRatio,document.createElementNS&&document.createElementNS(SVG_NS,"svg").createSVGRect&&(App.setup.renderer="svg",App.setup.supportsSVG=!0)}(),startVisibilityCheck(),onDomReady&&onDomReady(function(){App.vars.preempted||Holder.run(),global.addEventListener?(global.addEventListener("resize",resizeEvent,!1),global.addEventListener("orientationchange",resizeEvent,!1)):global.attachEvent("onresize",resizeEvent),"object"==typeof global.Turbolinks&&global.document.addEventListener("page:change",function(){Holder.run()})}),module.exports=Holder}).call(exports,function(){return this}())},function(module){function _onDomReady(win){function ready(fn){if(!isReady){if(!doc.body)return defer(ready);for(isReady=!0;fn=callbacks.shift();)defer(fn)}}function completed(event){(w3c||event.type===LOAD||doc[READYSTATE]===COMPLETE)&&(detach(),ready())}function detach(){w3c?(doc[REMOVEEVENTLISTENER](DOMCONTENTLOADED,completed,FALSE),win[REMOVEEVENTLISTENER](LOAD,completed,FALSE)):(doc[DETACHEVENT](ONREADYSTATECHANGE,completed),win[DETACHEVENT](ONLOAD,completed))}function defer(fn,wait){setTimeout(fn,+wait>=0?wait:1)}function onDomReady(fn){isReady?defer(fn):callbacks.push(fn)}null==document.readyState&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",function DOMContentLoaded(){document.removeEventListener("DOMContentLoaded",DOMContentLoaded,!1),document.readyState="complete"},!1),document.readyState="loading");var doc=win.document,docElem=doc.documentElement,LOAD="load",FALSE=!1,ONLOAD="on"+LOAD,COMPLETE="complete",READYSTATE="readyState",ATTACHEVENT="attachEvent",DETACHEVENT="detachEvent",ADDEVENTLISTENER="addEventListener",DOMCONTENTLOADED="DOMContentLoaded",ONREADYSTATECHANGE="onreadystatechange",REMOVEEVENTLISTENER="removeEventListener",w3c=ADDEVENTLISTENER in doc,_top=FALSE,isReady=FALSE,callbacks=[];if(doc[READYSTATE]===COMPLETE)defer(ready);else if(w3c)doc[ADDEVENTLISTENER](DOMCONTENTLOADED,completed,FALSE),win[ADDEVENTLISTENER](LOAD,completed,FALSE);else{doc[ATTACHEVENT](ONREADYSTATECHANGE,completed),win[ATTACHEVENT](ONLOAD,completed);try{_top=null==win.frameElement&&docElem}catch(e){}_top&&_top.doScroll&&!function doScrollCheck(){if(!isReady){try{_top.doScroll("left")}catch(e){return defer(doScrollCheck,50)}detach(),ready()}}()}return onDomReady.version="1.4.0",onDomReady.isReady=function(){return isReady},onDomReady}module.exports="undefined"!=typeof window&&_onDomReady(window)},function(module,exports,__webpack_require__){var encode=encodeURIComponent,decode=decodeURIComponent,trim=__webpack_require__(11),type=__webpack_require__(12),arrayRegex=/(\w+)\[(\d+)\]/,objectRegex=/\w+\.\w+/;exports.parse=function(str){if("string"!=typeof str)return{};if(str=trim(str),""===str)return{};"?"===str.charAt(0)&&(str=str.slice(1));for(var obj={},pairs=str.split("&"),i=0;i<pairs.length;i++){var m,ctx,prop,parts=pairs[i].split("="),key=decode(parts[0]);if(m=arrayRegex.exec(key))obj[m[1]]=obj[m[1]]||[],obj[m[1]][m[2]]=decode(parts[1]);else if(m=objectRegex.test(key)){for(m=key.split("."),ctx=obj;m.length;)if(prop=m.shift(),prop.length){if(ctx[prop]){if(ctx[prop]&&"object"!=typeof ctx[prop])break}else ctx[prop]={};m.length||(ctx[prop]=decode(parts[1])),ctx=ctx[prop]}}else obj[parts[0]]=null==parts[1]?"":decode(parts[1])}return obj},exports.stringify=function(obj){if(!obj)return"";var pairs=[];for(var key in obj){var value=obj[key];if("array"!=type(value))pairs.push(encode(key)+"="+encode(obj[key]));else for(var i=0;i<value.length;++i)pairs.push(encode(key+"["+i+"]")+"="+encode(value[i]))}return pairs.join("&")}},function(module){var SceneGraph=function(sceneProperties){function merge(parent,child){for(var prop in child)parent[prop]=child[prop];return parent}var nodeCount=1,SceneNode=function(name){nodeCount++,this.parent=null,this.children={},this.id=nodeCount,this.name="n"+nodeCount,"undefined"!=typeof name&&(this.name=name),this.x=this.y=this.z=0,this.width=this.height=0};SceneNode.prototype.resize=function(width,height){null!=width&&(this.width=width),null!=height&&(this.height=height)},SceneNode.prototype.moveTo=function(x,y,z){this.x=null!=x?x:this.x,this.y=null!=y?y:this.y,this.z=null!=z?z:this.z},SceneNode.prototype.add=function(child){var name=child.name;if("undefined"!=typeof this.children[name])throw"SceneGraph: child already exists: "+name;this.children[name]=child,child.parent=this};var RootNode=function(){SceneNode.call(this,"root"),this.properties=sceneProperties};RootNode.prototype=new SceneNode;var Shape=function(name,props){if(SceneNode.call(this,name),this.properties={fill:"#000000"},"undefined"!=typeof props)merge(this.properties,props);else if("undefined"!=typeof name&&"string"!=typeof name)throw"SceneGraph: invalid node name"};Shape.prototype=new SceneNode;var Group=function(){Shape.apply(this,arguments),this.type="group"};Group.prototype=new Shape;var Rect=function(){Shape.apply(this,arguments),this.type="rect"};Rect.prototype=new Shape;var Text=function(text){Shape.call(this),this.type="text",this.properties.text=text};Text.prototype=new Shape;var root=new RootNode;return this.Shape={Rect:Rect,Text:Text,Group:Group},this.root=root,this};module.exports=SceneGraph},function(module,exports){exports.extend=function(a,b){var c={};for(var x in a)a.hasOwnProperty(x)&&(c[x]=a[x]);if(null!=b)for(var y in b)b.hasOwnProperty(y)&&(c[y]=b[y]);return c},exports.cssProps=function(props){var ret=[];for(var p in props)props.hasOwnProperty(p)&&ret.push(p+":"+props[p]);return ret.join(";")},exports.encodeHtmlEntity=function(str){for(var buf=[],charCode=0,i=str.length-1;i>=0;i--)charCode=str.charCodeAt(i),buf.unshift(charCode>128?["&#",charCode,";"].join(""):str[i]);return buf.join("")},exports.imageExists=function(src,callback){var image=new Image;image.onerror=function(){callback.call(this,!1)},image.onload=function(){callback.call(this,!0)},image.src=src},exports.decodeHtmlEntity=function(str){return str.replace(/&#(\d+);/g,function(match,dec){return String.fromCharCode(dec)})},exports.dimensionCheck=function(el){var dimensions={height:el.clientHeight,width:el.clientWidth};return dimensions.height&&dimensions.width?dimensions:!1},exports.truthy=function(val){return"string"==typeof val?"true"===val||"yes"===val||"1"===val||"on"===val||"✓"===val:!!val
},exports.parseColor=function(val){var retval,hexre=/(^(?:#?)[0-9a-f]{6}$)|(^(?:#?)[0-9a-f]{3}$)/i,rgbre=/^rgb\((\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/,rgbare=/^rgba\((\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(0\.\d{1,}|1)\)$/,match=val.match(hexre);return null!==match?(retval=match[1]||match[2],"#"!==retval[0]?"#"+retval:retval):(match=val.match(rgbre),null!==match?retval="rgb("+match.slice(1).join(",")+")":(match=val.match(rgbare),null!==match?retval="rgba("+match.slice(1).join(",")+")":null))}},function(module,exports,__webpack_require__){(function(global){var DOM=__webpack_require__(7),SVG_NS="http://www.w3.org/2000/svg",NODE_TYPE_COMMENT=8;exports.initSVG=function(svg,width,height){var defs,style,initialize=!1;svg&&svg.querySelector?(style=svg.querySelector("style"),null===style&&(initialize=!0)):(svg=DOM.newEl("svg",SVG_NS),initialize=!0),initialize&&(defs=DOM.newEl("defs",SVG_NS),style=DOM.newEl("style",SVG_NS),DOM.setAttr(style,{type:"text/css"}),defs.appendChild(style),svg.appendChild(defs)),svg.webkitMatchesSelector&&svg.setAttribute("xmlns",SVG_NS);for(var i=0;i<svg.childNodes.length;i++)svg.childNodes[i].nodeType===NODE_TYPE_COMMENT&&svg.removeChild(svg.childNodes[i]);for(;style.childNodes.length;)style.removeChild(style.childNodes[0]);return DOM.setAttr(svg,{width:width,height:height,viewBox:"0 0 "+width+" "+height,preserveAspectRatio:"none"}),svg},exports.svgStringToDataURI=function(){var rawPrefix="data:image/svg+xml;charset=UTF-8,",base64Prefix="data:image/svg+xml;charset=UTF-8;base64,";return function(svgString,base64){return base64?base64Prefix+btoa(global.unescape(encodeURIComponent(svgString))):rawPrefix+encodeURIComponent(svgString)}}(),exports.serializeSVG=function(svg,engineSettings){if(global.XMLSerializer){var serializer=new XMLSerializer,svgCSS="",stylesheets=engineSettings.stylesheets;if(engineSettings.svgXMLStylesheet){for(var xml=DOM.createXML(),i=stylesheets.length-1;i>=0;i--){var csspi=xml.createProcessingInstruction("xml-stylesheet",'href="'+stylesheets[i]+'" rel="stylesheet"');xml.insertBefore(csspi,xml.firstChild)}xml.removeChild(xml.documentElement),svgCSS=serializer.serializeToString(xml)}var svgText=serializer.serializeToString(svg);return svgText=svgText.replace(/\&amp;(\#[0-9]{2,}\;)/g,"&$1"),svgCSS+svgText}}}).call(exports,function(){return this}())},function(module,exports){(function(global){exports.newEl=function(tag,namespace){return global.document?null==namespace?global.document.createElement(tag):global.document.createElementNS(namespace,tag):void 0},exports.setAttr=function(el,attrs){for(var a in attrs)el.setAttribute(a,attrs[a])},exports.createXML=function(){return global.DOMParser?(new DOMParser).parseFromString("<xml />","application/xml"):void 0},exports.getNodeArray=function(val){var retval=null;return"string"==typeof val?retval=document.querySelectorAll(val):global.NodeList&&val instanceof global.NodeList?retval=val:global.Node&&val instanceof global.Node?retval=[val]:global.HTMLCollection&&val instanceof global.HTMLCollection?retval=val:val instanceof Array?retval=val:null===val&&(retval=[]),retval=Array.prototype.slice.call(retval)}}).call(exports,function(){return this}())},function(module){var Color=function(color,options){"string"==typeof color&&(this.original=color,"#"===color.charAt(0)&&(color=color.slice(1)),/[^a-f0-9]+/i.test(color)||(3===color.length&&(color=color.replace(/./g,"$&$&")),6===color.length&&(this.alpha=1,options&&options.alpha&&(this.alpha=options.alpha),this.set(parseInt(color,16)))))};Color.rgb2hex=function(r,g,b){function format(decimal){var hex=(0|decimal).toString(16);return 16>decimal&&(hex="0"+hex),hex}return[r,g,b].map(format).join("")},Color.hsl2rgb=function(h,s,l){var H=h/60,C=(1-Math.abs(2*l-1))*s,X=C*(1-Math.abs(parseInt(H)%2-1)),m=l-C/2,r=0,g=0,b=0;return H>=0&&1>H?(r=C,g=X):H>=1&&2>H?(r=X,g=C):H>=2&&3>H?(g=C,b=X):H>=3&&4>H?(g=X,b=C):H>=4&&5>H?(r=X,b=C):H>=5&&6>H&&(r=C,b=X),r+=m,g+=m,b+=m,r=parseInt(255*r),g=parseInt(255*g),b=parseInt(255*b),[r,g,b]},Color.prototype.set=function(val){this.raw=val;var r=(16711680&this.raw)>>16,g=(65280&this.raw)>>8,b=255&this.raw,y=.2126*r+.7152*g+.0722*b,u=-.09991*r-.33609*g+.436*b,v=.615*r-.55861*g-.05639*b;return this.rgb={r:r,g:g,b:b},this.yuv={y:y,u:u,v:v},this},Color.prototype.lighten=function(multiplier){var cm=Math.min(1,Math.max(0,Math.abs(multiplier)))*(0>multiplier?-1:1),bm=255*cm|0,cr=Math.min(255,Math.max(0,this.rgb.r+bm)),cg=Math.min(255,Math.max(0,this.rgb.g+bm)),cb=Math.min(255,Math.max(0,this.rgb.b+bm)),hex=Color.rgb2hex(cr,cg,cb);return new Color(hex)},Color.prototype.toHex=function(addHash){return(addHash?"#":"")+this.raw.toString(16)},Color.prototype.lighterThan=function(color){return color instanceof Color||(color=new Color(color)),this.yuv.y>color.yuv.y},Color.prototype.blendAlpha=function(color){color instanceof Color||(color=new Color(color));var Ca=color,Cb=this,r=Ca.alpha*Ca.rgb.r+(1-Ca.alpha)*Cb.rgb.r,g=Ca.alpha*Ca.rgb.g+(1-Ca.alpha)*Cb.rgb.g,b=Ca.alpha*Ca.rgb.b+(1-Ca.alpha)*Cb.rgb.b;return new Color(Color.rgb2hex(r,g,b))},module.exports=Color},function(module){module.exports={version:"2.8.2",svg_ns:"http://www.w3.org/2000/svg"}},function(module,exports,__webpack_require__){(function(global){var SVG=__webpack_require__(6),DOM=__webpack_require__(7),utils=__webpack_require__(5),constants=__webpack_require__(9),SVG_NS=constants.svg_ns,generatorComment="\nCreated with Holder.js "+constants.version+".\nLearn more at http://holderjs.com\n(c) 2012-2015 Ivan Malopinsky - http://imsky.co\n";module.exports=function(){if(global.XMLSerializer){var xml=DOM.createXML(),svg=SVG.initSVG(null,0,0),bgEl=DOM.newEl("rect",SVG_NS);return svg.appendChild(bgEl),function(sceneGraph,renderSettings){var root=sceneGraph.root;SVG.initSVG(svg,root.properties.width,root.properties.height);for(var groups=svg.querySelectorAll("g"),i=0;i<groups.length;i++)groups[i].parentNode.removeChild(groups[i]);var holderURL=renderSettings.holderSettings.flags.holderURL,holderId="holder_"+(Number(new Date)+32768+(0|32768*Math.random())).toString(16),sceneGroupEl=DOM.newEl("g",SVG_NS),textGroup=root.children.holderTextGroup,tgProps=textGroup.properties,textGroupEl=DOM.newEl("g",SVG_NS),tpdata=textGroup.textPositionData,textCSSRule="#"+holderId+" text { "+utils.cssProps({fill:tgProps.fill,"font-weight":tgProps.font.weight,"font-family":tgProps.font.family+", monospace","font-size":tgProps.font.size+tgProps.font.units})+" } ",commentNode=xml.createComment("\nSource URL: "+holderURL+generatorComment),holderCSS=xml.createCDATASection(textCSSRule),styleEl=svg.querySelector("style"),bg=root.children.holderBg;if(DOM.setAttr(sceneGroupEl,{id:holderId}),svg.insertBefore(commentNode,svg.firstChild),styleEl.appendChild(holderCSS),sceneGroupEl.appendChild(bgEl),bg.properties.outline){var outlineEl=DOM.newEl("path",SVG_NS),outlineWidth=bg.properties.outline.width,outlineOffsetWidth=outlineWidth/2;DOM.setAttr(outlineEl,{d:["M",outlineOffsetWidth,outlineOffsetWidth,"H",bg.width-outlineOffsetWidth,"V",bg.height-outlineOffsetWidth,"H",outlineOffsetWidth,"V",0,"M",0,outlineOffsetWidth,"L",bg.width,bg.height-outlineOffsetWidth,"M",0,bg.height-outlineOffsetWidth,"L",bg.width,outlineOffsetWidth].join(" "),"stroke-width":bg.properties.outline.width,stroke:bg.properties.outline.fill,fill:"none"}),sceneGroupEl.appendChild(outlineEl)}sceneGroupEl.appendChild(textGroupEl),svg.appendChild(sceneGroupEl),DOM.setAttr(bgEl,{width:bg.width,height:bg.height,fill:bg.properties.fill}),textGroup.y+=.8*tpdata.boundingBox.height;for(var lineKey in textGroup.children){var line=textGroup.children[lineKey];for(var wordKey in line.children){var word=line.children[wordKey],x=textGroup.x+line.x+word.x,y=textGroup.y+line.y+word.y,textEl=DOM.newEl("text",SVG_NS),textNode=document.createTextNode(null);DOM.setAttr(textEl,{x:x,y:y}),textNode.nodeValue=word.properties.text,textEl.appendChild(textNode),textGroupEl.appendChild(textEl)}}var svgString=SVG.svgStringToDataURI(SVG.serializeSVG(svg,renderSettings.engineSettings),"background"===renderSettings.mode);return svgString}}}()}).call(exports,function(){return this}())},function(module,exports){function trim(str){return str.replace(/^\s*|\s*$/g,"")}exports=module.exports=trim,exports.left=function(str){return str.replace(/^\s*/,"")},exports.right=function(str){return str.replace(/\s*$/,"")}},function(module){var toString=Object.prototype.toString;module.exports=function(val){switch(toString.call(val)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===val?"null":void 0===val?"undefined":val!==val?"nan":val&&1===val.nodeType?"element":(val=val.valueOf?val.valueOf():Object.prototype.valueOf.apply(val),typeof val)}}])}),function(ctx,isMeteorPackage){isMeteorPackage&&(Holder=ctx.Holder)}(this,"undefined"!=typeof Meteor&&"undefined"!=typeof Package);var ApplicationManager={init:function(){$("[id^=modal-add-application-]").modal({backdrop:"static",show:!1}),$("[id^=add-application-]").click(function(){var projectId=$(this).data("project-id"),projectName=$(this).data("project-name"),projectDescription=$(this).data("project-description");ApplicationManager.openAddFormModal(projectId,projectName,projectDescription)}),$("[id^=delete-application-]").click(function(){var id=$(this).data("id"),name=$(this).data("name"),projectId=$(this).data("projectId"),projectName=$(this).data("projectName");ApplicationManager["delete"](id,name,projectId,projectName)}),$("#save-application").click(function(){var projectId=$(this).data("project-id"),projectName=$(this).data("project-name");ApplicationManager.save(projectId,projectName)})},initItem:function(id){$("#open-application-"+id).tooltip(),$("#delete-application-"+id).click(function(event){event.preventDefault();var id=$(this).data("id"),name=$(this).data("name"),projectId=$(this).data("projectId"),projectName=$(this).data("projectName");ApplicationManager["delete"](id,name,projectId,projectName)}).tooltip()},initEditableData:function(){$("#name").editable({success:function(response){$("#breadcrumb-active-item").html(response)},error:function(response){Base.showErrorMessage(response.responseText)}}),$("#description").editable({emptytext:"Add a description"}),$("#url").editable({emptytext:"Add an URL",success:function(response,newValue){var gotoApplicationLink=$("#goto-application-link");""===newValue?gotoApplicationLink.hide():(gotoApplicationLink.show(),gotoApplicationLink.attr("href",newValue))},error:function(response){Base.showErrorMessage(response.responseText)}})},resetAddForm:function(){$("#form-add-application")[0].reset()},openAddFormModal:function(projectId,projectName,projectDescription){$("#new-application-project-name").html(projectName),$("#new-application-project-description").html(projectDescription),$("#save-application").data("project-id",projectId),$("#save-application").data("project-name",projectName),$("#save-application").data("project-description",projectDescription),$("#modal-add-application").modal("show")},closeAddFormModal:function(){$("#modal-add-application").modal("hide")},refreshSummary:function(projectId){ProjectManager.refreshProjectSummary(projectId)},add:function(projectId,row){var table=$("#applications-"+projectId).dataTable(),rowNode=$(row);table.fnAddTr(rowNode[0])},remove:function(id,projectId){var oTable=$("#applications-"+projectId).DataTable();oTable.row("#row-application-"+id).remove().draw()},save:function(projectId,projectName){$.ajax({type:"POST",url:Routing.generate("app_add_application_ajax",{id:projectId}),data:$("#form-add-application").serialize()}).done(function(data){if(data.error){var message="Application not added !\n"+data.error;Base.showErrorMessage(message)}else{var id=data.id,name=data.name;ProjectManager.showApplicationTable(projectId),ApplicationManager.add(projectId,data.row),ApplicationManager.resetAddForm(),ApplicationManager.closeAddFormModal(),ApplicationManager.initItem(id),ApplicationManager.refreshSummary(projectId);var message=name+" added to "+projectName+" !";Base.showSuccessMessage(message)}})},"delete":function(id,name,projectId,projectName){swal({title:"Delete "+name+" from "+projectName+" ?",text:"You will not be able to recover this application !",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it !",closeOnConfirm:!1},function(){$.ajax({type:"POST",url:Routing.generate("app_delete_application_ajax",{id:id})}).done(function(data){if(data.error){var message=name+" not deleted !\n"+data.error;Base.showErrorMessage(message)}else{ApplicationManager.remove(id,projectId),ApplicationManager.refreshSummary(projectId);var message=name+" deleted !";Base.showSuccessMessage(message)}})})}};$(document).ready(function(){$.fn.editable.defaults.mode="inline",$.fn.editable.defaults.onblur="ignore",$('a[href="#"]').click(function(event){event.preventDefault()}),$(window).keydown(function(event){return 13===event.keyCode?(event.preventDefault(),!1):void 0}),$('a[data-toggle="tooltip"]').tooltip(),$("input, textarea").attr("autocomplete","off"),jQuery.fn.extend({disable:function(state){return this.each(function(){var $this=$(this);$this.toggleClass("disabled",state)})}}),$(".modal").on("show.bs.modal",function(){$(".container, .affix").addClass("blur")}),$(".modal").on("hide.bs.modal",function(){$(".container, .affix").removeClass("blur")}),$("#refresh-sidebar").click(function(){Base.refreshSidebar(!1)})});var Base={loadBackground:function(background){$("body").vegas({slides:[{src:background}]})},showErrorMessage:function(message){swal({title:"Error",text:message,type:"error",confirmButtonText:"OK"})},showSuccessMessage:function(message){swal({title:"Success",text:message,type:"success",confirmButtonText:"OK"})},showInfoMessage:function(message){swal({title:"Info",text:message,type:"info",confirmButtonText:"OK"})},openSidebar:function(){$("#sidebar").offcanvas()},refreshSidebar:function(open){$.ajax({type:"POST",url:Routing.generate("application_refresh_sidebar")}).done(function(data){$("#sidebar-content").html(data.sidebar),open&&Base.openSidebar()})}},BusinessStepControlStepManager={init:function(){$("#modal-control-step").modal({backdrop:"static",show:!1}),$("[id^=add-control-step-step-]").click(function(){var stepId=$(this).data("step-id");BusinessStepControlStepManager.openAddFormModal(stepId)}),$("#save-control-step").click(function(){var parentStepId=$(this).data("step-id");""!==parentStepId&&BusinessStepControlStepManager.save(parentStepId);var stepId=$(this).data("control-step-id");""!==stepId&&BusinessStepControlStepManager.update(stepId)}),$("[id^=delete-control-step-]").click(function(){var id=$(this).data("id"),order=$(this).data("order"),stepId=$(this).data("step-id"),stepOrder=$(this).data("step-order");BusinessStepControlStepManager["delete"](id,order,stepId,stepOrder)}),$("[id^=edit-control-step-]").click(function(){var id=$(this).data("id"),stepId=$(this).data("step-id");BusinessStepControlStepManager.openEditFormModal(id,stepId)})},initItem:function(id){$("#delete-control-step-"+id).click(function(event){event.preventDefault();var id=$(this).data("id"),order=$(this).data("order"),stepId=$(this).data("step-id"),stepOrder=$(this).data("step-order");BusinessStepControlStepManager["delete"](id,order,stepId,stepOrder)}).tooltip(),$("#edit-control-step-"+id).click(function(event){event.preventDefault();var id=$(this).data("id"),stepId=$(this).data("step-id");BusinessStepControlStepManager.openEditFormModal(id,stepId)}).tooltip()},resetForm:function(){$("#form-control-step")[0].reset(),$("#control_step_action").parent().remove(),$("#control_step_parameterDatas").parent().remove(),$("#control_step_object").val($("#execute_step_object option:first").val())},openAddFormModal:function(stepId){$.ajax({type:"POST",url:Routing.generate("app_get_application_business_step_step_control_step_form_ajax",{stepId:stepId})}).done(function(data){$("#save-control-step").data("control-step-id",""),$("#save-control-step").data("step-id",stepId),$("#modal-control-step-body").html(data.form),$("#modal-control-step-title").html(data.modalTitle),$("#modal-control-step").modal("show"),BusinessStepControlStepManager.triggerFormEventListeners()})},openEditFormModal:function(id,stepId){$.ajax({type:"POST",url:Routing.generate("app_get_application_business_step_step_control_step_form_ajax",{id:id,stepId:stepId})}).done(function(data){$("#save-control-step").data("control-step-id",id),$("#save-control-step").data("step-id",""),$("#modal-control-step-body").html(data.form),$("#modal-control-step-title").html(data.modalTitle),$("#modal-control-step").modal("show"),BusinessStepControlStepManager.triggerFormEventListeners()})},closeFormModal:function(){$("#modal-control-step").modal("hide")},add:function(id,stepId,row){$(row).appendTo($("#control-step-rows-"+stepId)),$(row).sortable({connectWith:"#control-step-rows-"+stepId}),BusinessStepControlStepManager.initItem(id)},remove:function(id,stepId){$("#control-step-row-"+id).css("visibility","hidden").animate({height:0,width:0},300,function(){$(this).remove(),BusinessStepControlStepManager.refreshOrders(stepId)})},refresh:function(id,row){$("#control-step-row-"+id).replaceWith($(row)),BusinessStepControlStepManager.initItem(id)},save:function(stepId){$.ajax({type:"POST",url:Routing.generate("app_add_application_business_step_step_control_step_ajax",{id:stepId}),data:$("#form-control-step").serialize()}).done(function(data){data.form?($("#form-control-step").replaceWith($(data.form)),BusinessStepControlStepManager.triggerFormEventListeners()):(BusinessStepControlStepManager.add(data.id,stepId,data.row),BusinessStepControlStepManager.closeFormModal(),BusinessStepControlStepManager.resetForm(),Base.showSuccessMessage("Step added with success !"))})},update:function(id){$.ajax({type:"POST",url:Routing.generate("app_update_application_business_step_step_control_step_ajax",{id:id}),data:$("#form-control-step").serialize()}).done(function(data){data.form?($("#form-control-step").replaceWith($(data.form)),BusinessStepControlStepManager.triggerFormEventListeners()):(BusinessStepControlStepManager.refresh(data.id,data.row),BusinessStepControlStepManager.closeFormModal(),BusinessStepControlStepManager.resetForm(),Base.showSuccessMessage("Step updated with success !"))})},updateOrders:function(testId,steps){$.ajax({url:Routing.generate("app_update_application_business_step_step_control_step_orders_ajax"),method:"POST",data:{steps:steps}}).done(function(data){jQuery.each(data.stepsAndOrders,function(id,order){$("#control-step-order-"+id).html(order),$("#delete-control-step-"+id).data("order",order)})})},"delete":function(id,order,stepId,stepOrder){swal({title:"Delete verification step #"+order+" of step #"+stepOrder+" ?",text:"You will not be able to recover this step !",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it !",closeOnConfirm:!1},function(){$.ajax({type:"POST",url:Routing.generate("app_delete_application_business_step_step_control_step_ajax",{id:id})}).done(function(data){if(data.error){var message="Verification step #"+order+" of step #"+stepOrder+" not deleted !\n"+data.error;Base.showErrorMessage(message)}else BusinessStepControlStepManager.remove(id,stepId,data.testId),Base.showSuccessMessage("Step deleted with success !")})})},triggerFormEventListeners:function(){$("#control_step_page").change(function(){var stepId=$(this).data("step-id");BusinessStepControlStepManager.updateFormAfterPageObjectSelection(stepId)}),$("#control_step_object").change(function(){var stepId=$(this).data("step-id");BusinessStepControlStepManager.updateFormAfterPageObjectSelection(stepId)}),$("#control_step_action").change(function(){var stepId=$(this).data("step-id");BusinessStepControlStepManager.updateFormAfterActionSelection(stepId)})},updateFormAfterPageObjectSelection:function(stepId){$("#control_step_action").parent().remove(),$("#control_step_parameterDatas").parent().remove(),$.ajax({type:"POST",url:Routing.generate("app_check_application_business_step_step_control_step_ajax",{id:stepId}),data:$("#form-control-step").serialize()}).done(function(data){$("#form-control-step").replaceWith($(data.form)),BusinessStepControlStepManager.triggerFormEventListeners()})},updateFormAfterActionSelection:function(stepId){$("#control_step_parameterDatas").parent().remove(),$.ajax({type:"POST",url:Routing.generate("app_check_application_business_step_step_control_step_ajax",{id:stepId}),data:$("#form-control-step").serialize()}).done(function(data){data.form&&($("#form-control-step").replaceWith($(data.form)),BusinessStepControlStepManager.triggerFormEventListeners())})},refreshOrders:function(stepId){$.ajax({type:"POST",url:Routing.generate("app_get_application_business_step_step_control_step_orders_ajax",{id:stepId})}).done(function(data){jQuery.each(data,function(id,order){$("#control-step-order-"+id).html(order),$("#delete-control-step-"+id).data("order",order)})})}},BusinessStepEditor={init:function(){BusinessStepExecuteStepManager.init(),BusinessStepControlStepManager.init(),BusinessStepEditor.initTranslations()},initItem:function(businessStepId){$("#form_startingPage").change(function(){var pageId=$(this).val();if(""!==pageId){var pageName=$(this).find("option:selected").text();$("#add-execute-step").data("starting-page-id",pageId),BusinessStepEditor.updateStartingPage(businessStepId,pageId,pageName)}}),$("#sentences-collapse").on("shown.bs.collapse",function(){$(".sentences-collapse-toggle-icon").removeClass("fontello-icon-down-open").addClass("fontello-icon-up-open")}),$("#sentences-collapse").on("hidden.bs.collapse",function(){$(".sentences-collapse-toggle-icon").removeClass("fontello-icon-up-open").addClass("fontello-icon-down-open")}),$("#starting-page-collapse").on("shown.bs.collapse",function(){$(".starting-page-collapse-toggle-icon").removeClass("fontello-icon-down-open").addClass("fontello-icon-up-open")}),$("#starting-page-collapse").on("hidden.bs.collapse",function(){$(".starting-page-collapse-toggle-icon").removeClass("fontello-icon-up-open").addClass("fontello-icon-down-open")}),$("#scenario-collapse").on("shown.bs.collapse",function(){$(".scenario-collapse-toggle-icon").removeClass("fontello-icon-down-open").addClass("fontello-icon-up-open")}),$("#scenario-collapse").on("hidden.bs.collapse",function(){$(".scenario-collapse-toggle-icon").removeClass("fontello-icon-up-open").addClass("fontello-icon-down-open")}),$("#step-rows").sortable({update:function(){var steps=$(this).sortable("toArray",{attribute:"data-id"}).toString();BusinessStepExecuteStepManager.updateOrders(testId,steps)}}).disableSelection(),$("[id^=control-step-rows-]").sortable({update:function(){var steps=$(this).sortable("toArray",{attribute:"data-id"}).toString();BusinessStepControlStepManager.updateOrders(testId,steps)}}).disableSelection()},initEditableData:function(){$("[id^=sentence-content-]").editable({error:function(response){Base.showErrorMessage(response.responseText)}})},initTranslations:function(){$("#save-step-sentence").click(function(event){event.preventDefault();var id=$(this).data("business-step-id");BusinessStepEditor.saveSentence(id)}),$("[id^=delete-step-sentence-]").click(function(event){event.preventDefault();var id=$(this).data("id"),businessStepId=$(this).data("business-step-id");BusinessStepEditor.deleteSentence(businessStepId,id)}).tooltip()},resetStartingPage:function(){$("#starting-page-name").text(""),$("#form_startingPage").val($("#form_startingPage option:first").val())},updateStartingPage:function(businessStepId,pageId,pageName){$.ajax({type:"POST",url:Routing.generate("app_application_business_step_update_starting_page_ajax",{id:businessStepId}),data:{pageId:pageId}}).done(function(data){if(data.error){var message="Starting page not updated !\n"+data.error;Base.showErrorMessage(message)}else $("#starting-page-name").html(pageName)})},resetAddSentenceForm:function(){$("#form-add-step-sentence")[0].reset()},saveSentence:function(businessStepId){$.ajax({type:"POST",url:Routing.generate("app_add_application_business_step_sentence_ajax",{id:businessStepId}),data:$("#form-add-step-sentence").serialize()}).done(function(data){if(data.error){var message="Translation not added !\n"+data.error;Base.showErrorMessage(message)}else{BusinessStepEditor.refreshTranslations(data.sentencesContent),BusinessStepEditor.resetAddSentenceForm();var message="Translation added !";Base.showSuccessMessage(message)}})},deleteSentence:function(businessStepId,id){swal({title:"Delete tranlation ?",text:"You will not be able to recover this translation !",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it !",closeOnConfirm:!1},function(){$.ajax({type:"POST",url:Routing.generate("app_delete_application_business_step_sentence_ajax",{id:businessStepId,sentenceId:id})}).done(function(data){BusinessStepEditor.refreshTranslations(data.sentencesContent);var message="Translation deleted !";Base.showSuccessMessage(message)})})},refreshTranslations:function(content){$("#sentences-collapse").html(content),BusinessStepEditor.initEditableData(),BusinessStepEditor.initTranslations()}},BusinessStepExecuteStepManager={init:function(){$("#modal-execute-step").modal({backdrop:"static",show:!1}),$("#add-execute-step").click(function(){var testId=$(this).data("test-id"),startingPageId=$(this).data("starting-page-id");""!==startingPageId?BusinessStepExecuteStepManager.openAddFormModal(testId):Base.showErrorMessage("Please select a starting page !")}),$("#save-execute-step").click(function(){var testId=$(this).data("test-id");""!==testId&&BusinessStepExecuteStepManager.save(testId);var stepId=$(this).data("step-id");""!==stepId&&BusinessStepExecuteStepManager.update(stepId)}),$("[id^=delete-execute-step-]").click(function(){var id=$(this).data("id"),order=$(this).data("order"),testId=$(this).data("test-id");BusinessStepExecuteStepManager["delete"](id,order,testId)}),$("[id^=edit-execute-step-]").click(function(){var id=$(this).data("id"),testId=$(this).data("test-id");BusinessStepExecuteStepManager.openEditFormModal(id,testId)})},initItem:function(id){$("#delete-execute-step-"+id).click(function(event){event.preventDefault();var id=$(this).data("id"),order=$(this).data("order"),testId=$(this).data("test-id");BusinessStepExecuteStepManager["delete"](id,order,testId)}).tooltip(),$("#add-control-step-step-"+id).click(function(event){event.preventDefault();var stepId=$(this).data("step-id");ControlStepManager.openAddFormModal(stepId)}).tooltip(),$("#edit-execute-step-"+id).click(function(event){event.preventDefault();var id=$(this).data("id"),testId=$(this).data("test-id");BusinessStepExecuteStepManager.openEditFormModal(id,testId)}).tooltip(),$("#control-step-rows-"+id).filter("[id^=delete-control-step-]").click(function(event){event.preventDefault();var id=$(this).data("id"),order=$(this).data("order"),stepId=$(this).data("step-id"),stepOrder=$(this).data("step-order");BusinessStepControlStepManager["delete"](id,order,stepId,stepOrder)}).tooltip(),$("#control-step-rows-"+id).filter("[id^=edit-control-step-]").click(function(event){event.preventDefault();var id=$(this).data("id"),stepId=$(this).data("step-id");BusinessStepControlStepManager.openEditFormModal(id,stepId)}).tooltip()},resetForm:function(){$("#execute_step_action").parent().remove(),$("#execute_step_parameterDatas").parent().remove(),$("#execute_step_object").val($("#execute_step_object option:first").val())},openAddFormModal:function(testId){$.ajax({type:"POST",url:Routing.generate("app_get_application_business_step_step_form_ajax",{testId:testId})}).done(function(data){$("#save-execute-step").data("step-id",""),$("#save-execute-step").data("test-id",testId),$("#modal-execute-step-body").html(data.form),$("#modal-execute-step-title").html(data.modalTitle),$("#modal-execute-step").modal("show"),BusinessStepExecuteStepManager.triggerFormEventListeners()})},openEditFormModal:function(id,testId){$.ajax({type:"POST",url:Routing.generate("app_get_application_business_step_step_form_ajax",{id:id,testId:testId})}).done(function(data){$("#save-execute-step").data("test-id",""),$("#save-execute-step").data("step-id",id),$("#modal-execute-step-body").html(data.form),$("#modal-execute-step-title").html(data.modalTitle),$("#modal-execute-step").modal("show"),BusinessStepExecuteStepManager.triggerFormEventListeners()})},closeFormModal:function(){$("#modal-execute-step").modal("hide")},add:function(id,row){$(row).appendTo($("#step-rows")),BusinessStepExecuteStepManager.initItem(id)},remove:function(id,testId){$("#step-row-"+id).css("visibility","hidden").animate({height:0,width:0},300,function(){$(this).remove(),BusinessStepExecuteStepManager.refreshOrders(testId)})},refresh:function(id,row){$("#step-row-"+id).replaceWith($(row)),BusinessStepExecuteStepManager.initItem(id)},save:function(testId){$.ajax({type:"POST",url:Routing.generate("app_add_application_business_step_execute_step_ajax",{id:testId}),data:$("#form-execute-step").serialize()}).done(function(data){data.form?($("#form-execute-step").replaceWith($(data.form)),BusinessStepExecuteStepManager.triggerFormEventListeners()):(BusinessStepExecuteStepManager.add(data.id,data.row),BusinessStepExecuteStepManager.closeFormModal(),BusinessStepExecuteStepManager.resetForm(),Base.showSuccessMessage("Step added with success !"))})},update:function(id){$.ajax({type:"POST",url:Routing.generate("app_update_application_business_step_execute_step_ajax",{id:id}),data:$("#form-execute-step").serialize()}).done(function(data){data.form?($("#form-execute-step").replaceWith($(data.form)),BusinessStepExecuteStepManager.triggerFormEventListeners()):(BusinessStepExecuteStepManager.refresh(data.id,data.row),BusinessStepExecuteStepManager.closeFormModal(),BusinessStepExecuteStepManager.resetForm(),Base.showSuccessMessage("Step updated with success !"))})},updateOrders:function(testId,steps){$.ajax({url:Routing.generate("app_update_application_business_step_execute_step_orders_ajax"),method:"POST",data:{steps:steps}}).done(function(data){jQuery.each(data.stepsAndOrders,function(id,order){$("#step-order-"+id).html(order),$("#delete-execute-step-"+id).data("order",order),$("#step-right-"+id).find("[id^=delete-control-step-]").data("step-order",order)})})},"delete":function(id,order,testId){swal({title:"Delete step #"+order+" ?",text:"You will not be able to recover this step !",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it !",closeOnConfirm:!1},function(){$.ajax({type:"POST",url:Routing.generate("app_delete_application_business_step_execute_step_ajax",{id:id})}).done(function(data){if(data.error){var message="Step #"+order+" not deleted !\n"+data.error;Base.showErrorMessage(message)}else BusinessStepExecuteStepManager.remove(id,testId),Base.showSuccessMessage("Step deleted with success !")})})},triggerFormEventListeners:function(){$("#execute_step_object").change(function(){var testId=$(this).data("test-id");BusinessStepExecuteStepManager.updateFormAfterObjectSelection(testId)}),$("#execute_step_action").change(function(){var testId=$(this).data("test-id");BusinessStepExecuteStepManager.updateFormAfterActionSelection(testId)})},updateFormAfterObjectSelection:function(testId){$("#execute_step_action").parent().remove(),$("#execute_step_parameterDatas").parent().remove(),$.ajax({type:"POST",url:Routing.generate("app_check_application_business_step_execute_step_ajax",{id:testId}),data:$("#form-execute-step").serialize()}).done(function(data){data.form&&($("#form-execute-step").replaceWith($(data.form)),BusinessStepExecuteStepManager.triggerFormEventListeners())})},updateFormAfterActionSelection:function(testId){$("#execute_step_parameterDatas").parent().remove(),$.ajax({type:"POST",url:Routing.generate("app_check_application_business_step_execute_step_ajax",{id:testId}),data:$("#form-execute-step").serialize()}).done(function(data){data.form&&($("#form-execute-step").replaceWith($(data.form)),BusinessStepExecuteStepManager.triggerFormEventListeners())
})},refreshOrders:function(testId){$.ajax({type:"POST",url:Routing.generate("app_get_application_business_step_execute_step_orders_ajax",{id:testId})}).done(function(data){jQuery.each(data,function(id,order){$("#step-order-"+id).html(order),$("#delete-execute-step-"+id).data("order",order),$("#step-right-"+id).find("[id^=delete-control-step-]").data("step-order",order)})})}},BusinessStepFolderManager={init:function(){$("#modal-add-business-step-folder").modal({backdrop:"static",show:!1}),$("#add-business-step-folder").click(function(){$("#modal-add-business-step-folder").modal("show")}),$("#save-business-step-folder").click(function(){var applicationId=$(this).data("application-id");BusinessStepFolderManager.save(applicationId)})},updateEditableData:function(folder){var id=folder.id,name=folder.name,description=folder.description,createdAt=folder.createdAt;$("#entity-name").editable("option","pk",id),$("#entity-name").editable("option","url",Routing.generate("app_application_business_step_folder_update_name_ajax",{id:id})),$("#entity-description").editable("option","pk",id),$("#entity-description").editable("option","url",Routing.generate("app_application_business_step_folder_update_description_ajax",{id:id})),$("#entity-name").editable("setValue",name,!1),$("#entity-description").editable("setValue",description,!1),$("#entity-creation-date").html(createdAt)},resetAddForm:function(){$("#form-add-business-step-folder")[0].reset()},closeAddFormModal:function(){$("#modal-add-business-step-folder").modal("hide")},getParentFolderId:function(selectedFolder){var parentFolderId=-1;if(1===selectedFolder.length){var parentFolder=selectedFolder[0],href=parentFolder.href,id=href.substring(href.lastIndexOf("-")+1),type=href.substring(href.indexOf("-")+1,href.lastIndexOf("-"));"folder"===type&&(parentFolderId=id)}return parentFolderId},save:function(applicationId){var businessStepPlannerTreeCssSelector=BusinessStepPlanner.getTreeCssSelector(applicationId),selectedFolder=$(businessStepPlannerTreeCssSelector).treeview("getSelected"),parentFolderId=BusinessStepFolderManager.getParentFolderId(selectedFolder);$.ajax({type:"POST",url:Routing.generate("app_add_application_business_step_folder_ajax",{id:applicationId,parentId:parentFolderId}),data:$("#form-add-business-step-folder").serialize()}).done(function(data){if(data.error){var message="Scenario folder not added !\n"+data.error;Base.showErrorMessage(message)}else{var name=data.name,foldersCount=data.businessStepFoldersCount;BusinessStepPlanner.hideTree(applicationId),BusinessStepPlanner.tree(applicationId,businessStepPlannerTreeCssSelector,data.treeBusinessSteps,!0),TreeManager.collapse(businessStepPlannerTreeCssSelector);var selectedNode=$(businessStepPlannerTreeCssSelector).treeview("getSelected")[0];TreeManager.revealNode(businessStepPlannerTreeCssSelector,selectedNode),TreeManager.expandNode(businessStepPlannerTreeCssSelector,selectedNode),BusinessStepPlanner.showTree(applicationId),BusinessStepPlanner.showEntityProperties(selectedNode),BusinessStepPlanner.refreshBusinessStepPlannerFolderSummary(foldersCount),BusinessStepFolderManager.resetAddForm(),BusinessStepFolderManager.closeAddFormModal();var message=name+" added !";Base.showSuccessMessage(message)}})},showProperties:function(id){BusinessStepPlanner.hideEntityActions(),$("#entity-icon").removeClass().addClass("fontello-icon-folder"),$.ajax({type:"POST",url:Routing.generate("app_application_get_business_step_folder_ajax",{id:id})}).done(function(data){BusinessStepPlanner.hideEntityPropertiesLoader();var folder=data.businessStepFolder;BusinessStepFolderManager.updateEditableData(folder),BusinessStepManager.setAddButtonDataAttributes(id,folder.name,folder.description)})}},BusinessStepManager={init:function(){$("#modal-add-business-step").modal({backdrop:"static",show:!1}),$("#add-business-step").click(function(){var folderId=$(this).data("business-step-folder-id"),folderName=$(this).data("business-step-folder-name"),folderDescription=$(this).data("business-step-folder-description");BusinessStepManager.openAddFormModal(folderId,folderName,folderDescription)}),$("#save-business-step").click(function(){var folderId=$(this).data("business-step-folder-id"),folderName=$(this).data("business-step-folder-name");BusinessStepManager.save(folderId,folderName)})},initItem:function(id){$("#edit-entity").attr("href",Routing.generate("app_index_application_business_step_editor",{id:id}))},updateEditableData:function(businessStep){var id=businessStep.id,name=businessStep.name,description=businessStep.description,createdAt=businessStep.createdAt;$("#entity-name").editable("option","pk",id),$("#entity-name").editable("option","url",Routing.generate("app_application_business_step_folder_business_step_update_name_ajax",{id:id})),$("#entity-description").editable("option","pk",id),$("#entity-description").editable("option","url",Routing.generate("app_application_business_step_folder_business_step_update_description_ajax",{id:id})),$("#entity-name").editable("setValue",name,!1),$("#entity-description").editable("setValue",description,!1),$("#entity-creation-date").html(createdAt)},resetAddForm:function(){$("#form-add-business-step")[0].reset()},openAddFormModal:function(folderId,folderName,folderDescription){folderId?($("#new-business-step-business-step-folder-name").html(folderName),$("#new-business-step-business-step-folder-description").html(folderDescription),$("#save-business-step").data("business-step-folder-id",folderId),$("#save-business-step").data("business-step-folder-name",folderName),$("#modal-add-business-step").modal("show")):Base.showErrorMessage("Please select a folder !")},closeAddFormModal:function(){$("#modal-add-business-step").modal("hide")},save:function(folderId,folderName){$.ajax({type:"POST",url:Routing.generate("app_add_application_business_step_folder_business_step_ajax",{id:folderId}),data:$("#form-add-business-step").serialize()}).done(function(data){if(data.error){var message="Business step not added !\n"+data.error;Base.showErrorMessage(message)}else{var name=data.name,businessStepsCount=data.businessStepsCount,applicationId=data.applicationId,businessStepPlannerTreeCssSelector=BusinessStepPlanner.getTreeCssSelector(applicationId);BusinessStepPlanner.hideTree(applicationId),BusinessStepPlanner.tree(applicationId,businessStepPlannerTreeCssSelector,data.treeBusinessSteps,!0),TreeManager.collapse(businessStepPlannerTreeCssSelector);var selectedNode=$(businessStepPlannerTreeCssSelector).treeview("getSelected")[0];TreeManager.revealNode(businessStepPlannerTreeCssSelector,selectedNode),TreeManager.expandNode(businessStepPlannerTreeCssSelector,selectedNode),BusinessStepPlanner.showTree(applicationId),BusinessStepPlanner.showEntityProperties(selectedNode),BusinessStepPlanner.refreshBusinessStepPlannerBusinessStepSummary(businessStepsCount),BusinessStepManager.resetAddForm(),BusinessStepManager.closeAddFormModal();var message=name+" added to "+folderName+" !";Base.showSuccessMessage(message)}})},setAddButtonDataAttributes:function(folderId,folderName,folderDescription){$("#add-business-step").data("business-step-folder-id",folderId),$("#add-business-step").data("business-step-folder-name",folderName),$("#add-business-step").data("business-step-folder-description",folderDescription)},unsetAddButtonDataAttributes:function(){$("#add-business-step").removeData("business-step-folder-id"),$("#add-business-step").removeData("business-step-folder-name"),$("#add-business-step").removeData("business-step-folder-description")},showProperties:function(id){BusinessStepPlanner.showEntityActions(),$("#entity-icon").removeClass().addClass("fontello-icon-level-up"),BusinessStepManager.initItem(id),$.ajax({type:"POST",url:Routing.generate("app_application_get_business_step_folder_business_step_ajax",{id:id})}).done(function(data){BusinessStepPlanner.hideEntityPropertiesLoader();var businessStep=data.businessStep;BusinessStepManager.updateEditableData(businessStep)})}},BusinessStepPlanner={init:function(){$("#delete-checked-entities").click(function(){var applicationId=$(this).data("application-id");BusinessStepPlanner.deleteCheckedEntities(applicationId)})},initEditableData:function(applicationId){$("#entity-name").editable({error:function(response){Base.showErrorMessage(response.responseText)},success:function(response,newValue){switch(BusinessStepPlanner.hideTree(applicationId),response.entityType){case"folder":BusinessStepPlanner.refreshTreeWithSelectedFolder(response.businessStepFolderId),$("#add-business-step").data("business-step-folder-name",newValue);break;case"business-step":BusinessStepPlanner.refreshTreeWithSelectedBusinessStep(response.businessStepId)}}}),$("#entity-description").editable({emptytext:"Add description",defaultValue:"",success:function(response,newValue){switch(BusinessStepPlanner.hideTree(applicationId),response.entityType){case"folder":BusinessStepPlanner.refreshTreeWithSelectedFolder(response.businessStepFolderId),$("#add-business-step").data("business-step-folder-description",newValue);break;case"business-step":BusinessStepPlanner.refreshTreeWithSelectedBusinessStep(response.businessStepId)}}})},refresh:function(applicationId,collapse,checkbox){$.ajax({type:"POST",url:Routing.generate("app_application_get_business_steps_tree_ajax",{id:applicationId})}).done(function(data){jQuery.each(data,function(treeCssSelector,treeData){BusinessStepPlanner.refreshTree(applicationId,"#"+treeCssSelector,treeData,collapse,checkbox)})})},refreshBusinessStepPlannerFolderSummary:function(count){var subtitle="There ";subtitle+=1>=count?"is ":"are ",subtitle+=0===count?"no ":'<span class="badge">'+count+"</span>",subtitle+=" folder"+(count>1?"s":""),$("#business-step-folders-count").html(subtitle)},refreshBusinessStepPlannerBusinessStepSummary:function(count){var subtitle="There ";subtitle+=1>=count?"is ":"are ",subtitle+=0===count?"no ":'<span class="badge">'+count+"</span>",subtitle+=" scenario"+(count>1?"s":""),$("#business-steps-count").html(subtitle)},showEntityPropertiesPanel:function(){$("#panel-body-entity-properties").show(),$("#panel-footer-entity-properties").show()},hideEntityPropertiesPanel:function(){$("#panel-body-entity-properties").hide(),$("#panel-footer-entity-properties").hide()},showEntityPropertiesLoader:function(){$("#entity-properties-loader").show()},hideEntityPropertiesLoader:function(){$("#entity-properties-loader").hide()},showEntityActions:function(){$("#panel-body-content-entity-actions").show()},hideEntityActions:function(){$("#panel-body-content-entity-actions").hide()},clearEntityActions:function(){$("#edit-entity").removeAttr("href")},showEntityProperties:function(node){if(node){BusinessStepPlanner.showEntityPropertiesPanel(),BusinessStepPlanner.showEntityPropertiesLoader();var href=node.href,id=TreeManager.getIdFromNodeHref(href),type=TreeManager.getTypeFromNodeHref(href);switch($("#entity-icon").removeClass(),type){case"folder":BusinessStepFolderManager.showProperties(id);break;case"business-step":BusinessStepManager.showProperties(id);break;default:$("#entity-icon").removeClass().addClass("fontello-icon-puzzle")}}else BusinessStepPlanner.hideEntityPropertiesPanel()},refreshEntityTypeIcon:function(icon){$("#object-icon").removeClass().addClass(icon)},refreshCheckedEntityCount:function(applicationId){var treeCssSelector=BusinessStepPlanner.getTreeCssSelector(applicationId),checkedEntities=$(treeCssSelector).treeview("getChecked"),checkedEntitiesCount=checkedEntities.length;$("#checked-entities-count").html(checkedEntitiesCount),checkedEntitiesCount>0?$("#delete-checked-entities").removeClass("disabled"):$("#delete-checked-entities").addClass("disabled")},deleteCheckedEntities:function(applicationId){var treeCssSelector=BusinessStepPlanner.getTreeCssSelector(applicationId);swal({title:"Delete selected entities ?",text:"You will not be able to recover them !",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete them !",closeOnConfirm:!1},function(){var objects=$(treeCssSelector).treeview("getChecked");$.ajax({type:"POST",url:Routing.generate("app_application_business_step_entities_delete_ajax",{id:applicationId}),data:{objects:objects,selectedNode:$(treeCssSelector).treeview("getSelected")[0]}}).done(function(data){if(data.error){var message="Selected entities were not deleted !\n"+data.error;Base.showErrorMessage(message)}else{var count=data.count,foldersCount=data.businessStepFoldersCount,businessStepsCount=data.businessStepsCount;BusinessStepPlanner.hideTree(applicationId),BusinessStepPlanner.hideEntityPropertiesPanel(),BusinessStepManager.unsetAddButtonDataAttributes(),BusinessStepPlanner.clearEntityActions(),BusinessStepPlanner.tree(applicationId,treeCssSelector,data.treeBusinessSteps,!0),TreeManager.collapse(treeCssSelector),BusinessStepPlanner.showTree(applicationId),BusinessStepPlanner.refreshBusinessStepPlannerFolderSummary(foldersCount),BusinessStepPlanner.refreshBusinessStepPlannerBusinessStepSummary(businessStepsCount),BusinessStepPlanner.refreshCheckedEntityCount(applicationId);var message="You have deleted "+count+" entit"+(count>1?"ies":"y");Base.showSuccessMessage(message)}})})},tree:function(applicationId,treeCssSelector,data,checkbox){$(treeCssSelector).treeview({data:data,showBorder:!1,showCheckbox:checkbox,onNodeSelected:function(event,node){BusinessStepPlanner.showEntityProperties(node)},onNodeUnselected:function(){BusinessStepPlanner.hideEntityPropertiesPanel(),BusinessStepManager.unsetAddButtonDataAttributes(),BusinessStepPlanner.clearEntityActions()},onNodeChecked:function(event,node){TreeManager.checkChildNodes(treeCssSelector,node),BusinessStepPlanner.refreshCheckedEntityCount(applicationId)},onNodeUnchecked:function(event,node){TreeManager.uncheckChildNodes(treeCssSelector,node),TreeManager.uncheckParentNode(treeCssSelector,node),BusinessStepPlanner.refreshCheckedEntityCount(applicationId)}})},refreshTree:function(id,treeCssSelector,data,collapse,checkbox){BusinessStepPlanner.tree(id,treeCssSelector,data,checkbox),collapse&&TreeManager.collapse(treeCssSelector);var selectedNode=$(treeCssSelector).treeview("getSelected")[0];TreeManager.revealNode(treeCssSelector,selectedNode),BusinessStepPlanner.showTree(id)},refreshTreeWithSelectedFolder:function(folderId){$.ajax({type:"POST",url:Routing.generate("app_application_get_business_steps_tree_with_selected_folder_ajax",{id:folderId})}).done(function(data){jQuery.each(data,function(treeCssSelector,treeData){var id=treeCssSelector.substring(treeCssSelector.lastIndexOf("-")+1);BusinessStepPlanner.refreshTree(id,"#"+treeCssSelector,treeData,!0,!0)})})},refreshTreeWithSelectedBusinessStep:function(businessStepId){$.ajax({type:"POST",url:Routing.generate("app_application_get_business_steps_tree_with_selected_business_step_ajax",{id:businessStepId})}).done(function(data){jQuery.each(data,function(treeCssSelector,treeData){var id=treeCssSelector.substring(treeCssSelector.lastIndexOf("-")+1);BusinessStepPlanner.refreshTree(id,"#"+treeCssSelector,treeData,!0,!0)})})},getTreeCssSelector:function(id){return"#tree-business-steps-"+id},showTreeLoader:function(id){$(BusinessStepPlanner.getTreeCssSelector(id)+"-loader").addClass("three-quarters-loader")},hideTreeLoader:function(id){$(BusinessStepPlanner.getTreeCssSelector(id)+"-loader").removeClass("three-quarters-loader")},showTree:function(id){var treeCssSelector=BusinessStepPlanner.getTreeCssSelector(id);BusinessStepPlanner.hideTreeLoader(id),$(treeCssSelector).show()},hideTree:function(id){var treeCssSelector=BusinessStepPlanner.getTreeCssSelector(id);BusinessStepPlanner.showTreeLoader(id),$(treeCssSelector).hide()}},ControlStepManager={init:function(){$("#modal-control-step").modal({backdrop:"static",show:!1}),$("[id^=add-control-step-step-]").click(function(){var stepId=$(this).data("step-id");ControlStepManager.openAddFormModal(stepId)}),$("#save-control-step").click(function(){var parentStepId=$(this).data("step-id");""!==parentStepId&&ControlStepManager.save(parentStepId);var stepId=$(this).data("control-step-id");""!==stepId&&ControlStepManager.update(stepId)}),$("[id^=delete-control-step-]").click(function(){var id=$(this).data("id"),order=$(this).data("order"),stepId=$(this).data("step-id"),stepOrder=$(this).data("step-order");ControlStepManager["delete"](id,order,stepId,stepOrder)}),$("[id^=edit-control-step-]").click(function(){var id=$(this).data("id"),stepId=$(this).data("step-id");ControlStepManager.openEditFormModal(id,stepId)})},initItem:function(id){$("#delete-control-step-"+id).click(function(event){event.preventDefault();var id=$(this).data("id"),order=$(this).data("order"),stepId=$(this).data("step-id"),stepOrder=$(this).data("step-order");ControlStepManager["delete"](id,order,stepId,stepOrder)}).tooltip(),$("#edit-control-step-"+id).click(function(event){event.preventDefault();var id=$(this).data("id"),stepId=$(this).data("step-id");ControlStepManager.openEditFormModal(id,stepId)}).tooltip()},resetForm:function(){$("#form-control-step")[0].reset(),$("#control_step_action").parent().remove(),$("#control_step_parameterDatas").parent().remove(),$("#control_step_object").val($("#execute_step_object option:first").val())},openAddFormModal:function(stepId){$.ajax({type:"POST",url:Routing.generate("app_get_application_test_step_control_step_form_ajax",{stepId:stepId})}).done(function(data){$("#save-control-step").data("control-step-id",""),$("#save-control-step").data("step-id",stepId),$("#modal-control-step-body").html(data.form),$("#modal-control-step-title").html(data.modalTitle),$("#modal-control-step").modal("show"),ControlStepManager.triggerFormEventListeners()})},openEditFormModal:function(id,stepId){$.ajax({type:"POST",url:Routing.generate("app_get_application_test_step_control_step_form_ajax",{id:id,stepId:stepId})}).done(function(data){$("#save-control-step").data("control-step-id",id),$("#save-control-step").data("step-id",""),$("#modal-control-step-body").html(data.form),$("#modal-control-step-title").html(data.modalTitle),$("#modal-control-step").modal("show"),ControlStepManager.triggerFormEventListeners()})},closeFormModal:function(){$("#modal-control-step").modal("hide")},add:function(id,stepId,row){$(row).appendTo($("#control-step-rows-"+stepId)),$(row).sortable({connectWith:"#control-step-rows-"+stepId}),ControlStepManager.initItem(id)},remove:function(id,stepId,testId){$("#control-step-row-"+id).css("visibility","hidden").animate({height:0,width:0},300,function(){$(this).remove(),ControlStepManager.refreshOrders(stepId),TestEditor.refreshBehatScenario(testId)})},refresh:function(id,row){$("#control-step-row-"+id).replaceWith($(row)),ControlStepManager.initItem(id)},save:function(stepId){$.ajax({type:"POST",url:Routing.generate("app_add_application_test_step_control_step_ajax",{id:stepId}),data:$("#form-control-step").serialize()}).done(function(data){data.form?($("#form-control-step").replaceWith($(data.form)),ControlStepManager.triggerFormEventListeners()):(ControlStepManager.add(data.id,stepId,data.row),ControlStepManager.closeFormModal(),ControlStepManager.resetForm(),TestEditor.refreshBehatScenario(data.testId),Base.showSuccessMessage("Step added with success !"))})},update:function(id){$.ajax({type:"POST",url:Routing.generate("app_update_application_test_step_control_step_ajax",{id:id}),data:$("#form-control-step").serialize()}).done(function(data){data.form?($("#form-control-step").replaceWith($(data.form)),ControlStepManager.triggerFormEventListeners()):(ControlStepManager.refresh(data.id,data.row),ControlStepManager.closeFormModal(),ControlStepManager.resetForm(),TestEditor.refreshBehatScenario(data.testId),Base.showSuccessMessage("Step updated with success !"))})},updateOrders:function(testId,steps){$.ajax({url:Routing.generate("app_update_application_test_step_control_step_orders_ajax"),method:"POST",data:{steps:steps}}).done(function(data){jQuery.each(data.stepsAndOrders,function(id,order){$("#control-step-order-"+id).html(order),$("#delete-control-step-"+id).data("order",order)}),TestEditor.refreshBehatScenario(testId)})},"delete":function(id,order,stepId,stepOrder){swal({title:"Delete verification step #"+order+" of step #"+stepOrder+" ?",text:"You will not be able to recover this step !",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it !",closeOnConfirm:!1},function(){$.ajax({type:"POST",url:Routing.generate("app_delete_application_test_step_control_step_ajax",{id:id})}).done(function(data){if(data.error){var message="Verification step #"+order+" of step #"+stepOrder+" not deleted !\n"+data.error;Base.showErrorMessage(message)}else ControlStepManager.remove(id,stepId,data.testId),Base.showSuccessMessage("Step deleted with success !")})})},triggerFormEventListeners:function(){$("#control_step_page").change(function(){var stepId=$(this).data("step-id");ControlStepManager.updateFormAfterPageObjectSelection(stepId)}),$("#control_step_object").change(function(){var stepId=$(this).data("step-id");ControlStepManager.updateFormAfterPageObjectSelection(stepId)}),$("#control_step_action").change(function(){var stepId=$(this).data("step-id");ControlStepManager.updateFormAfterActionSelection(stepId)})},updateFormAfterPageObjectSelection:function(stepId){$("#control_step_action").parent().remove(),$("#control_step_parameterDatas").parent().remove(),$.ajax({type:"POST",url:Routing.generate("app_check_application_test_step_control_step_ajax",{id:stepId}),data:$("#form-control-step").serialize()}).done(function(data){$("#form-control-step").replaceWith($(data.form)),ControlStepManager.triggerFormEventListeners()})},updateFormAfterActionSelection:function(stepId){$("#control_step_parameterDatas").parent().remove(),$.ajax({type:"POST",url:Routing.generate("app_check_application_test_step_control_step_ajax",{id:stepId}),data:$("#form-control-step").serialize()}).done(function(data){data.form&&($("#form-control-step").replaceWith($(data.form)),ControlStepManager.triggerFormEventListeners())})},refreshOrders:function(stepId){$.ajax({type:"POST",url:Routing.generate("app_get_application_test_step_control_step_orders_ajax",{id:stepId})}).done(function(data){jQuery.each(data,function(id,order){$("#control-step-order-"+id).html(order),$("#delete-control-step-"+id).data("order",order)})})}},ExecuteStepManager={init:function(){$("#modal-execute-step").modal({backdrop:"static",show:!1}),$("#add-execute-step").click(function(){var testId=$(this).data("test-id"),startingPageId=$(this).data("starting-page-id");""!==startingPageId?ExecuteStepManager.openAddFormModal(testId):Base.showErrorMessage("Please select a starting page !")}),$("#save-execute-step").click(function(){var testId=$(this).data("test-id");""!==testId&&ExecuteStepManager.save(testId);var stepId=$(this).data("step-id");""!==stepId&&ExecuteStepManager.update(stepId)}),$("[id^=delete-execute-step-]").click(function(){var id=$(this).data("id"),order=$(this).data("order"),testId=$(this).data("test-id");ExecuteStepManager["delete"](id,order,testId)}),$("[id^=edit-execute-step-]").click(function(){var id=$(this).data("id"),testId=$(this).data("test-id");ExecuteStepManager.openEditFormModal(id,testId)})},initItem:function(id){$("#delete-execute-step-"+id).click(function(event){event.preventDefault();var id=$(this).data("id"),order=$(this).data("order"),testId=$(this).data("test-id");ExecuteStepManager["delete"](id,order,testId)}).tooltip(),$("#add-control-step-step-"+id).click(function(event){event.preventDefault();var stepId=$(this).data("step-id");ControlStepManager.openAddFormModal(stepId)}).tooltip(),$("#edit-execute-step-"+id).click(function(event){event.preventDefault();var id=$(this).data("id"),testId=$(this).data("test-id");ExecuteStepManager.openEditFormModal(id,testId)}).tooltip(),$("#control-step-rows-"+id).filter("[id^=delete-control-step-]").click(function(event){event.preventDefault();var id=$(this).data("id"),order=$(this).data("order"),stepId=$(this).data("step-id"),stepOrder=$(this).data("step-order");ControlStepManager["delete"](id,order,stepId,stepOrder)}).tooltip(),$("#control-step-rows-"+id).filter("[id^=edit-control-step-]").click(function(event){event.preventDefault();var id=$(this).data("id"),stepId=$(this).data("step-id");ControlStepManager.openEditFormModal(id,stepId)}).tooltip()},resetForm:function(){$("#execute_step_action").parent().remove(),$("#execute_step_parameterDatas").parent().remove(),$("#execute_step_object").val($("#execute_step_object option:first").val())},openAddFormModal:function(testId){$.ajax({type:"POST",url:Routing.generate("app_get_application_test_step_form_ajax",{testId:testId})}).done(function(data){$("#save-execute-step").data("step-id",""),$("#save-execute-step").data("test-id",testId),$("#modal-execute-step-body").html(data.form),$("#modal-execute-step-title").html(data.modalTitle),$("#modal-execute-step").modal("show"),ExecuteStepManager.triggerFormEventListeners()})},openEditFormModal:function(id,testId){$.ajax({type:"POST",url:Routing.generate("app_get_application_test_step_form_ajax",{id:id,testId:testId})}).done(function(data){$("#save-execute-step").data("test-id",""),$("#save-execute-step").data("step-id",id),$("#modal-execute-step-body").html(data.form),$("#modal-execute-step-title").html(data.modalTitle),$("#modal-execute-step").modal("show"),ExecuteStepManager.triggerFormEventListeners()})},closeFormModal:function(){$("#modal-execute-step").modal("hide")},add:function(id,row){$(row).appendTo($("#step-rows")),ExecuteStepManager.initItem(id)},remove:function(id,testId){$("#step-row-"+id).css("visibility","hidden").animate({height:0,width:0},300,function(){$(this).remove(),ExecuteStepManager.refreshOrders(testId),TestEditor.refreshBehatScenario(testId)})},refresh:function(id,row){$("#step-row-"+id).replaceWith($(row)),ExecuteStepManager.initItem(id)},save:function(testId){$.ajax({type:"POST",url:Routing.generate("app_add_application_test_execute_step_ajax",{id:testId}),data:$("#form-execute-step").serialize()}).done(function(data){data.form?($("#form-execute-step").replaceWith($(data.form)),ExecuteStepManager.triggerFormEventListeners()):(ExecuteStepManager.add(data.id,data.row),ExecuteStepManager.closeFormModal(),ExecuteStepManager.resetForm(),TestEditor.refreshBehatScenario(testId),Base.showSuccessMessage("Step added with success !"))})},update:function(id){$.ajax({type:"POST",url:Routing.generate("app_update_application_test_execute_step_ajax",{id:id}),data:$("#form-execute-step").serialize()}).done(function(data){data.form?($("#form-execute-step").replaceWith($(data.form)),ExecuteStepManager.triggerFormEventListeners()):(ExecuteStepManager.refresh(data.id,data.row),ExecuteStepManager.closeFormModal(),ExecuteStepManager.resetForm(),TestEditor.refreshBehatScenario(data.testId),Base.showSuccessMessage("Step updated with success !"))})},updateOrders:function(testId,steps){$.ajax({url:Routing.generate("app_update_application_test_execute_step_orders_ajax"),method:"POST",data:{steps:steps}}).done(function(data){jQuery.each(data.stepsAndOrders,function(id,order){$("#step-order-"+id).html(order),$("#delete-execute-step-"+id).data("order",order),$("#step-right-"+id).find("[id^=delete-control-step-]").data("step-order",order)}),TestEditor.refreshBehatScenario(testId)})},"delete":function(id,order,testId){swal({title:"Delete step #"+order+" ?",text:"You will not be able to recover this step !",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it !",closeOnConfirm:!1},function(){$.ajax({type:"POST",url:Routing.generate("app_delete_application_test_execute_step_ajax",{id:id})}).done(function(data){if(data.error){var message="Step #"+order+" not deleted !\n"+data.error;Base.showErrorMessage(message)}else ExecuteStepManager.remove(id,testId),Base.showSuccessMessage("Step deleted with success !")})})},triggerFormEventListeners:function(){$("#execute_step_object").change(function(){var testId=$(this).data("test-id");ExecuteStepManager.updateFormAfterObjectSelection(testId)}),$("#execute_step_action").change(function(){var testId=$(this).data("test-id");ExecuteStepManager.updateFormAfterActionSelection(testId)}),$("#execute_step_businessStep").change(function(){var testId=$(this).data("test-id");ExecuteStepManager.updateFormAfterBusinessStepSelection(testId)})},updateFormAfterObjectSelection:function(testId){$("#execute_step_action").parent().remove(),$("#execute_step_parameterDatas").parent().remove(),$.ajax({type:"POST",url:Routing.generate("app_check_application_test_execute_step_ajax",{id:testId}),data:$("#form-execute-step").serialize()}).done(function(data){data.form&&($("#form-execute-step").replaceWith($(data.form)),ExecuteStepManager.triggerFormEventListeners())})},updateFormAfterActionSelection:function(testId){$("#execute_step_parameterDatas").parent().remove(),$.ajax({type:"POST",url:Routing.generate("app_check_application_test_execute_step_ajax",{id:testId}),data:$("#form-execute-step").serialize()}).done(function(data){data.form&&($("#form-execute-step").replaceWith($(data.form)),ExecuteStepManager.triggerFormEventListeners())})},updateFormAfterBusinessStepSelection:function(testId){$("#execute_step_parameterDatas").parent().remove(),$.ajax({type:"POST",url:Routing.generate("app_check_application_test_execute_step_ajax",{id:testId}),data:$("#form-execute-step").serialize()}).done(function(data){data.form&&($("#form-execute-step").replaceWith($(data.form)),ExecuteStepManager.triggerFormEventListeners())})},refreshOrders:function(testId){$.ajax({type:"POST",url:Routing.generate("app_get_application_test_execute_step_orders_ajax",{id:testId})}).done(function(data){jQuery.each(data,function(id,order){$("#step-order-"+id).html(order),$("#delete-execute-step-"+id).data("order",order),$("#step-right-"+id).find("[id^=delete-control-step-]").data("step-order",order)})})}},ExecutionServerManager={init:function(){$("#modal-add-execution-server").modal({backdrop:"static",show:!1}),$("#add-execution-server").click(function(){$("#modal-add-execution-server").modal("show")}),$("#save-execution-server").click(function(){ExecutionServerManager.save()}),$("[id^=delete-execution-server-]").click(function(){var id=$(this).data("id"),name=$(this).data("name");ExecutionServerManager["delete"](id,name)})},initItem:function(id){$("#open-execution-server-"+id).tooltip(),$("#delete-execution-server-"+id).click(function(event){event.preventDefault();var id=$(this).data("id"),name=$(this).data("name");ExecutionServerManager["delete"](id,name)}).tooltip()},initEditableData:function(serverId){$("#name").editable({success:function(response){$("#breadcrumb-active-item").html(response)},error:function(response){Base.showErrorMessage(response.responseText)}}),$("#description").editable({emptytext:"Add description"}),$("#server").editable({value:serverId,emptytext:"Select a server"}),$("#art-runner-path").editable()},resetAddForm:function(){$("#form-add-execution-server")[0].reset()},closeAddFormModal:function(){$("#modal-add-execution-server").modal("hide")},refreshSummary:function(){var count=ExecutionServerManager.getCount(),subtitle="There ";subtitle+=1>=count?"is ":"are ",subtitle+=0===count?"no ":'<span class="badge">'+count+"</span>",subtitle+=" execution server"+(count>1?"s":""),$("#execution-servers-count").html(subtitle)},getCount:function(){return $("[id^=panel-execution-server-]").length},add:function(panel){$("#execution-servers-row").prepend(panel)},remove:function(id){$("#panel-execution-server-"+id).css("visibility","hidden").animate({height:0,width:0},300,function(){var container=$(this).parent();$(this).remove(),container.remove(),ExecutionServerManager.refreshSummary()})},save:function(){$.ajax({type:"POST",url:Routing.generate("app_add_configuration_execution_server_ajax"),data:$("#form-add-execution-server").serialize()}).done(function(data){if(data.error){var message="Execution server not added !\n"+data.error;
Base.showErrorMessage(message)}else{var executionServer=data.executionServer,id=executionServer.id,name=executionServer.name,panel=data.panel;ExecutionServerManager.add(panel),ExecutionServerManager.initItem(id),ExecutionServerManager.refreshSummary(),ExecutionServerManager.resetAddForm(),ExecutionServerManager.closeAddFormModal();var message=name+" added !";Base.showSuccessMessage(message)}})},"delete":function(id,name){swal({title:"Delete "+name+" ?",text:"You will not be able to recover this execution server !",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it !",closeOnConfirm:!1},function(){$.ajax({type:"POST",url:Routing.generate("app_delete_configuration_execution_server_ajax",{id:id})}).done(function(data){if(data.error){var message="Execution server not deleted !\n"+data.error;Base.showErrorMessage(message)}else{ExecutionServerManager.remove(id);var message=name+" deleted !";Base.showSuccessMessage(message)}})})}},ObjectManager={init:function(){$("#modal-add-object").modal({backdrop:"static",show:!1}),$("#add-object").click(function(){var pageId=$(this).data("page-id"),pageName=$(this).data("page-name"),pageDescription=$(this).data("page-description");ObjectManager.openAddFormModal(pageId,pageName,pageDescription)}),$("#save-object").click(function(){var pageId=$(this).data("page-id"),pageName=$(this).data("page-name");ObjectManager.save(pageId,pageName)})},initEditableData:function(objectMapId){$("#object-type").editable({emptytext:"Select a type",success:function(response){ObjectMapManager.hideTree(objectMapId),ObjectMapManager.refreshTreeWithSelectedObject(response.objectId),ObjectMapManager.refreshObjectTypeIcon(response.objectTypeIcon)}}),$("#object-identifier-type").editable({emptytext:"Select a type"}),$("#object-identifier-value").editable({emptytext:"Enter a value",error:function(response){Base.showErrorMessage(response.responseText)}})},updateEditableData:function(object){var id=object.id,name=object.name,description=object.description,type=object.objectType,identifier=object.objectIdentifier,identifierType=null;null!==identifier&&(identifierType=identifier.objectIdentifierType),$("#object-icon").removeClass().addClass(object.objectType.icon),$("#object-name").editable("option","pk",id),$("#object-name").editable("option","url",Routing.generate("app_application_object_map_page_update_object_name_ajax",{id:id})),$("#object-description").editable("option","pk",id),$("#object-description").editable("option","url",Routing.generate("app_application_object_map_page_update_object_description_ajax",{id:id})),$("#object-type").editable("option","pk",id),$("#object-type").editable("option","url",Routing.generate("app_application_object_map_page_update_object_type_ajax",{id:id})),$("#object-identifier-type").editable("option","pk",id),$("#object-identifier-type").editable("option","url",Routing.generate("app_application_object_map_page_update_object_identifier_type_ajax",{id:id})),$("#object-identifier-value").editable("option","pk",id),$("#object-identifier-value").editable("option","url",Routing.generate("app_application_object_map_page_update_object_identifier_value_ajax",{id:id})),$("#object-name").editable("setValue",name,!1),$("#object-description").editable("setValue",description,!1),$("#object-type").editable("setValue",type.id,!1),null!==identifier?($("#object-identifier-value").editable("setValue",identifier.value,!1),null!==identifierType?$("#object-identifier-type").editable("setValue",identifierType.id,!1):$("#object-identifier-type").editable("setValue","",!1)):($("#object-identifier-type").editable("setValue","",!1),$("#object-identifier-value").editable("setValue","",!1))},resetAddForm:function(){$("#form-add-object")[0].reset()},openAddFormModal:function(pageId,pageName,pageDescription){pageId?($("#new-object-page-name").html(pageName),$("#new-object-page-description").html(pageDescription),$("#save-object").data("page-id",pageId),$("#save-object").data("page-name",pageName),$("#save-object").data("page-description",pageDescription),$("#modal-add-object").modal("show")):Base.showErrorMessage("Please select a page !")},closeAddFormModal:function(){$("#modal-add-object").modal("hide")},save:function(pageId,pageName){$.ajax({type:"POST",url:Routing.generate("app_add_application_object_map_page_object_ajax",{id:pageId}),data:$("#form-add-object").serialize()}).done(function(data){if(data.error){var message="Object not added !\n"+data.error;Base.showErrorMessage(message)}else{var name=data.name,objectsCount=data.objectsCount,objectMapId=data.objectMapId,objectMapTreeCssSelector=ObjectMapManager.getTreeCssSelector(objectMapId);ObjectMapManager.hideTree(objectMapId),ObjectMapManager.tree(objectMapId,objectMapTreeCssSelector,data.treeObjectMap,!0),TreeManager.collapse(objectMapTreeCssSelector);var selectedNode=$(objectMapTreeCssSelector).treeview("getSelected")[0];TreeManager.revealNode(objectMapTreeCssSelector,selectedNode),TreeManager.expandNode(objectMapTreeCssSelector,selectedNode),ObjectMapManager.showTree(objectMapId),ObjectMapManager.showObjectProperties(selectedNode),ObjectMapManager.refreshObjectMapObjectSummary(objectMapId,objectsCount),ObjectManager.resetAddForm(),ObjectManager.closeAddFormModal();var message=name+" added to "+pageName+" !";Base.showSuccessMessage(message)}})},setAddButtonDataAttributes:function(pageId,pageName,pageDescription){$("#add-object").data("page-id",pageId),$("#add-object").data("page-name",pageName),$("#add-object").data("page-description",pageDescription)},unsetAddButtonDataAttributes:function(){$("#add-object").removeData("page-id"),$("#add-object").removeData("page-name"),$("#add-object").removeData("page-description")},showTypeBlock:function(){$("#object-type-block").show()},hideTypeBlock:function(){$("#object-type-block").hide()},showIdentifierBlock:function(){$("#object-identifier-block").show()},hideIdentifierBlock:function(){$("#object-identifier-block").hide()},showProperties:function(id){PageManager.hideTypeBlock(),PageManager.hidePathBlock(),ObjectManager.showTypeBlock(),ObjectManager.showIdentifierBlock(),$.ajax({type:"POST",url:Routing.generate("app_application_get_object_map_page_object_ajax",{id:id})}).done(function(data){ObjectMapManager.hideObjectPropertiesLoader();var object=data.object;ObjectManager.updateEditableData(object)})}},ObjectMapManager={init:function(){$("#modal-add-object-map").modal({backdrop:"static",show:!1}),$("#add-object-map").click(function(){ObjectMapManager.openAddFormModal()}),$("#save-object-map").click(function(){var applicationId=$(this).data("application-id");ObjectMapManager.save(applicationId)}),$("[id^=delete-object-map-]").click(function(){var id=$(this).data("id"),name=$(this).data("name");ObjectMapManager["delete"](id,name)}),$("#delete-checked-objects").click(function(){var objectMapId=$(this).data("object-map-id");ObjectMapManager.deleteCheckedObjects(objectMapId)})},initItem:function(id,name){$("#open-object-map-"+id).tooltip(),$("#delete-object-map-"+id).click(function(event){event.preventDefault(),id=$(this).data("id"),name=$(this).data("name"),ObjectMapManager["delete"](id,name)}).tooltip()},initEditableData:function(id){$("#name").editable({success:function(response){$("#breadcrumb-active-item").html(response)},error:function(response){Base.showErrorMessage(response.responseText)}}),$("#description").editable({emptytext:"Add description"}),$("#object-name").editable({error:function(response){Base.showErrorMessage(response.responseText)},success:function(response,newValue){switch(ObjectMapManager.hideTree(id),response.objectType){case"page":ObjectMapManager.refreshTreeWithSelectedPage(response.pageId),$("#add-object").data("page-name",newValue);break;case"object":ObjectMapManager.refreshTreeWithSelectedObject(response.objectId)}}}),$("#object-description").editable({emptytext:"Add description",defaultValue:"",success:function(response,newValue){switch(ObjectMapManager.hideTree(id),response.objectType){case"page":ObjectMapManager.refreshTreeWithSelectedPage(response.pageId),$("#add-object").data("page-description",newValue);break;case"object":ObjectMapManager.refreshTreeWithSelectedObject(response.objectId)}}})},refresh:function(id,collapse,checkbox){$.ajax({type:"POST",url:Routing.generate("app_application_get_object_map_tree_ajax",{id:id})}).done(function(data){jQuery.each(data,function(treeCssSelector,treeData){ObjectMapManager.refreshTree(id,"#"+treeCssSelector,treeData,collapse,checkbox)})})},refreshAll:function(applicationId,collapse,checkbox){$.ajax({type:"POST",url:Routing.generate("app_application_get_object_map_trees_ajax",{id:applicationId})}).done(function(data){jQuery.each(data,function(treeCssSelector,treeData){var id=treeCssSelector.substring(treeCssSelector.lastIndexOf("-")+1);ObjectMapManager.refreshTree(id,"#"+treeCssSelector,treeData,collapse,checkbox)})})},resetAddForm:function(){$("#form-add-object-map")[0].reset()},openAddFormModal:function(){$("#modal-add-object-map").modal("show")},closeAddFormModal:function(){$("#modal-add-object-map").modal("hide")},refreshSummary:function(){var count=ObjectMapManager.getCount(),subtitle="There ";subtitle+=1>=count?"is ":"are ",subtitle+=0===count?"no ":'<span class="badge">'+count+"</span>",subtitle+=" object map"+(count>1?"s":""),$("#object-maps-count").html(subtitle)},refreshObjectMapPageSummary:function(id,count){var subtitle="There ";subtitle+=1>=count?"is ":"are ",subtitle+=0===count?"no ":'<span class="badge">'+count+"</span>",subtitle+=" page"+(count>1?"s":"")+" in the object map",$("#page-count-"+id).html(subtitle)},refreshObjectMapObjectSummary:function(id,count){var subtitle="There ";subtitle+=1>=count?"is ":"are ",subtitle+=0===count?"no ":'<span class="badge">'+count+"</span>",subtitle+=" object"+(count>1?"s":"")+" in the object map",$("#object-count-"+id).html(subtitle)},getCount:function(){return $("[id^=panel-object-map-]").length},add:function(panel){$("#object-maps-row").prepend(panel)},remove:function(id){$("#panel-object-map-"+id).css("visibility","hidden").animate({height:0,width:0},300,function(){var container=$(this).parent();$(this).remove(),container.remove(),ObjectMapManager.refreshSummary()})},save:function(applicationId){$.ajax({type:"POST",url:Routing.generate("app_add_application_object_map_ajax",{id:applicationId}),data:$("#form-add-object-map").serialize()}).done(function(data){if(data.error){var message="Object map not added !\n"+data.error;Base.showErrorMessage(message)}else{var objectMap=data.objectMap,id=objectMap.id,name=objectMap.name,panel=data.panel;ObjectMapManager.add(panel),ObjectMapManager.hideTreeLoader(id),ObjectMapManager.init(id,name),ObjectMapManager.refreshSummary(),ObjectMapManager.refreshObjectMapPageSummary(id,0),ObjectMapManager.resetAddForm(),ObjectMapManager.closeAddFormModal();var message=name+" added !";Base.showSuccessMessage(message)}})},"delete":function(id,name){swal({title:"Delete "+name+" ?",text:"You will not be able to recover this object map !",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it !",closeOnConfirm:!1},function(){$.ajax({type:"POST",url:Routing.generate("app_delete_application_object_map_ajax",{id:id})}).done(function(data){if(data.error){var message=name+" not deleted !\n"+data.error;Base.showErrorMessage(message)}else{ObjectMapManager.remove(id);var message=name+" deleted !";Base.showSuccessMessage(message)}})})},showObjectPropertiesPanel:function(){$("#panel-body-object-properties").show(),$("#panel-footer-object-properties").show()},hideObjectPropertiesPanel:function(){$("#panel-body-object-properties").hide(),$("#panel-footer-object-properties").hide()},showObjectPropertiesLoader:function(){$("#object-properties-loader").show()},hideObjectPropertiesLoader:function(){$("#object-properties-loader").hide()},showObjectProperties:function(node){if(node){ObjectMapManager.showObjectPropertiesPanel(),ObjectMapManager.showObjectPropertiesLoader();var href=node.href,id=TreeManager.getIdFromNodeHref(href),type=TreeManager.getTypeFromNodeHref(href);switch($("#object-icon").removeClass(),type){case"page":PageManager.showProperties(id);break;case"object":ObjectManager.showProperties(id);break;default:$("#object-icon").removeClass().addClass("fontello-icon-puzzle")}}else ObjectMapManager.hideObjectPropertiesPanel()},refreshObjectTypeIcon:function(icon){$("#object-icon").removeClass().addClass(icon)},refreshCheckedObjectCount:function(id){var treeCssSelector=ObjectMapManager.getTreeCssSelector(id),checkedObjects=$(treeCssSelector).treeview("getChecked"),checkedObjectsCount=checkedObjects.length;$("#checked-objects-count").html(checkedObjectsCount),checkedObjectsCount>0?$("#delete-checked-objects").removeClass("disabled"):$("#delete-checked-objects").addClass("disabled")},deleteCheckedObjects:function(id){var treeCssSelector=ObjectMapManager.getTreeCssSelector(id);swal({title:"Delete selected objects ?",text:"You will not be able to recover them !",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete them !",closeOnConfirm:!1},function(){var objects=$(treeCssSelector).treeview("getChecked");$.ajax({type:"POST",url:Routing.generate("app_application_object_map_objects_delete_ajax",{id:id}),data:{objects:objects,selectedNode:$(treeCssSelector).treeview("getSelected")[0]}}).done(function(data){if(data.error){var message="Selected objects were not deleted !\n"+data.error;Base.showErrorMessage(message)}else{var count=data.count,objectsCount=data.objectsCount,pagesCount=data.pagesCount;ObjectMapManager.hideTree(id),ObjectMapManager.hideObjectPropertiesPanel(),ObjectMapManager.tree(id,treeCssSelector,data.treeObjectMap,!0),TreeManager.collapse(treeCssSelector),ObjectMapManager.showTree(id),ObjectMapManager.refreshObjectMapPageSummary(id,pagesCount),ObjectMapManager.refreshObjectMapObjectSummary(id,objectsCount),ObjectMapManager.refreshCheckedObjectCount(id),ObjectManager.unsetAddButtonDataAttributes(),PageManager.unsetAddButtonDataAttributes();var message="You have deleted "+count+" object"+(count>1?"s":"");Base.showSuccessMessage(message)}})})},tree:function(id,treeCssSelector,data,checkbox){$(treeCssSelector).treeview({data:data,showBorder:!1,showCheckbox:checkbox,onNodeSelected:function(event,node){ObjectMapManager.showObjectProperties(node)},onNodeUnselected:function(){ObjectMapManager.hideObjectPropertiesPanel(),ObjectManager.unsetAddButtonDataAttributes()},onNodeChecked:function(event,node){TreeManager.checkChildNodes(treeCssSelector,node),ObjectMapManager.refreshCheckedObjectCount(id)},onNodeUnchecked:function(event,node){TreeManager.uncheckChildNodes(treeCssSelector,node),TreeManager.uncheckParentNode(treeCssSelector,node),ObjectMapManager.refreshCheckedObjectCount(id)}})},refreshTree:function(id,treeCssSelector,data,collapse,checkbox){ObjectMapManager.tree(id,treeCssSelector,data,checkbox),collapse&&TreeManager.collapse(treeCssSelector);var selectedNode=$(treeCssSelector).treeview("getSelected")[0];TreeManager.revealNode(treeCssSelector,selectedNode),ObjectMapManager.showTree(id)},refreshTreeWithSelectedPage:function(pageId){$.ajax({type:"POST",url:Routing.generate("app_application_get_object_map_tree_with_selected_page_ajax",{id:pageId})}).done(function(data){jQuery.each(data,function(treeCssSelector,treeData){var id=treeCssSelector.substring(treeCssSelector.lastIndexOf("-")+1);ObjectMapManager.refreshTree(id,"#"+treeCssSelector,treeData,!0,!0)})})},refreshTreeWithSelectedObject:function(objectId){$.ajax({type:"POST",url:Routing.generate("app_application_get_object_map_tree_with_selected_object_ajax",{id:objectId})}).done(function(data){jQuery.each(data,function(treeCssSelector,treeData){var id=treeCssSelector.substring(treeCssSelector.lastIndexOf("-")+1);ObjectMapManager.refreshTree(id,"#"+treeCssSelector,treeData,!0,!0)})})},getTreeCssSelector:function(id){return"#tree-object-map-"+id},showTreeLoader:function(id){$(ObjectMapManager.getTreeCssSelector(id)+"-loader").addClass("three-quarters-loader")},hideTreeLoader:function(id){$(ObjectMapManager.getTreeCssSelector(id)+"-loader").removeClass("three-quarters-loader")},showTree:function(id){var treeCssSelector=ObjectMapManager.getTreeCssSelector(id);ObjectMapManager.hideTreeLoader(id),$(treeCssSelector).show()},hideTree:function(id){var treeCssSelector=ObjectMapManager.getTreeCssSelector(id);ObjectMapManager.showTreeLoader(id),$(treeCssSelector).hide()}},PageManager={init:function(){$("#modal-add-page").modal({backdrop:"static",show:!1}),$("[id^=add-page-]").click(function(){var objectMapId=$(this).data("object-map-id"),objectMapName=$(this).data("object-map-name"),objectMapDescription=$(this).data("object-map-description");PageManager.openAddFormModal(objectMapId,objectMapName,objectMapDescription)}),$("#save-page").click(function(){var objectMapId=$(this).data("object-map-id"),objectMapName=$(this).data("object-map-name");PageManager.save(objectMapId,objectMapName)})},initEditableData:function(objectMapId){$("#page-type").editable({emptytext:"Select a type",success:function(response,newValue){ObjectMapManager.hideTree(objectMapId),ObjectMapManager.refreshTreeWithSelectedPage(response.pageId),ObjectMapManager.refreshObjectTypeIcon(response.pageTypeIcon),$("#add-object").data("page-name",newValue)}}),$("#page-path").editable({emptytext:"Add path",defaultValue:""})},updateEditableData:function(page){var id=page.id,name=page.name,description=page.description,type=page.pageType,path=page.path;$("#object-icon").removeClass().addClass(type.icon),$("#object-name").editable("option","pk",id),$("#object-name").editable("option","url",Routing.generate("app_application_object_map_update_page_name_ajax",{id:id})),$("#object-description").editable("option","pk",id),$("#object-description").editable("option","url",Routing.generate("app_application_object_map_update_page_description_ajax",{id:id})),$("#page-type").editable("option","pk",id),$("#page-type").editable("option","url",Routing.generate("app_application_object_map_update_page_type_ajax",{id:id})),$("#page-path").editable("option","pk",id),$("#page-path").editable("option","url",Routing.generate("app_application_object_map_update_page_path_ajax",{id:id})),$("#object-name").editable("setValue",name,!1),$("#object-description").editable("setValue",description,!1),$("#page-type").editable("setValue",type.id,!1),$("#page-path").editable("setValue",path,!1)},resetAddForm:function(){$("#form-add-page")[0].reset()},openAddFormModal:function(objectMapId,objectMapName,objectMapDescription){$("#new-page-object-map-name").html(objectMapName),$("#save-page").data("object-map-id",objectMapId),$("#save-page").data("object-map-name",objectMapName),$("#new-page-object-map-description").html(objectMapDescription),$("#save-page").data("object-map-description",objectMapDescription),$("#modal-add-page").modal("show")},closeAddFormModal:function(){$("#modal-add-page").modal("hide")},getParentPageId:function(selectedPage){var parentPageId=-1;if(1===selectedPage.length){var parentPage=selectedPage[0],href=parentPage.href,id=href.substring(href.lastIndexOf("-")+1),type=href.substring(href.indexOf("-")+1,href.lastIndexOf("-"));"page"===type&&(parentPageId=id)}return parentPageId},save:function(objectMapId,objectMapName){var objectMapTreeCssSelector=ObjectMapManager.getTreeCssSelector(objectMapId),selectedPage=$(objectMapTreeCssSelector).treeview("getSelected"),parentPageId=PageManager.getParentPageId(selectedPage);$.ajax({type:"POST",url:Routing.generate("app_add_application_object_map_page_ajax",{id:objectMapId,parentId:parentPageId}),data:$("#form-add-page").serialize()}).done(function(data){if(data.error){var message="Page not added !\n"+data.error;Base.showErrorMessage(message)}else{var name=data.name,pagesCount=data.pagesCount;ObjectMapManager.hideTree(objectMapId),ObjectMapManager.tree(objectMapId,objectMapTreeCssSelector,data.treeObjectMap,!0),TreeManager.collapse(objectMapTreeCssSelector);var selectedNode=$(objectMapTreeCssSelector).treeview("getSelected")[0];TreeManager.revealNode(objectMapTreeCssSelector,selectedNode),TreeManager.expandNode(objectMapTreeCssSelector,selectedNode),ObjectMapManager.showTree(objectMapId),ObjectMapManager.showObjectProperties(selectedNode),ObjectMapManager.refreshObjectMapPageSummary(objectMapId,pagesCount),PageManager.resetAddForm(),PageManager.closeAddFormModal();var message=name+" added to "+objectMapName+" !";Base.showSuccessMessage(message)}})},setAddButtonDataAttributes:function(objectMapId,objectMapName,objectMapDescription){$("#add-page").data("object-map-id",objectMapId),$("#add-page").data("object-map-name",objectMapName),$("#add-page").data("object-map-description",objectMapDescription)},unsetAddButtonDataAttributes:function(){$("#add-page").removeData("object-map-id"),$("#add-page").removeData("object-map-name"),$("#add-page").removeData("object-map-description")},showTypeBlock:function(){$("#page-type-block").show()},hideTypeBlock:function(){$("#page-type-block").hide()},showPathBlock:function(){$("#page-path-block").show()},hidePathBlock:function(){$("#page-path-block").hide()},showProperties:function(id){ObjectManager.hideTypeBlock(),ObjectManager.hideIdentifierBlock(),PageManager.showTypeBlock(),PageManager.showPathBlock(),$.ajax({type:"POST",url:Routing.generate("app_application_get_object_map_page_ajax",{id:id})}).done(function(data){ObjectMapManager.hideObjectPropertiesLoader();var page=data.page;PageManager.updateEditableData(page),ObjectManager.setAddButtonDataAttributes(id,page.name,page.description)})}},PrerequisiteManager={init:function(){$("#modal-prerequisite").modal({backdrop:"static",show:!1}),$("#add-prerequisite").click(function(){var testId=$(this).data("test-id");PrerequisiteManager.openAddFormModal(testId)}),$("#save-prerequisite").click(function(){var testId=$(this).data("test-id");PrerequisiteManager.save(testId)}),$("[id^=delete-prerequisite-]").click(function(){var id=$(this).data("id"),name=$(this).data("name");PrerequisiteManager["delete"](id,name)})},initItem:function(id){$("#delete-prerequisite-"+id).click(function(event){event.preventDefault();var id=$(this).data("id"),name=$(this).data("name");PrerequisiteManager["delete"](id,name)}).tooltip()},resetAddForm:function(){$("#form-prerequisite")[0].reset(),$("#prerequisite_test").val($("#prerequisite_test option:first").val())},openAddFormModal:function(testId){$.ajax({type:"POST",url:Routing.generate("app_get_application_test_prerequisite_form_ajax",{id:testId})}).done(function(data){$("#save-prerequisite").data("test-id",testId),$("#modal-prerequisite-body").html(data.form),$("#modal-prerequisite").modal("show")})},closeAddFormModal:function(){$("#modal-prerequisite").modal("hide")},refreshSummary:function(){var count=$("[id^=item-prerequisite-]").length;$("#prerequisites-count").html(count),0===count&&TestEditor.enableStartingPageSelection()},add:function(id,li){$(li).insertBefore($("#add-prerequisite").parent()),PrerequisiteManager.initItem(id)},remove:function(id,testId,startingPage,resetStartingPage){$("#item-prerequisite-"+id).css("visibility","hidden").animate({height:0,width:0},300,function(){$(this).remove(),PrerequisiteManager.refreshSummary(),updatePrerequisitesOrders(testId),startingPage?$("#starting-page-name").html(startingPage.name):resetStartingPage&&TestEditor.resetStartingPage(),TestEditor.refreshBehatScenario(testId)})},save:function(testId){$.ajax({type:"POST",url:Routing.generate("app_add_application_test_prerequisite_ajax",{id:testId}),data:$("#form-prerequisite").serialize()}).done(function(data){data.form?$("#form-prerequisite").replaceWith($(data.form)):(PrerequisiteManager.add(data.id,data.li),PrerequisiteManager.resetAddForm(),PrerequisiteManager.closeAddFormModal(),PrerequisiteManager.refreshSummary(),data.resetStartingPage?TestEditor.resetStartingPage():($("#starting-page-name").html(data.startingPage.name),TestEditor.disableStartingPageSelection()),TestEditor.refreshBehatScenario(testId))})},"delete":function(id,name){swal({title:"Delete prerequisite "+name+" ?",text:"You will not be able to recover this prerequisite !",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it !",closeOnConfirm:!1},function(){$.ajax({type:"POST",url:Routing.generate("app_delete_application_test_prerequisite_ajax",{id:id})}).done(function(data){if(data.error){var message="Prerequisite "+name+" not deleted !\n"+data.error;Base.showErrorMessage(message)}else{var testId=data.testId,startingPage=data.startingPage,resetStartingPage=data.resetStartingPage;PrerequisiteManager.remove(id,testId,startingPage,resetStartingPage),Base.showSuccessMessage("Prerequisite deleted with success !")}})})}},ProjectManager={init:function(){$("#modal-add-project").modal({backdrop:"static",show:!1}),$("#add-project").click(function(){$("#modal-add-project").modal("show")}),$("#save-project").click(function(){ProjectManager.save()}),$("[id^=delete-project-]").click(function(){var id=$(this).data("id"),name=$(this).data("name");ProjectManager["delete"](id,name)}),$("table").filter("[id^=applications-]").dataTable({searching:!1,paging:!1,info:!1,order:[[1,"asc"]],columnDefs:[{orderable:!1,targets:-1}]})},initItem:function(id){$("#open-project-"+id).tooltip(),$("#delete-project-"+id).click(function(event){event.preventDefault();var id=$(this).data("id"),name=$(this).data("name");ProjectManager["delete"](id,name)}).tooltip(),$("#add-application-"+id).click(function(event){event.preventDefault();var projectId=$(this).data("project-id"),projectName=$(this).data("project-name"),projectDescription=$(this).data("project-description");ApplicationManager.openAddFormModal(projectId,projectName,projectDescription)}).tooltip(),ProjectManager.initApplicationsTable(id)},initApplicationsTable:function(id){$("#applications-"+id).dataTable({searching:!1,paging:!1,info:!1,order:[[1,"asc"]],columnDefs:[{orderable:!1,targets:-1}]})},initEditableData:function(){$("#name").editable({success:function(response){$("#breadcrumb-active-item").html(response)},error:function(response){Base.showErrorMessage(response.responseText)}}),$("#description").editable({emptytext:"Add description"})},resetAddForm:function(){$("#form-add-project")[0].reset()},closeAddFormModal:function(){$("#modal-add-project").modal("hide")},refreshSummary:function(){var count=ProjectManager.getCount(),subtitle="There ";subtitle+=1>=count?"is ":"are ",subtitle+=0===count?"no ":'<span class="badge">'+count+"</span>",subtitle+=" project"+(count>1?"s":""),$("#projects-count").html(subtitle)},refreshProjectSummary:function(id){var count=ProjectManager.getApplicationCount(id),subtitle="There ";subtitle+=1>=count?"is ":"are ",subtitle+=0===count?"no ":'<span class="badge">'+count+"</span>",subtitle+=" application"+(count>1?"s":"")+" in the project",$("#application-count-"+id).html(subtitle),0===count&&ProjectManager.hideApplicationTable(id)},getCount:function(){return $("[id^=panel-project-]").length},getApplicationCount:function(id){var table=$("#applications-"+id).DataTable();return table.data().length},add:function(panel){$("#projects-row").prepend(panel)},remove:function(id){$("#panel-project-"+id).css("visibility","hidden").animate({height:0,width:0},300,function(){var container=$(this).parent();$(this).remove(),container.remove(),ProjectManager.refreshSummary()})},save:function(){$.ajax({type:"POST",url:Routing.generate("app_add_project_ajax"),data:$("#form-add-project").serialize()}).done(function(data){if(data.error){var message="Project not added !\n"+data.error;Base.showErrorMessage(message)}else{var project=data.project,id=project.id,name=project.name,panel=data.panel;ProjectManager.add(panel),ProjectManager.initItem(id),ProjectManager.refreshProjectSummary(id),ProjectManager.refreshSummary(),ProjectManager.resetAddForm(),ProjectManager.closeAddFormModal();var message=name+" added !";Base.showSuccessMessage(message)}})},"delete":function(id,name){swal({title:"Delete "+name+" ?",text:"You will not be able to recover this project !",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it !",closeOnConfirm:!1},function(){$.ajax({type:"POST",url:Routing.generate("app_delete_project_ajax",{id:id})}).done(function(data){if(data.error){var message=name+" not deleted !\n"+data.error;Base.showErrorMessage(message)}else{ProjectManager.remove(id);var message=name+" deleted !";Base.showSuccessMessage(message)}})})},showApplicationTable:function(id){$("#applications-"+id).show()},hideApplicationTable:function(id){$("#applications-"+id).hide()}},ServerManager={init:function(){$("#modal-add-server").modal({backdrop:"static",show:!1}),$("#add-server").click(function(){$("#modal-add-server").modal("show")}),$("#save-server").click(function(){ServerManager.save()}),$("[id^=delete-server-]").click(function(){var id=$(this).data("id"),name=$(this).data("name");ServerManager["delete"](id,name)}),$("[id^=check-connection-server-]").click(function(){var id=$(this).data("id");ServerManager.checkConnection(id)})},initItem:function(id){$("#open-server-"+id).tooltip(),$("#delete-server-"+id).click(function(event){event.preventDefault();var id=$(this).data("id"),name=$(this).data("name");ServerManager["delete"](id,name)}).tooltip()},initEditableData:function(){$("#name").editable({success:function(response){$("#breadcrumb-active-item").html(response)},error:function(response){Base.showErrorMessage(response.responseText)}}),$("#description").editable({emptytext:"Add description"}),$("#host").editable({success:function(response){$("#breadcrumb-active-item").html(response)}}),$("#port").editable(),$("#username").editable(),$("#password").editable()},resetAddForm:function(){$("#form-add-server")[0].reset()},closeAddFormModal:function(){$("#modal-add-server").modal("hide")},refreshSummary:function(){var count=ServerManager.getCount(),subtitle="There ";subtitle+=1>=count?"is ":"are ",subtitle+=0===count?"no ":'<span class="badge">'+count+"</span>",subtitle+=" server"+(count>1?"s":""),$("#servers-count").html(subtitle)},getCount:function(){return $("[id^=panel-server-]").length},add:function(panel){$("#servers-row").prepend(panel)},remove:function(id){$("#panel-server-"+id).css("visibility","hidden").animate({height:0,width:0},300,function(){var container=$(this).parent();$(this).remove(),container.remove(),ServerManager.refreshSummary()})},save:function(){$.ajax({type:"POST",url:Routing.generate("app_add_configuration_server_ajax"),data:$("#form-add-server").serialize()}).done(function(data){if(data.error){var message="Server not added !\n"+data.error;Base.showErrorMessage(message)}else{var server=data.server,id=server.id,name=server.name,panel=data.panel;ServerManager.add(panel),ServerManager.initItem(id),ServerManager.refreshSummary(),ServerManager.resetAddForm(),ServerManager.closeAddFormModal();var message=name+" added !";Base.showSuccessMessage(message)}})},"delete":function(id,name){swal({title:"Delete "+name+" ?",text:"You will not be able to recover this server !",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it !",closeOnConfirm:!1},function(){$.ajax({type:"POST",url:Routing.generate("app_delete_configuration_server_ajax",{id:id})}).done(function(data){if(data.error){var message="Server not deleted !\n"+data.error;Base.showErrorMessage(message)}else{ServerManager.remove(id);var message=name+" deleted !";Base.showSuccessMessage(message)}})})},checkConnection:function(id){$.ajax({type:"POST",url:Routing.generate("app_index_configuration_server_check_connection_ajax",{id:id})}).done(function(data){Base.showInfoMessage(data.result)})}},TestEditor={init:function(){ExecuteStepManager.init(),ControlStepManager.init(),PrerequisiteManager.init()},initItem:function(testId,prerequisiteCount){$("#form_startingPage").change(function(){var pageId=$(this).val();if(""!==pageId){var pageName=$(this).find("option:selected").text();
$("#add-execute-step").data("starting-page-id",pageId),TestEditor.updateStartingPage(testId,pageId,pageName)}}),$("#prerequisites-collapse").on("shown.bs.collapse",function(){$(".prerequisites-collapse-toggle-icon").removeClass("fontello-icon-down-open").addClass("fontello-icon-up-open")}),$("#prerequisites-collapse").on("hidden.bs.collapse",function(){$(".prerequisites-collapse-toggle-icon").removeClass("fontello-icon-up-open").addClass("fontello-icon-down-open")}),$("#starting-page-collapse").on("shown.bs.collapse",function(){$(".starting-page-collapse-toggle-icon").removeClass("fontello-icon-down-open").addClass("fontello-icon-up-open")}),$("#starting-page-collapse").on("hidden.bs.collapse",function(){$(".starting-page-collapse-toggle-icon").removeClass("fontello-icon-up-open").addClass("fontello-icon-down-open")}),$("#scenario-collapse").on("shown.bs.collapse",function(){$(".scenario-collapse-toggle-icon").removeClass("fontello-icon-down-open").addClass("fontello-icon-up-open")}),$("#scenario-collapse").on("hidden.bs.collapse",function(){$(".scenario-collapse-toggle-icon").removeClass("fontello-icon-up-open").addClass("fontello-icon-down-open")}),prerequisiteCount>0&&TestEditor.disableStartingPageSelection(),$("#step-rows").sortable({update:function(){var steps=$(this).sortable("toArray",{attribute:"data-id"}).toString();ExecuteStepManager.updateOrders(testId,steps)}}).disableSelection(),$("[id^=control-step-rows-]").sortable({update:function(){var steps=$(this).sortable("toArray",{attribute:"data-id"}).toString();ControlStepManager.updateOrders(testId,steps)}}).disableSelection()},resetStartingPage:function(){$("#starting-page-name").text(""),$("#form_startingPage").val($("#form_startingPage option:first").val())},updateStartingPage:function(testId,pageId,pageName){$.ajax({type:"POST",url:Routing.generate("app_application_test_update_starting_page_ajax",{id:testId}),data:{pageId:pageId}}).done(function(data){if(data.error){var message="Starting page not updated !\n"+data.error;Base.showErrorMessage(message)}else $("#starting-page-name").html(pageName),TestEditor.refreshBehatScenario(testId)})},enableStartingPageSelection:function(){$("#form_startingPage").show(),$(".starting-page-collapse-toggle-icon").show()},disableStartingPageSelection:function(){$("#form_startingPage").hide(),$(".starting-page-collapse-toggle-icon").hide()},refreshBehatScenario:function(testId){$.ajax({type:"POST",url:Routing.generate("app_get_application_test_behat_scenario_ajax",{id:testId})}).done(function(data){$("#behat-scenario").html(data.scenario)})}},TestFolderManager={init:function(){$("#modal-add-test-folder").modal({backdrop:"static",show:!1}),$("#add-test-folder").click(function(){$("#modal-add-test-folder").modal("show")}),$("#save-test-folder").click(function(){var applicationId=$(this).data("application-id");TestFolderManager.save(applicationId)})},updateEditableData:function(folder){var id=folder.id,name=folder.name,description=folder.description,createdAt=folder.createdAt;$("#entity-name").editable("option","pk",id),$("#entity-name").editable("option","url",Routing.generate("app_application_test_folder_update_name_ajax",{id:id})),$("#entity-description").editable("option","pk",id),$("#entity-description").editable("option","url",Routing.generate("app_application_test_folder_update_description_ajax",{id:id})),$("#entity-name").editable("setValue",name,!1),$("#entity-description").editable("setValue",description,!1),$("#entity-creation-date").html(createdAt)},resetAddForm:function(){$("#form-add-test-folder")[0].reset()},closeAddFormModal:function(){$("#modal-add-test-folder").modal("hide")},getParentFolderId:function(selectedFolder){var parentFolderId=-1;if(1===selectedFolder.length){var parentFolder=selectedFolder[0],href=parentFolder.href,id=href.substring(href.lastIndexOf("-")+1),type=href.substring(href.indexOf("-")+1,href.lastIndexOf("-"));"folder"===type&&(parentFolderId=id)}return parentFolderId},save:function(applicationId){var testPlannerTreeCssSelector=TestPlanner.getTreeCssSelector(applicationId),selectedFolder=$(testPlannerTreeCssSelector).treeview("getSelected"),parentFolderId=TestFolderManager.getParentFolderId(selectedFolder);$.ajax({type:"POST",url:Routing.generate("app_add_application_test_folder_ajax",{id:applicationId,parentId:parentFolderId}),data:$("#form-add-test-folder").serialize()}).done(function(data){if(data.error){var message="Scenario folder not added !\n"+data.error;Base.showErrorMessage(message)}else{var name=data.name,foldersCount=data.testFoldersCount;TestPlanner.hideTree(applicationId),TestPlanner.tree(applicationId,testPlannerTreeCssSelector,data.treeTests,!0),TreeManager.collapse(testPlannerTreeCssSelector);var selectedNode=$(testPlannerTreeCssSelector).treeview("getSelected")[0];TreeManager.revealNode(testPlannerTreeCssSelector,selectedNode),TreeManager.expandNode(testPlannerTreeCssSelector,selectedNode),TestPlanner.showTree(applicationId),TestPlanner.showEntityProperties(selectedNode),TestPlanner.refreshTestPlannerFolderSummary(foldersCount),TestFolderManager.resetAddForm(),TestFolderManager.closeAddFormModal();var message=name+" added !";Base.showSuccessMessage(message)}})},showProperties:function(id){TestPlanner.hideEntityActions(),$("#entity-icon").removeClass().addClass("fontello-icon-folder"),$.ajax({type:"POST",url:Routing.generate("app_application_get_test_folder_ajax",{id:id})}).done(function(data){TestPlanner.hideEntityPropertiesLoader();var folder=data.testFolder;TestFolderManager.updateEditableData(folder),TestManager.setAddButtonDataAttributes(id,folder.name,folder.description)})}},TestInstanceManager={init:function(){$("#modal-add-test-instance").modal({backdrop:"static",show:!1}),$("#modal-details-test-instance").modal({backdrop:"static",show:!1}),$("#add-test-instance").click(function(){TestInstanceManager.openAddFormModal()}),$("#save-test-instances").click(function(){var testSetId=$(this).data("test-set-id"),applicationId=$(this).data("application-id");TestInstanceManager.save(testSetId,applicationId)}),$("[id^=delete-test-instance-]").click(function(){var id=$(this).data("id"),name=$(this).data("test-name");TestInstanceManager["delete"](id,name)}),$("[id^=details-test-instance-]").click(function(){var name=$(this).data("test-name"),description=$(this).data("test-description");TestInstanceManager.openDetailsFormModal(name,description)})},initItems:function(){$("[id^=delete-test-instance-]").click(function(event){event.preventDefault();var id=$(this).data("id"),name=$(this).data("test-name");TestInstanceManager["delete"](id,name)}).tooltip(),$("[id^=details-test-instance-]").click(function(event){event.preventDefault();var name=$(this).data("test-name"),description=$(this).data("test-description");TestInstanceManager.openDetailsFormModal(name,description)}).tooltip(),$("#add-test-instance").click(function(event){event.preventDefault(),TestInstanceManager.openAddFormModal()}).tooltip()},openAddFormModal:function(){$("#modal-add-test-instance").modal("show")},closeAddFormModal:function(){$("#modal-add-test-instance").modal("hide")},openDetailsFormModal:function(name,description){$("#test-instance-test-name").html(name),$("#test-instance-test-description").html(description),$("#modal-details-test-instance").modal("show")},save:function(testSetId,applicationId){var testPlannerTreeCssSelector=TestPlanner.getTreeCssSelector(applicationId),objects=$(testPlannerTreeCssSelector).treeview("getChecked");$.ajax({type:"POST",url:Routing.generate("app_add_application_test_set_instances_ajax",{id:testSetId}),data:{objects:objects}}).done(function(data){if(data.error){var message="Scenario instances were not added !\n"+data.error;Base.showErrorMessage(message)}else{var count=data.count;TestSetEditor.updateExecutionGrid(data.executionGrid),TestSetEditor.initExecutionGrid(testSetId),TestSetEditor.refreshBehatFeature(testSetId),TestInstanceManager.closeAddFormModal();var message="You have added "+count+" scenario instance"+(count>1?"s":"");Base.showSuccessMessage(message)}})},"delete":function(id,name){swal({title:"Delete scenario instance "+name+" ?",text:"You will not be able to recover it !",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it !",closeOnConfirm:!1},function(){$.ajax({type:"POST",url:Routing.generate("app_delete_application_test_set_instance_ajax",{id:id})}).done(function(data){if(data.error){var message="Scenario instance was not deleted !\n"+data.error;Base.showErrorMessage(message)}else TestSetEditor.updateExecutionGrid(data.executionGrid),TestSetEditor.initItem(data.testSetId),TestSetEditor.refreshBehatFeature(data.testSetId),Base.showSuccessMessage("Scenario instance deleted !")})})}},TestManager={init:function(){$("#modal-add-test").modal({backdrop:"static",show:!1}),$("#add-test").click(function(){var folderId=$(this).data("test-folder-id"),folderName=$(this).data("test-folder-name"),folderDescription=$(this).data("test-folder-description");TestManager.openAddFormModal(folderId,folderName,folderDescription)}),$("#save-test").click(function(){var folderId=$(this).data("test-folder-id"),folderName=$(this).data("test-folder-name");TestManager.save(folderId,folderName)})},initItem:function(id){$("#edit-entity").attr("href",Routing.generate("app_index_application_test_editor",{id:id}))},updateEditableData:function(test){var id=test.id,name=test.name,description=test.description,createdAt=test.createdAt;$("#entity-name").editable("option","pk",id),$("#entity-name").editable("option","url",Routing.generate("app_application_test_folder_test_update_name_ajax",{id:id})),$("#entity-description").editable("option","pk",id),$("#entity-description").editable("option","url",Routing.generate("app_application_test_folder_test_update_description_ajax",{id:id})),$("#entity-name").editable("setValue",name,!1),$("#entity-description").editable("setValue",description,!1),$("#entity-creation-date").html(createdAt)},resetAddForm:function(){$("#form-add-test")[0].reset()},openAddFormModal:function(folderId,folderName,folderDescription){folderId?($("#new-test-test-folder-name").html(folderName),$("#new-test-test-folder-description").html(folderDescription),$("#save-test").data("test-folder-id",folderId),$("#save-test").data("test-folder-name",folderName),$("#modal-add-test").modal("show")):Base.showErrorMessage("Please select a folder !")},closeAddFormModal:function(){$("#modal-add-test").modal("hide")},save:function(folderId,folderName){$.ajax({type:"POST",url:Routing.generate("app_add_application_test_folder_test_ajax",{id:folderId}),data:$("#form-add-test").serialize()}).done(function(data){if(data.error){var message="Scenario not added !\n"+data.error;Base.showErrorMessage(message)}else{var name=data.name,testsCount=data.testsCount,applicationId=data.applicationId,testPlannerTreeCssSelector=TestPlanner.getTreeCssSelector(applicationId);TestPlanner.hideTree(applicationId),TestPlanner.tree(applicationId,testPlannerTreeCssSelector,data.treeTests,!0),TreeManager.collapse(testPlannerTreeCssSelector);var selectedNode=$(testPlannerTreeCssSelector).treeview("getSelected")[0];TreeManager.revealNode(testPlannerTreeCssSelector,selectedNode),TreeManager.expandNode(testPlannerTreeCssSelector,selectedNode),TestPlanner.showTree(applicationId),TestPlanner.showEntityProperties(selectedNode),TestPlanner.refreshTestPlannerTestSummary(testsCount),TestManager.resetAddForm(),TestManager.closeAddFormModal();var message=name+" added to "+folderName+" !";Base.showSuccessMessage(message)}})},setAddButtonDataAttributes:function(folderId,folderName,folderDescription){$("#add-test").data("test-folder-id",folderId),$("#add-test").data("test-folder-name",folderName),$("#add-test").data("test-folder-description",folderDescription)},unsetAddButtonDataAttributes:function(){$("#add-test").removeData("test-folder-id"),$("#add-test").removeData("test-folder-name"),$("#add-test").removeData("test-folder-description")},showProperties:function(id){TestPlanner.showEntityActions(),$("#entity-icon").removeClass().addClass("fontello-icon-tasks"),TestManager.initItem(id),$.ajax({type:"POST",url:Routing.generate("app_application_get_test_folder_test_ajax",{id:id})}).done(function(data){TestPlanner.hideEntityPropertiesLoader();var test=data.test;TestManager.updateEditableData(test)})}},TestPlanner={init:function(){$("#delete-checked-entities").click(function(){var applicationId=$(this).data("application-id");TestPlanner.deleteCheckedEntities(applicationId)})},initEditableData:function(applicationId){$("#entity-name").editable({error:function(response){Base.showErrorMessage(response.responseText)},success:function(response,newValue){switch(TestPlanner.hideTree(applicationId),response.entityType){case"folder":TestPlanner.refreshTreeWithSelectedFolder(response.testFolderId),$("#add-test").data("test-folder-name",newValue);break;case"test":TestPlanner.refreshTreeWithSelectedTest(response.testId)}}}),$("#entity-description").editable({emptytext:"Add description",defaultValue:"",success:function(response,newValue){switch(TestPlanner.hideTree(applicationId),response.entityType){case"folder":TestPlanner.refreshTreeWithSelectedFolder(response.testFolderId),$("#add-test").data("test-folder-description",newValue);break;case"test":TestPlanner.refreshTreeWithSelectedTest(response.testId)}}})},refresh:function(applicationId,collapse,checkbox){$.ajax({type:"POST",url:Routing.generate("app_application_get_tests_tree_ajax",{id:applicationId})}).done(function(data){jQuery.each(data,function(treeCssSelector,treeData){TestPlanner.refreshTree(applicationId,"#"+treeCssSelector,treeData,collapse,checkbox)})})},refreshTestPlannerFolderSummary:function(count){var subtitle="There ";subtitle+=1>=count?"is ":"are ",subtitle+=0===count?"no ":'<span class="badge">'+count+"</span>",subtitle+=" folder"+(count>1?"s":""),$("#test-folders-count").html(subtitle)},refreshTestPlannerTestSummary:function(count){var subtitle="There ";subtitle+=1>=count?"is ":"are ",subtitle+=0===count?"no ":'<span class="badge">'+count+"</span>",subtitle+=" scenario"+(count>1?"s":""),$("#tests-count").html(subtitle)},showEntityPropertiesPanel:function(){$("#panel-body-entity-properties").show(),$("#panel-footer-entity-properties").show()},hideEntityPropertiesPanel:function(){$("#panel-body-entity-properties").hide(),$("#panel-footer-entity-properties").hide()},showEntityPropertiesLoader:function(){$("#entity-properties-loader").show()},hideEntityPropertiesLoader:function(){$("#entity-properties-loader").hide()},showEntityActions:function(){$("#panel-body-content-entity-actions").show()},hideEntityActions:function(){$("#panel-body-content-entity-actions").hide()},clearEntityActions:function(){$("#edit-entity").removeAttr("href")},showEntityProperties:function(node){if(node){TestPlanner.showEntityPropertiesPanel(),TestPlanner.showEntityPropertiesLoader();var href=node.href,id=TreeManager.getIdFromNodeHref(href),type=TreeManager.getTypeFromNodeHref(href);switch($("#entity-icon").removeClass(),type){case"folder":TestFolderManager.showProperties(id);break;case"test":TestManager.showProperties(id);break;default:$("#entity-icon").removeClass().addClass("fontello-icon-puzzle")}}else TestPlanner.hideEntityPropertiesPanel()},refreshEntityTypeIcon:function(icon){$("#object-icon").removeClass().addClass(icon)},refreshCheckedEntityCount:function(applicationId){var treeCssSelector=TestPlanner.getTreeCssSelector(applicationId),checkedEntities=$(treeCssSelector).treeview("getChecked"),checkedEntitiesCount=checkedEntities.length;$("#checked-entities-count").html(checkedEntitiesCount),checkedEntitiesCount>0?$("#delete-checked-entities").removeClass("disabled"):$("#delete-checked-entities").addClass("disabled")},deleteCheckedEntities:function(applicationId){var treeCssSelector=TestPlanner.getTreeCssSelector(applicationId);swal({title:"Delete selected entities ?",text:"You will not be able to recover them !",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete them !",closeOnConfirm:!1},function(){var objects=$(treeCssSelector).treeview("getChecked");$.ajax({type:"POST",url:Routing.generate("app_application_test_entities_delete_ajax",{id:applicationId}),data:{objects:objects,selectedNode:$(treeCssSelector).treeview("getSelected")[0]}}).done(function(data){if(data.error){var message="Selected entities were not deleted !\n"+data.error;Base.showErrorMessage(message)}else{var count=data.count,foldersCount=data.testFoldersCount,testsCount=data.testsCount;TestPlanner.hideTree(applicationId),TestPlanner.hideEntityPropertiesPanel(),TestManager.unsetAddButtonDataAttributes(),TestPlanner.clearEntityActions(),TestPlanner.tree(applicationId,treeCssSelector,data.treeTests,!0),TreeManager.collapse(treeCssSelector),TestPlanner.showTree(applicationId),TestPlanner.refreshTestPlannerFolderSummary(foldersCount),TestPlanner.refreshTestPlannerTestSummary(testsCount),TestPlanner.refreshCheckedEntityCount(applicationId);var message="You have deleted "+count+" entit"+(count>1?"ies":"y");Base.showSuccessMessage(message)}})})},tree:function(applicationId,treeCssSelector,data,checkbox){$(treeCssSelector).treeview({data:data,showBorder:!1,showCheckbox:checkbox,onNodeSelected:function(event,node){TestPlanner.showEntityProperties(node)},onNodeUnselected:function(){TestPlanner.hideEntityPropertiesPanel(),TestManager.unsetAddButtonDataAttributes(),TestPlanner.clearEntityActions()},onNodeChecked:function(event,node){TreeManager.checkChildNodes(treeCssSelector,node),TestPlanner.refreshCheckedEntityCount(applicationId)},onNodeUnchecked:function(event,node){TreeManager.uncheckChildNodes(treeCssSelector,node),TreeManager.uncheckParentNode(treeCssSelector,node),TestPlanner.refreshCheckedEntityCount(applicationId)}})},refreshTree:function(id,treeCssSelector,data,collapse,checkbox){TestPlanner.tree(id,treeCssSelector,data,checkbox),collapse&&TreeManager.collapse(treeCssSelector);var selectedNode=$(treeCssSelector).treeview("getSelected")[0];TreeManager.revealNode(treeCssSelector,selectedNode),TestPlanner.showTree(id)},refreshTreeWithSelectedFolder:function(folderId){$.ajax({type:"POST",url:Routing.generate("app_application_get_tests_tree_with_selected_folder_ajax",{id:folderId})}).done(function(data){jQuery.each(data,function(treeCssSelector,treeData){var id=treeCssSelector.substring(treeCssSelector.lastIndexOf("-")+1);TestPlanner.refreshTree(id,"#"+treeCssSelector,treeData,!0,!0)})})},refreshTreeWithSelectedTest:function(testId){$.ajax({type:"POST",url:Routing.generate("app_application_get_tests_tree_with_selected_test_ajax",{id:testId})}).done(function(data){jQuery.each(data,function(treeCssSelector,treeData){var id=treeCssSelector.substring(treeCssSelector.lastIndexOf("-")+1);TestPlanner.refreshTree(id,"#"+treeCssSelector,treeData,!0,!0)})})},getTreeCssSelector:function(id){return"#tree-tests-"+id},showTreeLoader:function(id){$(TestPlanner.getTreeCssSelector(id)+"-loader").addClass("three-quarters-loader")},hideTreeLoader:function(id){$(TestPlanner.getTreeCssSelector(id)+"-loader").removeClass("three-quarters-loader")},showTree:function(id){var treeCssSelector=TestPlanner.getTreeCssSelector(id);TestPlanner.hideTreeLoader(id),$(treeCssSelector).show()},hideTree:function(id){var treeCssSelector=TestPlanner.getTreeCssSelector(id);TestPlanner.showTreeLoader(id),$(treeCssSelector).hide()}},TestSetEditor={init:function(){$("#modal-run-test-set").modal({backdrop:"static",show:!1}),$("#modal-run-test-sets").modal({backdrop:"static",show:!1}),$("#modal-test-set-history").modal({backdrop:"static",show:!1}),$("#run-test-set").click(function(){TestSetEditor.openRunFormModal()}),$("#save-test-set-run").click(function(){var testSetId=$(this).data("test-set-id");TestSetEditor.saveRun(testSetId)}),$("#execution-grid-collapse").on("shown.bs.collapse",function(){$(".execution-grid-collapse-toggle-icon").removeClass("fontello-icon-down-open").addClass("fontello-icon-up-open")}),$("#execution-grid-collapse").on("hidden.bs.collapse",function(){$(".execution-grid-collapse-toggle-icon").removeClass("fontello-icon-up-open").addClass("fontello-icon-down-open")}),$("#refresh-execution-grid").click(function(){var id=$(this).data("id");TestSetEditor.refreshExecutionGrid(id)}),$("#show-test-set-history").click(function(){TestSetEditor.openRunHistoryModal()}),$("#modal-test-set-history").on("shown.bs.modal",function(){var id=$("#show-test-set-history").data("id");TestSetEditor.initHistoryGrid(id)}),$("[id^=details-test-set-run-]").click(function(){var id=$(this).data("id"),testSetId=$(this).data("test-set-id");TestSetEditor.highlightSelectedRunRow(id,testSetId),TestSetEditor.showSelectedRunExecutionGrid(id),TestSetEditor.showSelectedRunExecutionReport(id)})},initItem:function(id){TestSetEditor.initExecutionGrid(id),$("[id^=details-test-set-run-]").click(function(event){event.preventDefault();var id=$(this).data("id"),testSetId=$(this).data("test-set-id");TestSetEditor.highlightSelectedRunRow(id,testSetId),TestSetEditor.showSelectedRunExecutionGrid(id),TestSetEditor.showSelectedRunExecutionReport(id)}).tooltip()},initExecutionGrid:function(id){$.fn.dataTable.isDataTable("#execution-grid-"+id)||$("#execution-grid-"+id).dataTable({searching:!1,paging:!1,info:!1,order:[],ordering:!1}).rowReordering({sURL:Routing.generate("app_update_application_test_set_test_instance_orders_ajax"),sRequestType:"POST",callback:function(){TestSetEditor.refreshBehatFeature(id)}})},initHistoryGrid:function(id){$.fn.dataTable.isDataTable("#history-grid-"+id)||$("#history-grid-"+id).dataTable({searching:!1,paging:!0,info:!1,order:[],columnDefs:[{orderable:!1,targets:[0,-1]}]})},resetRunForm:function(){$("#form-add-test-set-run")[0].reset()},openRunFormModal:function(){$("#modal-run-test-set").modal("show")},closeRunFormModal:function(){$("#modal-run-test-set").modal("hide")},openMultipleRunFormModal:function(applicationId){var treeCssSelector=TestSetPlanner.getTreeCssSelector(applicationId),objects=$(treeCssSelector).treeview("getChecked");$.ajax({type:"POST",url:Routing.generate("app_application_test_set_entities_run_ajax",{id:applicationId}),data:{objects:objects}}).done(function(data){data.error?Base.showErrorMessage(data.error):($("#modal-run-test-sets-body").html($(data.modalContent)),$("#modal-run-test-sets").modal("show"))})},closeMultipleRunFormModal:function(){$("#modal-run-test-sets").modal("hide")},openRunHistoryModal:function(){$("#modal-test-set-history").modal("show")},closeRunHistoryModal:function(){$("#modal-test-set-history").modal("hide")},saveRun:function(testSetId){$.ajax({type:"POST",url:Routing.generate("app_application_test_set_run_ajax",{id:testSetId}),data:$("#form-add-test-set-run").serialize()}).done(function(data){if(data.error){var message="Run not added !\n"+data.error;Base.showErrorMessage(message)}else swal({title:"Success",text:"Your run has been added to the queue. You can follow its execution in the sidebar.",type:"success"},function(){TestSetEditor.updateExecutionGrid(data.executionGrid),TestSetEditor.updateHistoryGrid(data.historyGrid),TestSetEditor.initItem(testSetId),Base.refreshSidebar(!0)}),TestSetEditor.resetRunForm(),TestSetEditor.closeRunFormModal()})},saveRuns:function(applicationId){var treeCssSelector=TestSetPlanner.getTreeCssSelector(applicationId),objects=$(treeCssSelector).treeview("getChecked"),data=$("#form-add-test-set-run").serializeArray();data.push({name:"objects",value:JSON.stringify(objects)}),$.ajax({type:"POST",url:Routing.generate("app_application_test_sets_run_ajax"),data:$.param(data)}).done(function(data){if(data.error){var message="Runs not added !\n"+data.error;Base.showErrorMessage(message)}else swal({title:"Success",text:"Your runs have been added to the queue. You can follow their execution in the sidebar.",type:"success"},function(){Base.refreshSidebar(!0)}),TestSetEditor.closeMultipleRunFormModal()})},updateExecutionGrid:function(grid){$("#execution-grid").replaceWith($(grid)),TestInstanceManager.initItems()},updateHistoryGrid:function(grid){$("#history-grid-wrapper").html($(grid)),TestSetEditor.hideSelectedRunExecutionGrid(),TestSetEditor.hideSelectedRunExecutionReport()},refreshExecutionGrid:function(id){$.ajax({type:"POST",url:Routing.generate("app_get_application_test_set_execution_grid_ajax",{id:id})}).done(function(data){TestSetEditor.updateExecutionGrid(data.executionGrid),TestSetEditor.updateHistoryGrid(data.historyGrid),TestSetEditor.initItem(id),TestSetEditor.refreshBehatFeature(id)})},refreshBehatFeature:function(id){$.ajax({type:"POST",url:Routing.generate("app_get_application_test_set_behat_feature_ajax",{id:id})}).done(function(data){$("#behat-feature").html(data.feature)})},showSelectedRunExecutionGrid:function(id){TestSetEditor.hideSelectedRunExecutionGrid(),$.ajax({type:"POST",url:Routing.generate("app_get_application_test_set_run_execution_grid_ajax",{id:id})}).done(function(data){TestSetEditor.updateSelectedRunExecutionGrid(data.executionGrid),$("#selected-run-execution-grid").show()})},hideSelectedRunExecutionGrid:function(){$("#selected-run-execution-grid").hide()},updateSelectedRunExecutionGrid:function(grid){$("#selected-run-execution-grid-table").html($(grid))},showSelectedRunExecutionReport:function(id){TestSetEditor.hideSelectedRunExecutionReport(),$.ajax({type:"POST",url:Routing.generate("app_get_application_test_set_run_execution_report_ajax",{id:id})}).done(function(data){data.report&&""!==data.report&&(TestSetEditor.updateSelectedRunExecutionReport(data.report),$("#selected-run-execution-report").show())})},hideSelectedRunExecutionReport:function(){$("#selected-run-execution-report").hide()},updateSelectedRunExecutionReport:function(report){$("#selected-run-execution-report-content").html(report)},highlightSelectedRunRow:function(id,testSetId){$("#history-grid-"+testSetId+" tbody tr").removeClass("selected"),$("#row-test-set-run-"+id).addClass("selected")}},TestSetFolderManager={init:function(){$("#modal-add-test-set-folder").modal({backdrop:"static",show:!1}),$("#add-test-set-folder").click(function(){$("#modal-add-test-set-folder").modal("show")}),$("#save-test-set-folder").click(function(){var applicationId=$(this).data("application-id");TestSetFolderManager.save(applicationId)})},updateEditableData:function(folder){var id=folder.id,name=folder.name,description=folder.description,createdAt=folder.createdAt;$("#entity-name").editable("option","pk",id),$("#entity-name").editable("option","url",Routing.generate("app_application_test_set_folder_update_name_ajax",{id:id})),$("#entity-description").editable("option","pk",id),$("#entity-description").editable("option","url",Routing.generate("app_application_test_set_folder_update_description_ajax",{id:id})),$("#entity-name").editable("setValue",name,!1),$("#entity-description").editable("setValue",description,!1),$("#entity-creation-date").html(createdAt)},resetAddForm:function(){$("#form-add-test-set-folder")[0].reset()},closeAddFormModal:function(){$("#modal-add-test-set-folder").modal("hide")},getParentFolderId:function(selectedFolder){var parentFolderId=-1;if(1===selectedFolder.length){var parentFolder=selectedFolder[0],href=parentFolder.href,id=href.substring(href.lastIndexOf("-")+1),type=href.substring(href.indexOf("-")+1,href.lastIndexOf("-"));"folder"===type&&(parentFolderId=id)}return parentFolderId},save:function(applicationId){var testSetPlannerTreeCssSelector=TestSetPlanner.getTreeCssSelector(applicationId),selectedFolder=$(testSetPlannerTreeCssSelector).treeview("getSelected"),parentFolderId=TestSetFolderManager.getParentFolderId(selectedFolder);$.ajax({type:"POST",url:Routing.generate("app_add_application_test_set_folder_ajax",{id:applicationId,parentId:parentFolderId}),data:$("#form-add-test-set-folder").serialize()}).done(function(data){if(data.error){var message="Feature folder not added !\n"+data.error;Base.showErrorMessage(message)}else{var name=data.name,foldersCount=data.testSetFoldersCount;TestSetPlanner.hideTree(applicationId),TestSetPlanner.tree(applicationId,testSetPlannerTreeCssSelector,data.treeTestSets,!0),TreeManager.collapse(testSetPlannerTreeCssSelector);var selectedNode=$(testSetPlannerTreeCssSelector).treeview("getSelected")[0];TreeManager.revealNode(testSetPlannerTreeCssSelector,selectedNode),TreeManager.expandNode(testSetPlannerTreeCssSelector,selectedNode),TestSetPlanner.showTree(applicationId),TestSetPlanner.showEntityProperties(selectedNode),TestSetPlanner.refreshTestSetPlannerFolderSummary(foldersCount),TestSetFolderManager.resetAddForm(),TestSetFolderManager.closeAddFormModal();var message=name+" added !";Base.showSuccessMessage(message)}})},showProperties:function(id){TestSetPlanner.hideEntityActions(),$("#entity-icon").removeClass().addClass("fontello-icon-folder"),$.ajax({type:"POST",url:Routing.generate("app_application_get_test_set_folder_ajax",{id:id})}).done(function(data){TestSetPlanner.hideEntityPropertiesLoader();var folder=data.testSetFolder,chart=folder.chart;TestSetFolderManager.updateEditableData(folder),TestSetPlanner.refreshChart(chart),TestSetManager.setAddButtonDataAttributes(id,folder.name,folder.description)})}},TestSetManager={init:function(){$("#modal-add-test-set").modal({backdrop:"static",show:!1}),$("#add-test-set").click(function(){var folderId=$(this).data("test-set-folder-id"),folderName=$(this).data("test-set-folder-name"),folderDescription=$(this).data("test-set-folder-description");TestSetManager.openAddFormModal(folderId,folderName,folderDescription)}),$("#save-test-set").click(function(){var folderId=$(this).data("test-set-folder-id"),folderName=$(this).data("test-set-folder-name");TestSetManager.save(folderId,folderName)})},initItem:function(id){$("#edit-entity").attr("href",Routing.generate("app_index_application_test_set_editor",{id:id}))},updateEditableData:function(testSet){var id=testSet.id,name=testSet.name,description=testSet.description,createdAt=testSet.createdAt;$("#entity-name").editable("option","pk",id),$("#entity-name").editable("option","url",Routing.generate("app_application_test_set_folder_test_set_update_name_ajax",{id:id})),$("#entity-description").editable("option","pk",id),$("#entity-description").editable("option","url",Routing.generate("app_application_test_set_folder_test_set_update_description_ajax",{id:id})),$("#entity-name").editable("setValue",name,!1),$("#entity-description").editable("setValue",description,!1),$("#entity-creation-date").html(createdAt)},resetAddForm:function(){$("#form-add-test-set")[0].reset()},openAddFormModal:function(folderId,folderName,folderDescription){folderId?($("#new-test-set-test-set-folder-name").html(folderName),$("#new-test-set-test-set-folder-description").html(folderDescription),$("#save-test-set").data("test-set-folder-id",folderId),$("#save-test-set").data("test-set-folder-name",folderName),$("#modal-add-test-set").modal("show")):Base.showErrorMessage("Please select a folder !")},closeAddFormModal:function(){$("#modal-add-test-set").modal("hide")},save:function(folderId,folderName){$.ajax({type:"POST",url:Routing.generate("app_add_application_test_set_folder_test_set_ajax",{id:folderId}),data:$("#form-add-test-set").serialize()}).done(function(data){if(data.error){var message="Feature not added !\n"+data.error;Base.showErrorMessage(message)}else{var name=data.name,testSetsCount=data.testSetsCount,applicationId=data.applicationId,testSetPlannerTreeCssSelector=TestSetPlanner.getTreeCssSelector(applicationId);TestSetPlanner.hideTree(applicationId),TestSetPlanner.tree(applicationId,testSetPlannerTreeCssSelector,data.treeTestSets,!0),TreeManager.collapse(testSetPlannerTreeCssSelector);var selectedNode=$(testSetPlannerTreeCssSelector).treeview("getSelected")[0];TreeManager.revealNode(testSetPlannerTreeCssSelector,selectedNode),TreeManager.expandNode(testSetPlannerTreeCssSelector,selectedNode),TestSetPlanner.showTree(applicationId),TestSetPlanner.showEntityProperties(selectedNode),TestSetPlanner.refreshTestSetPlannerTestSetSummary(testSetsCount),TestSetManager.resetAddForm(),TestSetManager.closeAddFormModal();
var message=name+" added to "+folderName+" !";Base.showSuccessMessage(message)}})},setAddButtonDataAttributes:function(folderId,folderName,folderDescription){$("#add-test-set").data("test-set-folder-id",folderId),$("#add-test-set").data("test-set-folder-name",folderName),$("#add-test-set").data("test-set-folder-description",folderDescription)},unsetAddButtonDataAttributes:function(){$("#add-test-set").removeData("test-set-folder-id"),$("#add-test-set").removeData("test-set-folder-name"),$("#add-test-set").removeData("test-set-folder-description")},showProperties:function(id){TestSetPlanner.showEntityActions(),$("#entity-icon").removeClass().addClass("fontello-icon-beaker"),TestSetManager.initItem(id),$.ajax({type:"POST",url:Routing.generate("app_application_get_test_set_folder_test_set_ajax",{id:id})}).done(function(data){TestSetPlanner.hideEntityPropertiesLoader();var testSet=data.testSet,chart=testSet.chart;TestSetManager.updateEditableData(testSet),TestSetPlanner.refreshChart(chart)})}},TestSetPlanner={init:function(){$("#delete-checked-entities").click(function(){var applicationId=$(this).data("application-id");TestSetPlanner.deleteCheckedEntities(applicationId)}),$("#run-checked-entities").click(function(){var applicationId=$(this).data("application-id");TestSetEditor.openMultipleRunFormModal(applicationId)}),$("#save-test-set-runs").click(function(){var applicationId=$(this).data("application-id");TestSetEditor.saveRuns(applicationId)})},initEditableData:function(applicationId){$("#entity-name").editable({error:function(response){Base.showErrorMessage(response.responseText)},success:function(response,newValue){switch(TestSetPlanner.hideTree(applicationId),response.entityType){case"folder":TestSetPlanner.refreshTreeWithSelectedFolder(response.testSetFolderId),$("#add-test-set").data("test-set-folder-name",newValue);break;case"test-set":TestSetPlanner.refreshTreeWithSelectedTestSet(response.testSetId)}}}),$("#entity-description").editable({emptytext:"Add description",defaultValue:"",success:function(response,newValue){switch(TestSetPlanner.hideTree(applicationId),response.entityType){case"folder":TestSetPlanner.refreshTreeWithSelectedFolder(response.testSetFolderId),$("#add-test-set").data("test-set-folder-description",newValue);break;case"test-set":TestSetPlanner.refreshTreeWithSelectedTestSet(response.testSetId)}}})},refresh:function(applicationId,collapse,checkbox){$.ajax({type:"POST",url:Routing.generate("app_application_get_test_sets_tree_ajax",{id:applicationId})}).done(function(data){jQuery.each(data,function(treeCssSelector,treeData){TestSetPlanner.refreshTree(applicationId,"#"+treeCssSelector,treeData,collapse,checkbox)})})},refreshTestSetPlannerFolderSummary:function(count){var subtitle="There ";subtitle+=1>=count?"is ":"are ",subtitle+=0===count?"no ":'<span class="badge">'+count+"</span>",subtitle+=" folder"+(count>1?"s":""),$("#test-set-folders-count").html(subtitle)},refreshTestSetPlannerTestSetSummary:function(count){var subtitle="There ";subtitle+=1>=count?"is ":"are ",subtitle+=0===count?"no ":'<span class="badge">'+count+"</span>",subtitle+=" feature"+(count>1?"s":""),$("#test-sets-count").html(subtitle)},showEntityPropertiesPanel:function(){$("#panel-body-entity-properties").show(),$("#panel-footer-entity-properties").show()},hideEntityPropertiesPanel:function(){$("#panel-body-entity-properties").hide(),$("#panel-footer-entity-properties").hide()},showEntityPropertiesLoader:function(){$("#entity-properties-loader").show()},hideEntityPropertiesLoader:function(){$("#entity-properties-loader").hide()},showEntityActions:function(){$("#panel-body-content-entity-actions").show()},hideEntityActions:function(){$("#panel-body-content-entity-actions").hide()},clearEntityActions:function(){$("#edit-entity").removeAttr("href")},showEntityProperties:function(node){if(node){TestSetPlanner.showEntityPropertiesPanel(),TestSetPlanner.showEntityPropertiesLoader();var href=node.href,id=TreeManager.getIdFromNodeHref(href),type=TreeManager.getTypeFromNodeHref(href);switch($("#entity-icon").removeClass(),type){case"folder":TestSetFolderManager.showProperties(id);break;case"test-set":TestSetManager.showProperties(id);break;default:$("#entity-icon").removeClass().addClass("fontello-icon-puzzle")}}else TestSetPlanner.hideEntityPropertiesPanel()},refreshEntityTypeIcon:function(icon){$("#object-icon").removeClass().addClass(icon)},refreshCheckedEntityCount:function(applicationId){var treeCssSelector=TestSetPlanner.getTreeCssSelector(applicationId),checkedEntities=$(treeCssSelector).treeview("getChecked"),checkedEntitiesCount=checkedEntities.length;$("[id^=checked-entities-count-]").html(checkedEntitiesCount),checkedEntitiesCount>0?($("#delete-checked-entities").removeClass("disabled"),$("#run-checked-entities").removeClass("disabled")):($("#delete-checked-entities").addClass("disabled"),$("#run-checked-entities").addClass("disabled"))},deleteCheckedEntities:function(applicationId){var treeCssSelector=TestSetPlanner.getTreeCssSelector(applicationId);swal({title:"Delete selected entities ?",text:"You will not be able to recover them !",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete them !",closeOnConfirm:!1},function(){var objects=$(treeCssSelector).treeview("getChecked");$.ajax({type:"POST",url:Routing.generate("app_application_test_set_entities_delete_ajax",{id:applicationId}),data:{objects:objects,selectedNode:$(treeCssSelector).treeview("getSelected")[0]}}).done(function(data){if(data.error){var message="Selected entities were not deleted !\n"+data.error;Base.showErrorMessage(message)}else{var count=data.count,foldersCount=data.testSetFoldersCount,testSetsCount=data.testSetsCount;TestSetPlanner.hideTree(applicationId),TestSetPlanner.hideEntityPropertiesPanel(),TestSetManager.unsetAddButtonDataAttributes(),TestSetPlanner.clearEntityActions(),TestSetPlanner.tree(applicationId,treeCssSelector,data.treeTestSets,!0),TreeManager.collapse(treeCssSelector),TestSetPlanner.showTree(applicationId),TestSetPlanner.refreshTestSetPlannerFolderSummary(foldersCount),TestSetPlanner.refreshTestSetPlannerTestSetSummary(testSetsCount),TestSetPlanner.refreshCheckedEntityCount(applicationId);var message="You have deleted "+count+" entit"+(count>1?"ies":"y");Base.showSuccessMessage(message)}})})},tree:function(applicationId,treeCssSelector,data,checkbox){$(treeCssSelector).treeview({data:data,showBorder:!1,showCheckbox:checkbox,onNodeSelected:function(event,node){TestSetPlanner.showEntityProperties(node)},onNodeUnselected:function(){TestSetPlanner.hideEntityPropertiesPanel(),TestSetManager.unsetAddButtonDataAttributes(),TestSetPlanner.clearEntityActions()},onNodeChecked:function(event,node){TreeManager.checkChildNodes(treeCssSelector,node),TestSetPlanner.refreshCheckedEntityCount(applicationId)},onNodeUnchecked:function(event,node){TreeManager.uncheckChildNodes(treeCssSelector,node),TreeManager.uncheckParentNode(treeCssSelector,node),TestSetPlanner.refreshCheckedEntityCount(applicationId)}})},refreshTree:function(id,treeCssSelector,data,collapse,checkbox){TestSetPlanner.tree(id,treeCssSelector,data,checkbox),collapse&&TreeManager.collapse(treeCssSelector);var selectedNode=$(treeCssSelector).treeview("getSelected")[0];TreeManager.revealNode(treeCssSelector,selectedNode),TestSetPlanner.showTree(id)},refreshTreeWithSelectedFolder:function(folderId){$.ajax({type:"POST",url:Routing.generate("app_application_get_test_sets_tree_with_selected_folder_ajax",{id:folderId})}).done(function(data){jQuery.each(data,function(treeCssSelector,treeData){var id=treeCssSelector.substring(treeCssSelector.lastIndexOf("-")+1);TestSetPlanner.refreshTree(id,"#"+treeCssSelector,treeData,!0,!0)})})},refreshTreeWithSelectedTestSet:function(testSetId){$.ajax({type:"POST",url:Routing.generate("app_application_get_test_sets_tree_with_selected_test_set_ajax",{id:testSetId})}).done(function(data){jQuery.each(data,function(treeCssSelector,treeData){var id=treeCssSelector.substring(treeCssSelector.lastIndexOf("-")+1);TestSetPlanner.refreshTree(id,"#"+treeCssSelector,treeData,!0,!0)})})},getTreeCssSelector:function(id){return"#tree-test-sets-"+id},showTreeLoader:function(id){$(TestSetPlanner.getTreeCssSelector(id)+"-loader").addClass("three-quarters-loader")},hideTreeLoader:function(id){$(TestSetPlanner.getTreeCssSelector(id)+"-loader").removeClass("three-quarters-loader")},showTree:function(id){var treeCssSelector=TestSetPlanner.getTreeCssSelector(id);TestSetPlanner.hideTreeLoader(id),$(treeCssSelector).show()},hideTree:function(id){var treeCssSelector=TestSetPlanner.getTreeCssSelector(id);TestSetPlanner.showTreeLoader(id),$(treeCssSelector).hide()},refreshChart:function(data){var chartContext=$("#entity-chart").get(0).getContext("2d");new Chart(chartContext).Doughnut(data,{scaleFontSize:8,tooltipFontSize:10,percentageInnerCutout:70})}},TreeManager={checkChildNodes:function(cssSelector,node){var children=node.nodes;if(children)for(var i=0;i<children.length;i++){var childNode=children[i],nodeId=childNode.nodeId;$(cssSelector).treeview("checkNode",nodeId)}},uncheckChildNodes:function(cssSelector,node){var children=node.nodes;if(children)for(var i=0;i<children.length;i++){var childNode=children[i],nodeId=childNode.nodeId;$(cssSelector).treeview("uncheckNode",nodeId)}},uncheckParentNode:function(cssSelector,node){var parent=$(cssSelector).treeview("getParent",node),nodeId=parent.nodeId;void 0!==nodeId&&($(cssSelector).treeview("uncheckNode",[nodeId,{silent:!0}]),TreeManager.uncheckParentNode(cssSelector,parent))},revealNode:function(cssSelector,node){node&&$(cssSelector).treeview("revealNode",node)},expandNode:function(cssSelector,node){node&&$(cssSelector).treeview("expandNode",node)},collapse:function(cssSelector){$(cssSelector).treeview("collapseAll",{silent:!0})},getIdFromNodeHref:function(href){return href.substring(href.lastIndexOf("-")+1)},getTypeFromNodeHref:function(href){return href.substring(href.indexOf("-")+1,href.lastIndexOf("-"))}};!function($){"use strict";var EditableForm=function(div,options){this.options=$.extend({},$.fn.editableform.defaults,options),this.$div=$(div),this.options.scope||(this.options.scope=this)};EditableForm.prototype={constructor:EditableForm,initInput:function(){this.input=this.options.input,this.value=this.input.str2value(this.options.value),this.input.prerender()},initTemplate:function(){this.$form=$($.fn.editableform.template)},initButtons:function(){var $btn=this.$form.find(".editable-buttons");$btn.append($.fn.editableform.buttons),"bottom"===this.options.showbuttons&&$btn.addClass("editable-buttons-bottom")},render:function(){this.$loading=$($.fn.editableform.loading),this.$div.empty().append(this.$loading),this.initTemplate(),this.options.showbuttons?this.initButtons():this.$form.find(".editable-buttons").remove(),this.showLoading(),this.isSaving=!1,this.$div.triggerHandler("rendering"),this.initInput(),this.$form.find("div.editable-input").append(this.input.$tpl),this.$div.append(this.$form),$.when(this.input.render()).then($.proxy(function(){if(this.options.showbuttons||this.input.autosubmit(),this.$form.find(".editable-cancel").click($.proxy(this.cancel,this)),this.input.error)this.error(this.input.error),this.$form.find(".editable-submit").attr("disabled",!0),this.input.$input.attr("disabled",!0),this.$form.submit(function(e){e.preventDefault()});else{this.error(!1),this.input.$input.removeAttr("disabled"),this.$form.find(".editable-submit").removeAttr("disabled");var value=null===this.value||void 0===this.value||""===this.value?this.options.defaultValue:this.value;this.input.value2input(value),this.$form.submit($.proxy(this.submit,this))}this.$div.triggerHandler("rendered"),this.showForm(),this.input.postrender&&this.input.postrender()},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var w,h;this.$form?(w=this.$form.outerWidth(),h=this.$form.outerHeight(),w&&this.$loading.width(w),h&&this.$loading.height(h),this.$form.hide()):(w=this.$loading.parent().width(),w&&this.$loading.width(w)),this.$loading.show()},showForm:function(activate){this.$loading.hide(),this.$form.show(),activate!==!1&&this.input.activate(),this.$div.triggerHandler("show")},error:function(msg){var lines,$group=this.$form.find(".control-group"),$block=this.$form.find(".editable-error-block");if(msg===!1)$group.removeClass($.fn.editableform.errorGroupClass),$block.removeClass($.fn.editableform.errorBlockClass).empty().hide();else{if(msg){lines=(""+msg).split("\n");for(var i=0;i<lines.length;i++)lines[i]=$("<div>").text(lines[i]).html();msg=lines.join("<br>")}$group.addClass($.fn.editableform.errorGroupClass),$block.addClass($.fn.editableform.errorBlockClass).html(msg).show()}},submit:function(e){e.stopPropagation(),e.preventDefault();var newValue=this.input.input2value(),error=this.validate(newValue);if("object"===$.type(error)&&void 0!==error.newValue){if(newValue=error.newValue,this.input.value2input(newValue),"string"==typeof error.msg)return this.error(error.msg),void this.showForm()}else if(error)return this.error(error),void this.showForm();if(!this.options.savenochange&&this.input.value2str(newValue)==this.input.value2str(this.value))return void this.$div.triggerHandler("nochange");var submitValue=this.input.value2submit(newValue);this.isSaving=!0,$.when(this.save(submitValue)).done($.proxy(function(response){this.isSaving=!1;var res="function"==typeof this.options.success?this.options.success.call(this.options.scope,response,newValue):null;return res===!1?(this.error(!1),void this.showForm(!1)):"string"==typeof res?(this.error(res),void this.showForm()):(res&&"object"==typeof res&&res.hasOwnProperty("newValue")&&(newValue=res.newValue),this.error(!1),this.value=newValue,void this.$div.triggerHandler("save",{newValue:newValue,submitValue:submitValue,response:response}))},this)).fail($.proxy(function(xhr){this.isSaving=!1;var msg;msg="function"==typeof this.options.error?this.options.error.call(this.options.scope,xhr,newValue):"string"==typeof xhr?xhr:xhr.responseText||xhr.statusText||"Unknown error!",this.error(msg),this.showForm()},this))},save:function(submitValue){this.options.pk=$.fn.editableutils.tryParseJson(this.options.pk,!0);var params,pk="function"==typeof this.options.pk?this.options.pk.call(this.options.scope):this.options.pk,send=!!("function"==typeof this.options.url||this.options.url&&("always"===this.options.send||"auto"===this.options.send&&null!==pk&&void 0!==pk));return send?(this.showLoading(),params={name:this.options.name||"",value:submitValue,pk:pk},"function"==typeof this.options.params?params=this.options.params.call(this.options.scope,params):(this.options.params=$.fn.editableutils.tryParseJson(this.options.params,!0),$.extend(params,this.options.params)),"function"==typeof this.options.url?this.options.url.call(this.options.scope,params):$.ajax($.extend({url:this.options.url,data:params,type:"POST"},this.options.ajaxOptions))):void 0},validate:function(value){return void 0===value&&(value=this.value),"function"==typeof this.options.validate?this.options.validate.call(this.options.scope,value):void 0},option:function(key,value){key in this.options&&(this.options[key]=value),"value"===key&&this.setValue(value)},setValue:function(value,convertStr){this.value=convertStr?this.input.str2value(value):value,this.$form&&this.$form.is(":visible")&&this.input.value2input(this.value)}},$.fn.editableform=function(option){var args=arguments;return this.each(function(){var $this=$(this),data=$this.data("editableform"),options="object"==typeof option&&option;data||$this.data("editableform",data=new EditableForm(this,options)),"string"==typeof option&&data[option].apply(data,Array.prototype.slice.call(args,1))})},$.fn.editableform.Constructor=EditableForm,$.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:!0,scope:null,savenochange:!1},$.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>',$.fn.editableform.loading='<div class="editableform-loading"></div>',$.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>',$.fn.editableform.errorGroupClass=null,$.fn.editableform.errorBlockClass="editable-error",$.fn.editableform.engine="jquery"}(window.jQuery),function($){"use strict";$.fn.editableutils={inherit:function(Child,Parent){var F=function(){};F.prototype=Parent.prototype,Child.prototype=new F,Child.prototype.constructor=Child,Child.superclass=Parent.prototype},setCursorPosition:function(elem,pos){if(elem.setSelectionRange)elem.setSelectionRange(pos,pos);else if(elem.createTextRange){var range=elem.createTextRange();range.collapse(!0),range.moveEnd("character",pos),range.moveStart("character",pos),range.select()}},tryParseJson:function(s,safe){if("string"==typeof s&&s.length&&s.match(/^[\{\[].*[\}\]]$/))if(safe)try{s=new Function("return "+s)()}catch(e){}finally{return s}else s=new Function("return "+s)();return s},sliceObj:function(obj,keys,caseSensitive){var key,keyLower,newObj={};if(!$.isArray(keys)||!keys.length)return newObj;for(var i=0;i<keys.length;i++)key=keys[i],obj.hasOwnProperty(key)&&(newObj[key]=obj[key]),caseSensitive!==!0&&(keyLower=key.toLowerCase(),obj.hasOwnProperty(keyLower)&&(newObj[key]=obj[keyLower]));return newObj},getConfigData:function($element){var data={};return $.each($element.data(),function(k,v){("object"!=typeof v||v&&"object"==typeof v&&(v.constructor===Object||v.constructor===Array))&&(data[k]=v)}),data},objectKeys:function(o){if(Object.keys)return Object.keys(o);if(o!==Object(o))throw new TypeError("Object.keys called on a non-object");var p,k=[];for(p in o)Object.prototype.hasOwnProperty.call(o,p)&&k.push(p);return k},escape:function(str){return $("<div>").text(str).html()},itemsByValue:function(value,sourceData,valueProp){if(!sourceData||null===value)return[];if("function"!=typeof valueProp){var idKey=valueProp||"value";valueProp=function(e){return e[idKey]}}var isValArray=$.isArray(value),result=[],that=this;return $.each(sourceData,function(i,o){if(o.children)result=result.concat(that.itemsByValue(value,o.children,valueProp));else if(isValArray)$.grep(value,function(v){return v==(o&&"object"==typeof o?valueProp(o):o)}).length&&result.push(o);else{var itemValue=o&&"object"==typeof o?valueProp(o):o;value==itemValue&&result.push(o)}}),result},createInput:function(options){var TypeConstructor,typeOptions,input,type=options.type;return"date"===type&&("inline"===options.mode?$.fn.editabletypes.datefield?type="datefield":$.fn.editabletypes.dateuifield&&(type="dateuifield"):$.fn.editabletypes.date?type="date":$.fn.editabletypes.dateui&&(type="dateui"),"date"!==type||$.fn.editabletypes.date||(type="combodate")),"datetime"===type&&"inline"===options.mode&&(type="datetimefield"),"wysihtml5"!==type||$.fn.editabletypes[type]||(type="textarea"),"function"==typeof $.fn.editabletypes[type]?(TypeConstructor=$.fn.editabletypes[type],typeOptions=this.sliceObj(options,this.objectKeys(TypeConstructor.defaults)),input=new TypeConstructor(typeOptions)):($.error("Unknown type: "+type),!1)},supportsTransitions:function(){var b=document.body||document.documentElement,s=b.style,p="transition",v=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof s[p])return!0;p=p.charAt(0).toUpperCase()+p.substr(1);for(var i=0;i<v.length;i++)if("string"==typeof s[v[i]+p])return!0;return!1}}}(window.jQuery),function($){"use strict";var Popup=function(element,options){this.init(element,options)},Inline=function(element,options){this.init(element,options)};Popup.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(element,options){this.$element=$(element),this.options=$.extend({},$.fn.editableContainer.defaults,options),this.splitOptions(),this.formOptions.scope=this.$element[0],this.initContainer(),this.delayedHide=!1,this.$element.on("destroyed",$.proxy(function(){this.destroy()},this)),$(document).data("editable-handlers-attached")||($(document).on("keyup.editable",function(e){27===e.which&&$(".editable-open").editableContainer("hide")}),$(document).on("click.editable",function(e){var i,$target=$(e.target),exclude_classes=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if($.contains(document.documentElement,e.target)&&!$target.is(document)){for(i=0;i<exclude_classes.length;i++)if($target.is(exclude_classes[i])||$target.parents(exclude_classes[i]).length)return;Popup.prototype.closeOthers(e.target)}}),$(document).data("editable-handlers-attached",!0))},splitOptions:function(){if(this.containerOptions={},this.formOptions={},!$.fn[this.containerName])throw new Error(this.containerName+" not found. Have you included corresponding js file?");for(var k in this.options)k in this.defaults?this.containerOptions[k]=this.options[k]:this.formOptions[k]=this.options[k]},tip:function(){return this.container()?this.container().$tip:null},container:function(){var container;return this.containerDataName&&(container=this.$element.data(this.containerDataName))?container:container=this.$element.data(this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:$.proxy(this.save,this),nochange:$.proxy(function(){this.hide("nochange")},this),cancel:$.proxy(function(){this.hide("cancel")},this),show:$.proxy(function(){this.delayedHide?(this.hide(this.delayedHide.reason),this.delayedHide=!1):this.setPosition()},this),rendering:$.proxy(this.setPosition,this),resize:$.proxy(this.setPosition,this),rendered:$.proxy(function(){this.$element.triggerHandler("shown",$(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(closeAll){this.$element.addClass("editable-open"),closeAll!==!1&&this.closeOthers(this.$element[0]),this.innerShow(),this.tip().addClass(this.containerClass),this.$form,this.$form=$("<div>"),this.tip().is(this.innerCss)?this.tip().append(this.$form):this.tip().find(this.innerCss).append(this.$form),this.renderForm()},hide:function(reason){if(this.tip()&&this.tip().is(":visible")&&this.$element.hasClass("editable-open")){if(this.$form.data("editableform").isSaving)return void(this.delayedHide={reason:reason});this.delayedHide=!1,this.$element.removeClass("editable-open"),this.innerHide(),this.$element.triggerHandler("hidden",reason||"manual")}},innerShow:function(){},innerHide:function(){},toggle:function(closeAll){this.container()&&this.tip()&&this.tip().is(":visible")?this.hide():this.show(closeAll)},setPosition:function(){},save:function(e,params){this.$element.triggerHandler("save",params),this.hide("save")},option:function(key,value){this.options[key]=value,key in this.containerOptions?(this.containerOptions[key]=value,this.setContainerOption(key,value)):(this.formOptions[key]=value,this.$form&&this.$form.editableform("option",key,value))},setContainerOption:function(key,value){this.call("option",key,value)},destroy:function(){this.hide(),this.innerDestroy(),this.$element.off("destroyed"),this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(element){$(".editable-open").each(function(i,el){if(el!==element&&!$(el).find(element).length){var $el=$(el),ec=$el.data("editableContainer");ec&&("cancel"===ec.options.onblur?$el.data("editableContainer").hide("onblur"):"submit"===ec.options.onblur&&$el.data("editableContainer").tip().find("form").submit())}})},activate:function(){this.tip&&this.tip().is(":visible")&&this.$form&&this.$form.data("editableform").input.activate()}},$.fn.editableContainer=function(option){var args=arguments;return this.each(function(){var $this=$(this),dataKey="editableContainer",data=$this.data(dataKey),options="object"==typeof option&&option,Constructor="inline"===options.mode?Inline:Popup;data||$this.data(dataKey,data=new Constructor(this,options)),"string"==typeof option&&data[option].apply(data,Array.prototype.slice.call(args,1))})},$.fn.editableContainer.Popup=Popup,$.fn.editableContainer.Inline=Inline,$.fn.editableContainer.defaults={value:null,placement:"top",autohide:!0,onblur:"cancel",anim:!1,mode:"popup"},jQuery.event.special.destroyed={remove:function(o){o.handler&&o.handler()}}}(window.jQuery),function($){"use strict";$.extend($.fn.editableContainer.Inline.prototype,$.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=$("<span></span>"),this.options.anim||(this.options.anim=0)},splitOptions:function(){this.containerOptions={},this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide(),this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,$.proxy(function(){this.$element.show(),this.innerDestroy()},this))},innerDestroy:function(){this.tip()&&this.tip().empty().remove()}})}(window.jQuery),function($){"use strict";var Editable=function(element,options){this.$element=$(element),this.options=$.extend({},$.fn.editable.defaults,options,$.fn.editableutils.getConfigData(this.$element)),this.options.selector?this.initLive():this.init(),this.options.highlight&&!$.fn.editableutils.supportsTransitions()&&(this.options.highlight=!1)};Editable.prototype={constructor:Editable,init:function(){var doAutotext,isValueByText=!1;if(this.options.name=this.options.name||this.$element.attr("id"),this.options.scope=this.$element[0],this.input=$.fn.editableutils.createInput(this.options),this.input){switch(void 0===this.options.value||null===this.options.value?(this.value=this.input.html2value($.trim(this.$element.html())),isValueByText=!0):(this.options.value=$.fn.editableutils.tryParseJson(this.options.value,!0),this.value="string"==typeof this.options.value?this.input.str2value(this.options.value):this.options.value),this.$element.addClass("editable"),"textarea"===this.input.type&&this.$element.addClass("editable-pre-wrapped"),"manual"!==this.options.toggle?(this.$element.addClass("editable-click"),this.$element.on(this.options.toggle+".editable",$.proxy(function(e){if(this.options.disabled||e.preventDefault(),"mouseenter"===this.options.toggle)this.show();else{var closeAll="click"!==this.options.toggle;this.toggle(closeAll)}},this))):this.$element.attr("tabindex",-1),"function"==typeof this.options.display&&(this.options.autotext="always"),this.options.autotext){case"always":doAutotext=!0;break;case"auto":doAutotext=!$.trim(this.$element.text()).length&&null!==this.value&&void 0!==this.value&&!isValueByText;break;default:doAutotext=!1}$.when(doAutotext?this.render():!0).then($.proxy(function(){this.options.disabled?this.disable():this.enable(),this.$element.triggerHandler("init",this)},this))}},initLive:function(){var selector=this.options.selector;this.options.selector=!1,this.options.autotext="never",this.$element.on(this.options.toggle+".editable",selector,$.proxy(function(e){var $target=$(e.target);$target.data("editable")||($target.hasClass(this.options.emptyclass)&&$target.empty(),$target.editable(this.options).trigger(e))},this))},render:function(response){return this.options.display!==!1?this.input.value2htmlFinal?this.input.value2html(this.value,this.$element[0],this.options.display,response):"function"==typeof this.options.display?this.options.display.call(this.$element[0],this.value,response):this.input.value2html(this.value,this.$element[0]):void 0},enable:function(){this.options.disabled=!1,this.$element.removeClass("editable-disabled"),this.handleEmpty(this.isEmpty),"manual"!==this.options.toggle&&"-1"===this.$element.attr("tabindex")&&this.$element.removeAttr("tabindex")},disable:function(){this.options.disabled=!0,this.hide(),this.$element.addClass("editable-disabled"),this.handleEmpty(this.isEmpty),this.$element.attr("tabindex",-1)},toggleDisabled:function(){this.options.disabled?this.enable():this.disable()},option:function(key,value){return key&&"object"==typeof key?void $.each(key,$.proxy(function(k,v){this.option($.trim(k),v)},this)):(this.options[key]=value,"disabled"===key?value?this.disable():this.enable():("value"===key&&this.setValue(value),this.container&&this.container.option(key,value),void(this.input.option&&this.input.option(key,value))))},handleEmpty:function(isEmpty){this.options.display!==!1&&(this.isEmpty=void 0!==isEmpty?isEmpty:"function"==typeof this.input.isEmpty?this.input.isEmpty(this.$element):""===$.trim(this.$element.html()),this.options.disabled?this.isEmpty&&(this.$element.empty(),this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass)):this.isEmpty?(this.$element.html(this.options.emptytext),this.options.emptyclass&&this.$element.addClass(this.options.emptyclass)):this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass))},show:function(closeAll){if(!this.options.disabled){if(this.container){if(this.container.tip().is(":visible"))return}else{var containerOptions=$.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(containerOptions),this.$element.on("save.internal",$.proxy(this.save,this)),this.container=this.$element.data("editableContainer")}this.container.show(closeAll)}},hide:function(){this.container&&this.container.hide()},toggle:function(closeAll){this.container&&this.container.tip().is(":visible")?this.hide():this.show(closeAll)},save:function(e,params){if(this.options.unsavedclass){var sent=!1;sent=sent||"function"==typeof this.options.url,sent=sent||this.options.display===!1,sent=sent||void 0!==params.response,sent=sent||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(params.newValue),sent?this.$element.removeClass(this.options.unsavedclass):this.$element.addClass(this.options.unsavedclass)}if(this.options.highlight){var $e=this.$element,bgColor=$e.css("background-color");$e.css("background-color",this.options.highlight),setTimeout(function(){"transparent"===bgColor&&(bgColor=""),$e.css("background-color",bgColor),$e.addClass("editable-bg-transition"),setTimeout(function(){$e.removeClass("editable-bg-transition")},1700)},10)}this.setValue(params.newValue,!1,params.response)},validate:function(){return"function"==typeof this.options.validate?this.options.validate.call(this,this.value):void 0},setValue:function(value,convertStr,response){this.value=convertStr?this.input.str2value(value):value,this.container&&this.container.option("value",this.value),$.when(this.render(response)).then($.proxy(function(){this.handleEmpty()},this))},activate:function(){this.container&&this.container.activate()},destroy:function(){this.disable(),this.container&&this.container.destroy(),this.input.destroy(),"manual"!==this.options.toggle&&(this.$element.removeClass("editable-click"),this.$element.off(this.options.toggle+".editable")),this.$element.off("save.internal"),this.$element.removeClass("editable editable-open editable-disabled"),this.$element.removeData("editable")}},$.fn.editable=function(option){var result={},args=arguments,datakey="editable";switch(option){case"validate":return this.each(function(){var error,$this=$(this),data=$this.data(datakey);data&&(error=data.validate())&&(result[data.options.name]=error)}),result;case"getValue":return 2===arguments.length&&arguments[1]===!0?result=this.eq(0).data(datakey).value:this.each(function(){var $this=$(this),data=$this.data(datakey);data&&void 0!==data.value&&null!==data.value&&(result[data.options.name]=data.input.value2submit(data.value))
}),result;case"submit":var config=arguments[1]||{},$elems=this,errors=this.editable("validate");if($.isEmptyObject(errors)){var ajaxOptions={};if(1===$elems.length){var editable=$elems.data("editable"),params={name:editable.options.name||"",value:editable.input.value2submit(editable.value),pk:"function"==typeof editable.options.pk?editable.options.pk.call(editable.options.scope):editable.options.pk};"function"==typeof editable.options.params?params=editable.options.params.call(editable.options.scope,params):(editable.options.params=$.fn.editableutils.tryParseJson(editable.options.params,!0),$.extend(params,editable.options.params)),ajaxOptions={url:editable.options.url,data:params,type:"POST"},config.success=config.success||editable.options.success,config.error=config.error||editable.options.error}else{var values=this.editable("getValue");ajaxOptions={url:config.url,data:values,type:"POST"}}ajaxOptions.success="function"==typeof config.success?function(response){config.success.call($elems,response,config)}:$.noop,ajaxOptions.error="function"==typeof config.error?function(){config.error.apply($elems,arguments)}:$.noop,config.ajaxOptions&&$.extend(ajaxOptions,config.ajaxOptions),config.data&&$.extend(ajaxOptions.data,config.data),$.ajax(ajaxOptions)}else"function"==typeof config.error&&config.error.call($elems,errors);return this}return this.each(function(){var $this=$(this),data=$this.data(datakey),options="object"==typeof option&&option;return options&&options.selector?void(data=new Editable(this,options)):(data||$this.data(datakey,data=new Editable(this,options)),void("string"==typeof option&&data[option].apply(data,Array.prototype.slice.call(args,1))))})},$.fn.editable.defaults={type:"text",disabled:!1,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}}(window.jQuery),function($){"use strict";$.fn.editabletypes={};var AbstractInput=function(){};AbstractInput.prototype={init:function(type,options,defaults){this.type=type,this.options=$.extend({},defaults,options)},prerender:function(){this.$tpl=$(this.options.tpl),this.$input=this.$tpl,this.$clear=null,this.error=null},render:function(){},value2html:function(value,element){$(element)[this.options.escape?"text":"html"]($.trim(value))},html2value:function(html){return $("<div>").html(html).text()},value2str:function(value){return value},str2value:function(str){return str},value2submit:function(value){return value},value2input:function(value){this.$input.val(value)},input2value:function(){return this.$input.val()},activate:function(){this.$input.is(":visible")&&this.$input.focus()},clear:function(){this.$input.val(null)},escape:function(str){return $("<div>").text(str).html()},autosubmit:function(){},destroy:function(){},setClass:function(){this.options.inputclass&&this.$input.addClass(this.options.inputclass)},setAttr:function(attr){void 0!==this.options[attr]&&null!==this.options[attr]&&this.$input.attr(attr,this.options[attr])},option:function(key,value){this.options[key]=value}},AbstractInput.defaults={tpl:"",inputclass:null,escape:!0,scope:null,showbuttons:!0},$.extend($.fn.editabletypes,{abstractinput:AbstractInput})}(window.jQuery),function($){"use strict";var List=function(){};$.fn.editableutils.inherit(List,$.fn.editabletypes.abstractinput),$.extend(List.prototype,{render:function(){var deferred=$.Deferred();return this.error=null,this.onSourceReady(function(){this.renderList(),deferred.resolve()},function(){this.error=this.options.sourceError,deferred.resolve()}),deferred.promise()},html2value:function(){return null},value2html:function(value,element,display,response){var deferred=$.Deferred(),success=function(){"function"==typeof display?display.call(element,value,this.sourceData,response):this.value2htmlFinal(value,element),deferred.resolve()};return null===value?success.call(this):this.onSourceReady(success,function(){deferred.resolve()}),deferred.promise()},onSourceReady:function(success,error){var source;if($.isFunction(this.options.source)?(source=this.options.source.call(this.options.scope),this.sourceData=null):source=this.options.source,this.options.sourceCache&&$.isArray(this.sourceData))return void success.call(this);try{source=$.fn.editableutils.tryParseJson(source,!1)}catch(e){return void error.call(this)}if("string"==typeof source){if(this.options.sourceCache){var cache,cacheID=source;if($(document).data(cacheID)||$(document).data(cacheID,{}),cache=$(document).data(cacheID),cache.loading===!1&&cache.sourceData)return this.sourceData=cache.sourceData,this.doPrepend(),void success.call(this);if(cache.loading===!0)return cache.callbacks.push($.proxy(function(){this.sourceData=cache.sourceData,this.doPrepend(),success.call(this)},this)),void cache.err_callbacks.push($.proxy(error,this));cache.loading=!0,cache.callbacks=[],cache.err_callbacks=[]}var ajaxOptions=$.extend({url:source,type:"get",cache:!1,dataType:"json",success:$.proxy(function(data){cache&&(cache.loading=!1),this.sourceData=this.makeArray(data),$.isArray(this.sourceData)?(cache&&(cache.sourceData=this.sourceData,$.each(cache.callbacks,function(){this.call()})),this.doPrepend(),success.call(this)):(error.call(this),cache&&$.each(cache.err_callbacks,function(){this.call()}))},this),error:$.proxy(function(){error.call(this),cache&&(cache.loading=!1,$.each(cache.err_callbacks,function(){this.call()}))},this)},this.options.sourceOptions);$.ajax(ajaxOptions)}else this.sourceData=this.makeArray(source),$.isArray(this.sourceData)?(this.doPrepend(),success.call(this)):error.call(this)},doPrepend:function(){null!==this.options.prepend&&void 0!==this.options.prepend&&($.isArray(this.prependData)||($.isFunction(this.options.prepend)&&(this.options.prepend=this.options.prepend.call(this.options.scope)),this.options.prepend=$.fn.editableutils.tryParseJson(this.options.prepend,!0),"string"==typeof this.options.prepend&&(this.options.prepend={"":this.options.prepend}),this.prependData=this.makeArray(this.options.prepend)),$.isArray(this.prependData)&&$.isArray(this.sourceData)&&(this.sourceData=this.prependData.concat(this.sourceData)))},renderList:function(){},value2htmlFinal:function(){},makeArray:function(data){var count,obj,item,iterateItem,result=[];if(!data||"string"==typeof data)return null;if($.isArray(data)){iterateItem=function(k,v){return obj={value:k,text:v},count++>=2?!1:void 0};for(var i=0;i<data.length;i++)item=data[i],"object"==typeof item?(count=0,$.each(item,iterateItem),1===count?result.push(obj):count>1&&(item.children&&(item.children=this.makeArray(item.children)),result.push(item))):result.push({value:item,text:item})}else $.each(data,function(k,v){result.push({value:k,text:v})});return result},option:function(key,value){this.options[key]=value,"source"===key&&(this.sourceData=null),"prepend"===key&&(this.prependData=null)}}),List.defaults=$.extend({},$.fn.editabletypes.abstractinput.defaults,{source:null,prepend:!1,sourceError:"Error when loading list",sourceCache:!0,sourceOptions:null}),$.fn.editabletypes.list=List}(window.jQuery),function($){"use strict";var Text=function(options){this.init("text",options,Text.defaults)};$.fn.editableutils.inherit(Text,$.fn.editabletypes.abstractinput),$.extend(Text.prototype,{render:function(){this.renderClear(),this.setClass(),this.setAttr("placeholder")},activate:function(){this.$input.is(":visible")&&(this.$input.focus(),$.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.toggleClear&&this.toggleClear())},renderClear:function(){this.options.clear&&(this.$clear=$('<span class="editable-clear-x"></span>'),this.$input.after(this.$clear).css("padding-right",24).keyup($.proxy(function(e){if(!~$.inArray(e.keyCode,[40,38,9,13,27])){clearTimeout(this.t);var that=this;this.t=setTimeout(function(){that.toggleClear(e)},100)}},this)).parent().css("position","relative"),this.$clear.click($.proxy(this.clear,this)))},postrender:function(){},toggleClear:function(){if(this.$clear){var len=this.$input.val().length,visible=this.$clear.is(":visible");len&&!visible&&this.$clear.show(),!len&&visible&&this.$clear.hide()}},clear:function(){this.$clear.hide(),this.$input.val("").focus()}}),Text.defaults=$.extend({},$.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:!0}),$.fn.editabletypes.text=Text}(window.jQuery),function($){"use strict";var Textarea=function(options){this.init("textarea",options,Textarea.defaults)};$.fn.editableutils.inherit(Textarea,$.fn.editabletypes.abstractinput),$.extend(Textarea.prototype,{render:function(){this.setClass(),this.setAttr("placeholder"),this.setAttr("rows"),this.$input.keydown(function(e){e.ctrlKey&&13===e.which&&$(this).closest("form").submit()})},activate:function(){$.fn.editabletypes.text.prototype.activate.call(this)}}),Textarea.defaults=$.extend({},$.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7}),$.fn.editabletypes.textarea=Textarea}(window.jQuery),function($){"use strict";var Select=function(options){this.init("select",options,Select.defaults)};$.fn.editableutils.inherit(Select,$.fn.editabletypes.list),$.extend(Select.prototype,{renderList:function(){this.$input.empty();var fillItems=function($el,data){var attr;if($.isArray(data))for(var i=0;i<data.length;i++)attr={},data[i].children?(attr.label=data[i].text,$el.append(fillItems($("<optgroup>",attr),data[i].children))):(attr.value=data[i].value,data[i].disabled&&(attr.disabled=!0),$el.append($("<option>",attr).text(data[i].text)));return $el};fillItems(this.$input,this.sourceData),this.setClass(),this.$input.on("keydown.editable",function(e){13===e.which&&$(this).closest("form").submit()})},value2htmlFinal:function(value,element){var text="",items=$.fn.editableutils.itemsByValue(value,this.sourceData);items.length&&(text=items[0].text),$.fn.editabletypes.abstractinput.prototype.value2html.call(this,text,element)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){$(this).closest("form").submit()})}}),Select.defaults=$.extend({},$.fn.editabletypes.list.defaults,{tpl:"<select></select>"}),$.fn.editabletypes.select=Select}(window.jQuery),function($){"use strict";var Checklist=function(options){this.init("checklist",options,Checklist.defaults)};$.fn.editableutils.inherit(Checklist,$.fn.editabletypes.list),$.extend(Checklist.prototype,{renderList:function(){var $label;if(this.$tpl.empty(),$.isArray(this.sourceData)){for(var i=0;i<this.sourceData.length;i++)$label=$("<label>").append($("<input>",{type:"checkbox",value:this.sourceData[i].value})).append($("<span>").text(" "+this.sourceData[i].text)),$("<div>").append($label).appendTo(this.$tpl);this.$input=this.$tpl.find('input[type="checkbox"]'),this.setClass()}},value2str:function(value){return $.isArray(value)?value.sort().join($.trim(this.options.separator)):""},str2value:function(str){var reg,value=null;return"string"==typeof str&&str.length?(reg=new RegExp("\\s*"+$.trim(this.options.separator)+"\\s*"),value=str.split(reg)):value=$.isArray(str)?str:[str],value},value2input:function(value){this.$input.prop("checked",!1),$.isArray(value)&&value.length&&this.$input.each(function(i,el){var $el=$(el);$.each(value,function(j,val){$el.val()==val&&$el.prop("checked",!0)})})},input2value:function(){var checked=[];return this.$input.filter(":checked").each(function(i,el){checked.push($(el).val())}),checked},value2htmlFinal:function(value,element){var html=[],checked=$.fn.editableutils.itemsByValue(value,this.sourceData),escape=this.options.escape;checked.length?($.each(checked,function(i,v){var text=escape?$.fn.editableutils.escape(v.text):v.text;html.push(text)}),$(element).html(html.join("<br>"))):$(element).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(e){13===e.which&&$(this).closest("form").submit()})}}),Checklist.defaults=$.extend({},$.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","}),$.fn.editabletypes.checklist=Checklist}(window.jQuery),function($){"use strict";var Password=function(options){this.init("password",options,Password.defaults)};$.fn.editableutils.inherit(Password,$.fn.editabletypes.text),$.extend(Password.prototype,{value2html:function(value,element){value?$(element).text("[hidden]"):$(element).empty()},html2value:function(){return null}}),Password.defaults=$.extend({},$.fn.editabletypes.text.defaults,{tpl:'<input type="password">'}),$.fn.editabletypes.password=Password}(window.jQuery),function($){"use strict";var Email=function(options){this.init("email",options,Email.defaults)};$.fn.editableutils.inherit(Email,$.fn.editabletypes.text),Email.defaults=$.extend({},$.fn.editabletypes.text.defaults,{tpl:'<input type="email">'}),$.fn.editabletypes.email=Email}(window.jQuery),function($){"use strict";var Url=function(options){this.init("url",options,Url.defaults)};$.fn.editableutils.inherit(Url,$.fn.editabletypes.text),Url.defaults=$.extend({},$.fn.editabletypes.text.defaults,{tpl:'<input type="url">'}),$.fn.editabletypes.url=Url}(window.jQuery),function($){"use strict";var Tel=function(options){this.init("tel",options,Tel.defaults)};$.fn.editableutils.inherit(Tel,$.fn.editabletypes.text),Tel.defaults=$.extend({},$.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'}),$.fn.editabletypes.tel=Tel}(window.jQuery),function($){"use strict";var NumberInput=function(options){this.init("number",options,NumberInput.defaults)};$.fn.editableutils.inherit(NumberInput,$.fn.editabletypes.text),$.extend(NumberInput.prototype,{render:function(){NumberInput.superclass.render.call(this),this.setAttr("min"),this.setAttr("max"),this.setAttr("step")},postrender:function(){this.$clear&&this.$clear.css({right:24})}}),NumberInput.defaults=$.extend({},$.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null}),$.fn.editabletypes.number=NumberInput}(window.jQuery),function($){"use strict";var Range=function(options){this.init("range",options,Range.defaults)};$.fn.editableutils.inherit(Range,$.fn.editabletypes.number),$.extend(Range.prototype,{render:function(){this.$input=this.$tpl.filter("input"),this.setClass(),this.setAttr("min"),this.setAttr("max"),this.setAttr("step"),this.$input.on("input",function(){$(this).siblings("output").text($(this).val())})},activate:function(){this.$input.focus()}}),Range.defaults=$.extend({},$.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"input-medium"}),$.fn.editabletypes.range=Range}(window.jQuery),function($){"use strict";var Time=function(options){this.init("time",options,Time.defaults)};$.fn.editableutils.inherit(Time,$.fn.editabletypes.abstractinput),$.extend(Time.prototype,{render:function(){this.setClass()}}),Time.defaults=$.extend({},$.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'}),$.fn.editabletypes.time=Time}(window.jQuery),function($){"use strict";var Constructor=function(options){if(this.init("select2",options,Constructor.defaults),options.select2=options.select2||{},this.sourceData=null,options.placeholder&&(options.select2.placeholder=options.placeholder),!options.select2.tags&&options.source){var source=options.source;$.isFunction(options.source)&&(source=options.source.call(options.scope)),"string"==typeof source?(options.select2.ajax=options.select2.ajax||{},options.select2.ajax.data||(options.select2.ajax.data=function(term){return{query:term}}),options.select2.ajax.results||(options.select2.ajax.results=function(data){return{results:data}}),options.select2.ajax.url=source):(this.sourceData=this.convertSource(source),options.select2.data=this.sourceData)}if(this.options.select2=$.extend({},Constructor.defaults.select2,options.select2),this.isMultiple=this.options.select2.tags||this.options.select2.multiple,this.isRemote="ajax"in this.options.select2,this.idFunc=this.options.select2.id,"function"!=typeof this.idFunc){var idKey=this.idFunc||"id";this.idFunc=function(e){return e[idKey]}}this.formatSelection=this.options.select2.formatSelection,"function"!=typeof this.formatSelection&&(this.formatSelection=function(e){return e.text})};$.fn.editableutils.inherit(Constructor,$.fn.editabletypes.abstractinput),$.extend(Constructor.prototype,{render:function(){this.setClass(),this.isRemote&&this.$input.on("select2-loaded",$.proxy(function(e){this.sourceData=e.items.results},this)),this.isMultiple&&this.$input.on("change",function(){$(this).closest("form").parent().triggerHandler("resize")})},value2html:function(value,element){var data,text="",that=this;this.options.select2.tags?data=value:this.sourceData&&(data=$.fn.editableutils.itemsByValue(value,this.sourceData,this.idFunc)),$.isArray(data)?(text=[],$.each(data,function(k,v){text.push(v&&"object"==typeof v?that.formatSelection(v):v)})):data&&(text=that.formatSelection(data)),text=$.isArray(text)?text.join(this.options.viewseparator):text,Constructor.superclass.value2html.call(this,text,element)},html2value:function(html){return this.options.select2.tags?this.str2value(html,this.options.viewseparator):null},value2input:function(value){if($.isArray(value)&&(value=value.join(this.getSeparator())),this.$input.data("select2")?this.$input.val(value).trigger("change",!0):(this.$input.val(value),this.$input.select2(this.options.select2)),this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var customId=this.options.select2.id,customText=this.options.select2.formatSelection;if(!customId&&!customText){var $el=$(this.options.scope);if(!$el.data("editable").isEmpty){var data={id:value,text:$el.text()};this.$input.select2("data",data)}}}},input2value:function(){return this.$input.select2("val")},str2value:function(str,separator){if("string"!=typeof str||!this.isMultiple)return str;separator=separator||this.getSeparator();var val,i,l;if(null===str||str.length<1)return null;for(val=str.split(separator),i=0,l=val.length;l>i;i+=1)val[i]=$.trim(val[i]);return val},autosubmit:function(){this.$input.on("change",function(e,isInitial){isInitial||$(this).closest("form").submit()})},getSeparator:function(){return this.options.select2.separator||$.fn.select2.defaults.separator},convertSource:function(source){if($.isArray(source)&&source.length&&void 0!==source[0].value)for(var i=0;i<source.length;i++)void 0!==source[i].value&&(source[i].id=source[i].value,delete source[i].value);return source},destroy:function(){this.$input.data("select2")&&this.$input.select2("destroy")}}),Constructor.defaults=$.extend({},$.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "}),$.fn.editabletypes.select2=Constructor}(window.jQuery),function($){var Combodate=function(element,options){return this.$element=$(element),this.$element.is("input")?(this.options=$.extend({},$.fn.combodate.defaults,options,this.$element.data()),void this.init()):void $.error("Combodate should be applied to INPUT element")};Combodate.prototype={constructor:Combodate,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=$('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.$widget.on("change","select",$.proxy(function(e){this.$element.val(this.getValue()).change(),this.options.smartDays&&($(e.target).is(".month")||$(e.target).is(".year"))&&this.fillCombo("day")},this)),this.$widget.find("select").css("width","auto"),this.$element.hide().after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var tpl=this.options.template;return $.each(this.map,function(k,v){v=v[0];var r=new RegExp(v+"+"),token=v.length>1?v.substring(1,2):v;tpl=tpl.replace(r,"{"+token+"}")}),tpl=tpl.replace(/ /g,"&nbsp;"),$.each(this.map,function(k,v){v=v[0];var token=v.length>1?v.substring(1,2):v;tpl=tpl.replace("{"+token+"}",'<select class="'+k+'"></select>')}),tpl},initCombos:function(){for(var k in this.map){var $c=this.$widget.find("."+k);this["$"+k]=$c.length?$c:null,this.fillCombo(k)}},fillCombo:function(k){var $combo=this["$"+k];if($combo){var f="fill"+k.charAt(0).toUpperCase()+k.slice(1),items=this[f](),value=$combo.val();$combo.empty();for(var i=0;i<items.length;i++)$combo.append('<option value="'+items[i][0]+'">'+items[i][1]+"</option>");$combo.val(value)}},fillCommon:function(key){var relTime,values=[];if("name"===this.options.firstItem){relTime=moment.relativeTime||moment.langData()._relativeTime;var header="function"==typeof relTime[key]?relTime[key](1,!0,key,!1):relTime[key];header=header.split(" ").reverse()[0],values.push(["",header])}else"empty"===this.options.firstItem&&values.push(["",""]);return values},fillDay:function(){var name,i,items=this.fillCommon("d"),twoDigit=-1!==this.options.template.indexOf("DD"),daysCount=31;if(this.options.smartDays&&this.$month&&this.$year){var month=parseInt(this.$month.val(),10),year=parseInt(this.$year.val(),10);isNaN(month)||isNaN(year)||(daysCount=moment([year,month]).daysInMonth())}for(i=1;daysCount>=i;i++)name=twoDigit?this.leadZero(i):i,items.push([i,name]);return items},fillMonth:function(){var name,i,items=this.fillCommon("M"),longNames=-1!==this.options.template.indexOf("MMMM"),shortNames=-1!==this.options.template.indexOf("MMM"),twoDigit=-1!==this.options.template.indexOf("MM");for(i=0;11>=i;i++)name=longNames?moment().date(1).month(i).format("MMMM"):shortNames?moment().date(1).month(i).format("MMM"):twoDigit?this.leadZero(i+1):i+1,items.push([i,name]);return items},fillYear:function(){var name,i,items=[],longNames=-1!==this.options.template.indexOf("YYYY");for(i=this.options.maxYear;i>=this.options.minYear;i--)name=longNames?i:(i+"").substring(2),items[this.options.yearDescending?"push":"unshift"]([i,name]);return items=this.fillCommon("y").concat(items)},fillHour:function(){var name,i,items=this.fillCommon("h"),h12=-1!==this.options.template.indexOf("h"),twoDigit=(-1!==this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),min=h12?1:0,max=h12?12:23;for(i=min;max>=i;i++)name=twoDigit?this.leadZero(i):i,items.push([i,name]);return items},fillMinute:function(){var name,i,items=this.fillCommon("m"),twoDigit=-1!==this.options.template.indexOf("mm");for(i=0;59>=i;i+=this.options.minuteStep)name=twoDigit?this.leadZero(i):i,items.push([i,name]);return items},fillSecond:function(){var name,i,items=this.fillCommon("s"),twoDigit=-1!==this.options.template.indexOf("ss");for(i=0;59>=i;i+=this.options.secondStep)name=twoDigit?this.leadZero(i):i,items.push([i,name]);return items},fillAmpm:function(){var ampmL=-1!==this.options.template.indexOf("a"),items=(-1!==this.options.template.indexOf("A"),[["am",ampmL?"am":"AM"],["pm",ampmL?"pm":"PM"]]);return items},getValue:function(format){var dt,values={},that=this,notSelected=!1;return $.each(this.map,function(k){if("ampm"!==k){var def="day"===k?1:0;return values[k]=that["$"+k]?parseInt(that["$"+k].val(),10):def,isNaN(values[k])?(notSelected=!0,!1):void 0}}),notSelected?"":(this.$ampm&&(values.hour=12===values.hour?"am"===this.$ampm.val()?0:12:"am"===this.$ampm.val()?values.hour:values.hour+12),dt=moment([values.year,values.month,values.day,values.hour,values.minute,values.second]),this.highlight(dt),format=void 0===format?this.options.format:format,null===format?dt.isValid()?dt:null:dt.isValid()?dt.format(format):"")},setValue:function(value){function getNearest($select,value){var delta={};return $select.children("option").each(function(i,opt){var distance,optValue=$(opt).attr("value");""!==optValue&&(distance=Math.abs(optValue-value),("undefined"==typeof delta.distance||distance<delta.distance)&&(delta={value:optValue,distance:distance}))}),delta.value}if(value){var dt="string"==typeof value?moment(value,this.options.format):moment(value),that=this,values={};dt.isValid()&&($.each(this.map,function(k,v){"ampm"!==k&&(values[k]=dt[v[1]]())}),this.$ampm&&(values.hour>=12?(values.ampm="pm",values.hour>12&&(values.hour-=12)):(values.ampm="am",0===values.hour&&(values.hour=12))),$.each(values,function(k,v){that["$"+k]&&("minute"===k&&that.options.minuteStep>1&&that.options.roundTime&&(v=getNearest(that["$"+k],v)),"second"===k&&that.options.secondStep>1&&that.options.roundTime&&(v=getNearest(that["$"+k],v)),that["$"+k].val(v))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(dt.format(this.options.format)).change())}},highlight:function(dt){dt.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(v){return 9>=v?"0"+v:v},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},$.fn.combodate=function(option){var d,args=Array.apply(null,arguments);return args.shift(),"getValue"===option&&this.length&&(d=this.eq(0).data("combodate"))?d.getValue.apply(d,args):this.each(function(){var $this=$(this),data=$this.data("combodate"),options="object"==typeof option&&option;data||$this.data("combodate",data=new Combodate(this,options)),"string"==typeof option&&"function"==typeof data[option]&&data[option].apply(data,args)})},$.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:!0,smartDays:!1}}(window.jQuery),function($){"use strict";var Constructor=function(options){this.init("combodate",options,Constructor.defaults),this.options.viewformat||(this.options.viewformat=this.options.format),options.combodate=$.fn.editableutils.tryParseJson(options.combodate,!0),this.options.combodate=$.extend({},Constructor.defaults.combodate,options.combodate,{format:this.options.format,template:this.options.template})};$.fn.editableutils.inherit(Constructor,$.fn.editabletypes.abstractinput),$.extend(Constructor.prototype,{render:function(){this.$input.combodate(this.options.combodate),"bs3"===$.fn.editableform.engine&&this.$input.siblings().find("select").addClass("form-control"),this.options.inputclass&&this.$input.siblings().find("select").addClass(this.options.inputclass)},value2html:function(value,element){var text=value?value.format(this.options.viewformat):"";Constructor.superclass.value2html.call(this,text,element)},html2value:function(html){return html?moment(html,this.options.viewformat):null},value2str:function(value){return value?value.format(this.options.format):""},str2value:function(str){return str?moment(str,this.options.format):null},value2submit:function(value){return this.value2str(value)},value2input:function(value){this.$input.combodate("setValue",value)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}}),Constructor.defaults=$.extend({},$.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null}),$.fn.editabletypes.combodate=Constructor}(window.jQuery),function($){"use strict";var pInitInput=$.fn.editableform.Constructor.prototype.initInput;$.extend($.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=$($.fn.editableform.template),this.$form.find(".control-group").addClass("form-group"),this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){pInitInput.apply(this);var emptyInputClass=null===this.input.options.inputclass||this.input.options.inputclass===!1,defaultClass="input-sm",stdtypes="text,select,textarea,password,email,url,tel,number,range,time,typeaheadjs".split(",");~$.inArray(this.input.type,stdtypes)&&(this.input.$input.addClass("form-control"),emptyInputClass&&(this.input.options.inputclass=defaultClass,this.input.$input.addClass(defaultClass)));for(var $btn=this.$form.find(".editable-buttons"),classes=emptyInputClass?[defaultClass]:this.input.options.inputclass.split(" "),i=0;i<classes.length;i++)"input-lg"===classes[i].toLowerCase()&&$btn.find("button").removeClass("btn-sm").addClass("btn-lg")}}),$.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="glyphicon glyphicon-ok"></i></button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="glyphicon glyphicon-remove"></i></button>',$.fn.editableform.errorGroupClass="has-error",$.fn.editableform.errorBlockClass=null,$.fn.editableform.engine="bs3"}(window.jQuery),function($){"use strict";$.extend($.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:$.fn.popover.Constructor.DEFAULTS,initContainer:function(){$.extend(this.containerOptions,{trigger:"manual",selector:!1,content:" ",template:this.defaults.template});var t;this.$element.data("template")&&(t=this.$element.data("template"),this.$element.removeData("template")),this.call(this.containerOptions),t&&this.$element.data("template",t)},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(key,value){this.container().options[key]=value},setPosition:function(){(function(){var $tip=this.tip(),placement="function"==typeof this.options.placement?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement,autoToken=/\s?auto?\s?/i,autoPlace=autoToken.test(placement);autoPlace&&(placement=placement.replace(autoToken,"")||"top");var pos=this.getPosition(),actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight;if(autoPlace){var $parent=this.$element.parent(),orgPlacement=placement,docScroll=document.documentElement.scrollTop||document.body.scrollTop,parentWidth="body"==this.options.container?window.innerWidth:$parent.outerWidth(),parentHeight="body"==this.options.container?window.innerHeight:$parent.outerHeight(),parentLeft="body"==this.options.container?0:$parent.offset().left;placement="bottom"==placement&&pos.top+pos.height+actualHeight-docScroll>parentHeight?"top":"top"==placement&&pos.top-docScroll-actualHeight<0?"bottom":"right"==placement&&pos.right+actualWidth>parentWidth?"left":"left"==placement&&pos.left-actualWidth<parentLeft?"right":placement,$tip.removeClass(orgPlacement).addClass(placement)}var calculatedOffset=this.getCalculatedOffset(placement,pos,actualWidth,actualHeight);this.applyPlacement(calculatedOffset,placement)}).call(this.container())}})}(window.jQuery),function($){function UTCDate(){return new Date(Date.UTC.apply(Date,arguments))}function opts_from_el(el,prefix){var inkey,data=$(el).data(),out={},replace=new RegExp("^"+prefix.toLowerCase()+"([A-Z])"),prefix=new RegExp("^"+prefix.toLowerCase());for(var key in data)prefix.test(key)&&(inkey=key.replace(replace,function(_,a){return a.toLowerCase()}),out[inkey]=data[key]);return out}function opts_from_locale(lang){var out={};if(dates[lang]||(lang=lang.split("-")[0],dates[lang])){var d=dates[lang];return $.each(locale_opts,function(i,k){k in d&&(out[k]=d[k])}),out}}var Datepicker=function(element,options){this._process_options(options),this.element=$(element),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=$(DPGlobal.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(i,val){return parseInt(val)+1
}),this._allow_update=!1,this.setStartDate(this.o.startDate),this.setEndDate(this.o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};Datepicker.prototype={constructor:Datepicker,_process_options:function(opts){this._o=$.extend({},this._o,opts);var o=this.o=$.extend({},this._o),lang=o.language;switch(dates[lang]||(lang=lang.split("-")[0],dates[lang]||(lang=defaults.language)),o.language=lang,o.startView){case 2:case"decade":o.startView=2;break;case 1:case"year":o.startView=1;break;default:o.startView=0}switch(o.minViewMode){case 1:case"months":o.minViewMode=1;break;case 2:case"years":o.minViewMode=2;break;default:o.minViewMode=0}o.startView=Math.max(o.startView,o.minViewMode),o.weekStart%=7,o.weekEnd=(o.weekStart+6)%7;var format=DPGlobal.parseFormat(o.format);o.startDate!==-1/0&&(o.startDate=DPGlobal.parseDate(o.startDate,format,o.language)),1/0!==o.endDate&&(o.endDate=DPGlobal.parseDate(o.endDate,format,o.language)),o.daysOfWeekDisabled=o.daysOfWeekDisabled||[],$.isArray(o.daysOfWeekDisabled)||(o.daysOfWeekDisabled=o.daysOfWeekDisabled.split(/[,\s]*/)),o.daysOfWeekDisabled=$.map(o.daysOfWeekDisabled,function(d){return parseInt(d,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(evs){for(var el,ev,i=0;i<evs.length;i++)el=evs[i][0],ev=evs[i][1],el.on(ev)},_unapplyEvents:function(evs){for(var el,ev,i=0;i<evs.length;i++)el=evs[i][0],ev=evs[i][1],el.off(ev)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:$.proxy(this.show,this),keyup:$.proxy(this.update,this),keydown:$.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:$.proxy(this.show,this),keyup:$.proxy(this.update,this),keydown:$.proxy(this.keydown,this)}],[this.component,{click:$.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:$.proxy(this.show,this)}]],this._secondaryEvents=[[this.picker,{click:$.proxy(this.click,this)}],[$(window),{resize:$.proxy(this.place,this)}],[$(document),{mousedown:$.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).size()||this.picker.is(e.target)||this.picker.find(e.target).size()||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(event,altdate){var date=altdate||this.date,local_date=new Date(date.getTime()+6e4*date.getTimezoneOffset());this.element.trigger({type:event,date:local_date,format:$.proxy(function(altformat){var format=altformat||this.o.format;return DPGlobal.formatDate(date,format,this.o.language)},this)})},show:function(e){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),this._attachSecondaryEvents(),e&&e.preventDefault(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},getDate:function(){var d=this.getUTCDate();return new Date(d.getTime()+6e4*d.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(d){this.setUTCDate(new Date(d.getTime()-6e4*d.getTimezoneOffset()))},setUTCDate:function(d){this.date=d,this.setValue()},setValue:function(){var formatted=this.getFormattedDate();this.isInput?this.element.val(formatted):this.component&&this.element.find("input").val(formatted)},getFormattedDate:function(format){return void 0===format&&(format=this.o.format),DPGlobal.formatDate(this.date,format,this.o.language)},setStartDate:function(startDate){this._process_options({startDate:startDate}),this.update(),this.updateNavArrows()},setEndDate:function(endDate){this._process_options({endDate:endDate}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(daysOfWeekDisabled){this._process_options({daysOfWeekDisabled:daysOfWeekDisabled}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var zIndex=parseInt(this.element.parents().filter(function(){return"auto"!=$(this).css("z-index")}).first().css("z-index"))+10,offset=this.component?this.component.parent().offset():this.element.offset(),height=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:offset.top+height,left:offset.left,zIndex:zIndex})}},_allow_update:!0,update:function(){if(this._allow_update){var date,fromArgs=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(date=arguments[0],fromArgs=!0):(date=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date),this.date=DPGlobal.parseDate(date,this.o.format,this.o.language),fromArgs&&this.setValue(),this.viewDate=new Date(this.date<this.o.startDate?this.o.startDate:this.date>this.o.endDate?this.o.endDate:this.date),this.fill()}},fillDow:function(){var dowCnt=this.o.weekStart,html="<tr>";if(this.o.calendarWeeks){var cell='<th class="cw">&nbsp;</th>';html+=cell,this.picker.find(".datepicker-days thead tr:first-child").prepend(cell)}for(;dowCnt<this.o.weekStart+7;)html+='<th class="dow">'+dates[this.o.language].daysMin[dowCnt++%7]+"</th>";html+="</tr>",this.picker.find(".datepicker-days thead").append(html)},fillMonths:function(){for(var html="",i=0;12>i;)html+='<span class="month">'+dates[this.o.language].monthsShort[i++]+"</span>";this.picker.find(".datepicker-months td").html(html)},setRange:function(range){range&&range.length?this.range=$.map(range,function(d){return d.valueOf()}):delete this.range,this.fill()},getClassNames:function(date){var cls=[],year=this.viewDate.getUTCFullYear(),month=this.viewDate.getUTCMonth(),currentDate=this.date.valueOf(),today=new Date;return date.getUTCFullYear()<year||date.getUTCFullYear()==year&&date.getUTCMonth()<month?cls.push("old"):(date.getUTCFullYear()>year||date.getUTCFullYear()==year&&date.getUTCMonth()>month)&&cls.push("new"),this.o.todayHighlight&&date.getUTCFullYear()==today.getFullYear()&&date.getUTCMonth()==today.getMonth()&&date.getUTCDate()==today.getDate()&&cls.push("today"),currentDate&&date.valueOf()==currentDate&&cls.push("active"),(date.valueOf()<this.o.startDate||date.valueOf()>this.o.endDate||-1!==$.inArray(date.getUTCDay(),this.o.daysOfWeekDisabled))&&cls.push("disabled"),this.range&&(date>this.range[0]&&date<this.range[this.range.length-1]&&cls.push("range"),-1!=$.inArray(date.valueOf(),this.range)&&cls.push("selected")),cls},fill:function(){{var tooltip,d=new Date(this.viewDate),year=d.getUTCFullYear(),month=d.getUTCMonth(),startYear=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,startMonth=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,endYear=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,endMonth=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0;this.date&&this.date.valueOf()}this.picker.find(".datepicker-days thead th.datepicker-switch").text(dates[this.o.language].months[month]+" "+year),this.picker.find("tfoot th.today").text(dates[this.o.language].today).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(dates[this.o.language].clear).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var prevMonth=UTCDate(year,month-1,28,0,0,0,0),day=DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(),prevMonth.getUTCMonth());prevMonth.setUTCDate(day),prevMonth.setUTCDate(day-(prevMonth.getUTCDay()-this.o.weekStart+7)%7);var nextMonth=new Date(prevMonth);nextMonth.setUTCDate(nextMonth.getUTCDate()+42),nextMonth=nextMonth.valueOf();for(var clsName,html=[];prevMonth.valueOf()<nextMonth;){if(prevMonth.getUTCDay()==this.o.weekStart&&(html.push("<tr>"),this.o.calendarWeeks)){var ws=new Date(+prevMonth+(this.o.weekStart-prevMonth.getUTCDay()-7)%7*864e5),th=new Date(+ws+(11-ws.getUTCDay())%7*864e5),yth=new Date(+(yth=UTCDate(th.getUTCFullYear(),0,1))+(11-yth.getUTCDay())%7*864e5),calWeek=(th-yth)/864e5/7+1;html.push('<td class="cw">'+calWeek+"</td>")}clsName=this.getClassNames(prevMonth),clsName.push("day");var before=this.o.beforeShowDay(prevMonth);void 0===before?before={}:"boolean"==typeof before?before={enabled:before}:"string"==typeof before&&(before={classes:before}),before.enabled===!1&&clsName.push("disabled"),before.classes&&(clsName=clsName.concat(before.classes.split(/\s+/))),before.tooltip&&(tooltip=before.tooltip),clsName=$.unique(clsName),html.push('<td class="'+clsName.join(" ")+'"'+(tooltip?' title="'+tooltip+'"':"")+">"+prevMonth.getUTCDate()+"</td>"),prevMonth.getUTCDay()==this.o.weekEnd&&html.push("</tr>"),prevMonth.setUTCDate(prevMonth.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(html.join(""));var currentYear=this.date&&this.date.getUTCFullYear(),months=this.picker.find(".datepicker-months").find("th:eq(1)").text(year).end().find("span").removeClass("active");currentYear&&currentYear==year&&months.eq(this.date.getUTCMonth()).addClass("active"),(startYear>year||year>endYear)&&months.addClass("disabled"),year==startYear&&months.slice(0,startMonth).addClass("disabled"),year==endYear&&months.slice(endMonth+1).addClass("disabled"),html="",year=10*parseInt(year/10,10);var yearCont=this.picker.find(".datepicker-years").find("th:eq(1)").text(year+"-"+(year+9)).end().find("td");year-=1;for(var i=-1;11>i;i++)html+='<span class="year'+(-1==i?" old":10==i?" new":"")+(currentYear==year?" active":"")+(startYear>year||year>endYear?" disabled":"")+'">'+year+"</span>",year+=1;yearCont.html(html)},updateNavArrows:function(){if(this._allow_update){var d=new Date(this.viewDate),year=d.getUTCFullYear(),month=d.getUTCMonth();switch(this.viewMode){case 0:this.picker.find(".prev").css(this.o.startDate!==-1/0&&year<=this.o.startDate.getUTCFullYear()&&month<=this.o.startDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&year>=this.o.endDate.getUTCFullYear()&&month>=this.o.endDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:case 2:this.picker.find(".prev").css(this.o.startDate!==-1/0&&year<=this.o.startDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&year>=this.o.endDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"})}}},click:function(e){e.preventDefault();var target=$(e.target).closest("span, td, th");if(1==target.length)switch(target[0].nodeName.toLowerCase()){case"th":switch(target[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var dir=DPGlobal.modes[this.viewMode].navStep*("prev"==target[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,dir);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,dir)}this.fill();break;case"today":var date=new Date;date=UTCDate(date.getFullYear(),date.getMonth(),date.getDate(),0,0,0),this.showMode(-2);var which="linked"==this.o.todayBtn?null:"view";this._setDate(date,which);break;case"clear":var element;this.isInput?element=this.element:this.component&&(element=this.element.find("input")),element&&element.val("").change(),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide()}break;case"span":if(!target.is(".disabled")){if(this.viewDate.setUTCDate(1),target.is(".month")){var day=1,month=target.parent().find("span").index(target),year=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(month),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(UTCDate(year,month,day,0,0,0,0))}else{var year=parseInt(target.text(),10)||0,day=1,month=0;this.viewDate.setUTCFullYear(year),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(UTCDate(year,month,day,0,0,0,0))}this.showMode(-1),this.fill()}break;case"td":if(target.is(".day")&&!target.is(".disabled")){var day=parseInt(target.text(),10)||1,year=this.viewDate.getUTCFullYear(),month=this.viewDate.getUTCMonth();target.is(".old")?0===month?(month=11,year-=1):month-=1:target.is(".new")&&(11==month?(month=0,year+=1):month+=1),this._setDate(UTCDate(year,month,day,0,0,0,0))}}},_setDate:function(date,which){which&&"date"!=which||(this.date=new Date(date)),which&&"view"!=which||(this.viewDate=new Date(date)),this.fill(),this.setValue(),this._trigger("changeDate");var element;this.isInput?element=this.element:this.component&&(element=this.element.find("input")),element&&(element.change(),!this.o.autoclose||which&&"date"!=which||this.hide())},moveMonth:function(date,dir){if(!dir)return date;var new_month,test,new_date=new Date(date.valueOf()),day=new_date.getUTCDate(),month=new_date.getUTCMonth(),mag=Math.abs(dir);if(dir=dir>0?1:-1,1==mag)test=-1==dir?function(){return new_date.getUTCMonth()==month}:function(){return new_date.getUTCMonth()!=new_month},new_month=month+dir,new_date.setUTCMonth(new_month),(0>new_month||new_month>11)&&(new_month=(new_month+12)%12);else{for(var i=0;mag>i;i++)new_date=this.moveMonth(new_date,dir);new_month=new_date.getUTCMonth(),new_date.setUTCDate(day),test=function(){return new_month!=new_date.getUTCMonth()}}for(;test();)new_date.setUTCDate(--day),new_date.setUTCMonth(new_month);return new_date},moveYear:function(date,dir){return this.moveMonth(date,12*dir)},dateWithinRange:function(date){return date>=this.o.startDate&&date<=this.o.endDate},keydown:function(e){if(this.picker.is(":not(:visible)"))return void(27==e.keyCode&&this.show());var dir,newDate,newViewDate,dateChanged=!1;switch(e.keyCode){case 27:this.hide(),e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;dir=37==e.keyCode?-1:1,e.ctrlKey?(newDate=this.moveYear(this.date,dir),newViewDate=this.moveYear(this.viewDate,dir)):e.shiftKey?(newDate=this.moveMonth(this.date,dir),newViewDate=this.moveMonth(this.viewDate,dir)):(newDate=new Date(this.date),newDate.setUTCDate(this.date.getUTCDate()+dir),newViewDate=new Date(this.viewDate),newViewDate.setUTCDate(this.viewDate.getUTCDate()+dir)),this.dateWithinRange(newDate)&&(this.date=newDate,this.viewDate=newViewDate,this.setValue(),this.update(),e.preventDefault(),dateChanged=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;dir=38==e.keyCode?-1:1,e.ctrlKey?(newDate=this.moveYear(this.date,dir),newViewDate=this.moveYear(this.viewDate,dir)):e.shiftKey?(newDate=this.moveMonth(this.date,dir),newViewDate=this.moveMonth(this.viewDate,dir)):(newDate=new Date(this.date),newDate.setUTCDate(this.date.getUTCDate()+7*dir),newViewDate=new Date(this.viewDate),newViewDate.setUTCDate(this.viewDate.getUTCDate()+7*dir)),this.dateWithinRange(newDate)&&(this.date=newDate,this.viewDate=newViewDate,this.setValue(),this.update(),e.preventDefault(),dateChanged=!0);break;case 13:this.hide(),e.preventDefault();break;case 9:this.hide()}if(dateChanged){this._trigger("changeDate");var element;this.isInput?element=this.element:this.component&&(element=this.element.find("input")),element&&element.change()}},showMode:function(dir){dir&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+dir))),this.picker.find(">div").hide().filter(".datepicker-"+DPGlobal.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var DateRangePicker=function(element,options){this.element=$(element),this.inputs=$.map(options.inputs,function(i){return i.jquery?i[0]:i}),delete options.inputs,$(this.inputs).datepicker(options).bind("changeDate",$.proxy(this.dateUpdated,this)),this.pickers=$.map(this.inputs,function(i){return $(i).data("datepicker")}),this.updateDates()};DateRangePicker.prototype={updateDates:function(){this.dates=$.map(this.pickers,function(i){return i.date}),this.updateRanges()},updateRanges:function(){var range=$.map(this.dates,function(d){return d.valueOf()});$.each(this.pickers,function(i,p){p.setRange(range)})},dateUpdated:function(e){var dp=$(e.target).data("datepicker"),new_date=dp.getUTCDate(),i=$.inArray(e.target,this.inputs),l=this.inputs.length;if(-1!=i){if(new_date<this.dates[i])for(;i>=0&&new_date<this.dates[i];)this.pickers[i--].setUTCDate(new_date);else if(new_date>this.dates[i])for(;l>i&&new_date>this.dates[i];)this.pickers[i++].setUTCDate(new_date);this.updateDates()}},remove:function(){$.map(this.pickers,function(p){p.remove()}),delete this.element.data().datepicker}};var old=$.fn.datepicker,datepicker=$.fn.datepicker=function(option){var args=Array.apply(null,arguments);args.shift();var internal_return;return this.each(function(){var $this=$(this),data=$this.data("datepicker"),options="object"==typeof option&&option;if(!data){var elopts=opts_from_el(this,"date"),xopts=$.extend({},defaults,elopts,options),locopts=opts_from_locale(xopts.language),opts=$.extend({},defaults,locopts,elopts,options);if($this.is(".input-daterange")||opts.inputs){var ropts={inputs:opts.inputs||$this.find("input").toArray()};$this.data("datepicker",data=new DateRangePicker(this,$.extend(opts,ropts)))}else $this.data("datepicker",data=new Datepicker(this,opts))}return"string"==typeof option&&"function"==typeof data[option]&&(internal_return=data[option].apply(data,args),void 0!==internal_return)?!1:void 0}),void 0!==internal_return?internal_return:this},defaults=$.fn.datepicker.defaults={autoclose:!1,beforeShowDay:$.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},locale_opts=$.fn.datepicker.locale_opts=["format","rtl","weekStart"];$.fn.datepicker.Constructor=Datepicker;var dates=$.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},DPGlobal={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(year){return year%4===0&&year%100!==0||year%400===0},getDaysInMonth:function(year,month){return[31,DPGlobal.isLeapYear(year)?29:28,31,30,31,30,31,31,30,31,30,31][month]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(format){var separators=format.replace(this.validParts,"\x00").split("\x00"),parts=format.match(this.validParts);if(!separators||!separators.length||!parts||0===parts.length)throw new Error("Invalid date format.");return{separators:separators,parts:parts}},parseDate:function(date,format,language){if(date instanceof Date)return date;if("string"==typeof format&&(format=DPGlobal.parseFormat(format)),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(date)){var part,dir,part_re=/([\-+]\d+)([dmwy])/,parts=date.match(/([\-+]\d+)([dmwy])/g);date=new Date;for(var i=0;i<parts.length;i++)switch(part=part_re.exec(parts[i]),dir=parseInt(part[1]),part[2]){case"d":date.setUTCDate(date.getUTCDate()+dir);break;case"m":date=Datepicker.prototype.moveMonth.call(Datepicker.prototype,date,dir);break;case"w":date.setUTCDate(date.getUTCDate()+7*dir);break;case"y":date=Datepicker.prototype.moveYear.call(Datepicker.prototype,date,dir)}return UTCDate(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),0,0,0)}var val,filtered,part,parts=date&&date.match(this.nonpunctuation)||[],date=new Date,parsed={},setters_order=["yyyy","yy","M","MM","m","mm","d","dd"],setters_map={yyyy:function(d,v){return d.setUTCFullYear(v)},yy:function(d,v){return d.setUTCFullYear(2e3+v)},m:function(d,v){for(v-=1;0>v;)v+=12;for(v%=12,d.setUTCMonth(v);d.getUTCMonth()!=v;)d.setUTCDate(d.getUTCDate()-1);return d},d:function(d,v){return d.setUTCDate(v)}};setters_map.M=setters_map.MM=setters_map.mm=setters_map.m,setters_map.dd=setters_map.d,date=UTCDate(date.getFullYear(),date.getMonth(),date.getDate(),0,0,0);var fparts=format.parts.slice();if(parts.length!=fparts.length&&(fparts=$(fparts).filter(function(i,p){return-1!==$.inArray(p,setters_order)}).toArray()),parts.length==fparts.length){for(var i=0,cnt=fparts.length;cnt>i;i++){if(val=parseInt(parts[i],10),part=fparts[i],isNaN(val))switch(part){case"MM":filtered=$(dates[language].months).filter(function(){var m=this.slice(0,parts[i].length),p=parts[i].slice(0,m.length);return m==p}),val=$.inArray(filtered[0],dates[language].months)+1;break;case"M":filtered=$(dates[language].monthsShort).filter(function(){var m=this.slice(0,parts[i].length),p=parts[i].slice(0,m.length);return m==p}),val=$.inArray(filtered[0],dates[language].monthsShort)+1}parsed[part]=val}for(var s,i=0;i<setters_order.length;i++)s=setters_order[i],s in parsed&&!isNaN(parsed[s])&&setters_map[s](date,parsed[s])}return date},formatDate:function(date,format,language){"string"==typeof format&&(format=DPGlobal.parseFormat(format));var val={d:date.getUTCDate(),D:dates[language].daysShort[date.getUTCDay()],DD:dates[language].days[date.getUTCDay()],m:date.getUTCMonth()+1,M:dates[language].monthsShort[date.getUTCMonth()],MM:dates[language].months[date.getUTCMonth()],yy:date.getUTCFullYear().toString().substring(2),yyyy:date.getUTCFullYear()};val.dd=(val.d<10?"0":"")+val.d,val.mm=(val.m<10?"0":"")+val.m;for(var date=[],seps=$.extend([],format.separators),i=0,cnt=format.parts.length;cnt>=i;i++)seps.length&&date.push(seps.shift()),date.push(val[format.parts[i]]);return date.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};DPGlobal.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+DPGlobal.headTemplate+"<tbody></tbody>"+DPGlobal.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+DPGlobal.footTemplate+"</table></div></div>",$.fn.datepicker.DPGlobal=DPGlobal,$.fn.datepicker.noConflict=function(){return $.fn.datepicker=old,this},$(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var $this=$(this);$this.data("datepicker")||(e.preventDefault(),datepicker.call($this,"show"))}),$(function(){datepicker.call($('[data-provide="datepicker-inline"]'))})}(window.jQuery),function($){"use strict";$.fn.bdatepicker=$.fn.datepicker.noConflict(),$.fn.datepicker||($.fn.datepicker=$.fn.bdatepicker);var Date=function(options){this.init("date",options,Date.defaults),this.initPicker(options,Date.defaults)};$.fn.editableutils.inherit(Date,$.fn.editabletypes.abstractinput),$.extend(Date.prototype,{initPicker:function(options,defaults){this.options.viewformat||(this.options.viewformat=this.options.format),options.datepicker=$.fn.editableutils.tryParseJson(options.datepicker,!0),this.options.datepicker=$.extend({},defaults.datepicker,options.datepicker,{format:this.options.viewformat}),this.options.datepicker.language=this.options.datepicker.language||"en",this.dpg=$.fn.bdatepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker),this.options.clear&&(this.$clear=$('<a href="#"></a>').html(this.options.clear).click($.proxy(function(e){e.preventDefault(),e.stopPropagation(),this.clear()},this)),this.$tpl.parent().append($('<div class="editable-clear">').append(this.$clear)))},value2html:function(value,element){var text=value?this.dpg.formatDate(value,this.parsedViewFormat,this.options.datepicker.language):"";Date.superclass.value2html.call(this,text,element)},html2value:function(html){return this.parseDate(html,this.parsedViewFormat)},value2str:function(value){return value?this.dpg.formatDate(value,this.parsedFormat,this.options.datepicker.language):""},str2value:function(str){return this.parseDate(str,this.parsedFormat)},value2submit:function(value){return this.value2str(value)},value2input:function(value){this.$input.bdatepicker("update",value)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".day",function(e){if(!$(e.currentTarget).is(".old")&&!$(e.currentTarget).is(".new")){var $form=$(this).closest("form");setTimeout(function(){$form.submit()},200)}})},parseDate:function(str,format){var formattedBack,date=null;return str&&(date=this.dpg.parseDate(str,format,this.options.datepicker.language),"string"==typeof str&&(formattedBack=this.dpg.formatDate(date,format,this.options.datepicker.language),str!==formattedBack&&(date=null))),date}}),Date.defaults=$.extend({},$.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!1},clear:"&times; clear"}),$.fn.editabletypes.date=Date}(window.jQuery),function($){"use strict";var DateField=function(options){this.init("datefield",options,DateField.defaults),this.initPicker(options,DateField.defaults)};$.fn.editableutils.inherit(DateField,$.fn.editabletypes.date),$.extend(DateField.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.bdatepicker(this.options.datepicker),this.$input.off("focus keydown"),this.$input.keyup($.proxy(function(){this.$tpl.removeData("date"),this.$tpl.bdatepicker("update")},this))},value2input:function(value){this.$input.val(value?this.dpg.formatDate(value,this.parsedViewFormat,this.options.datepicker.language):""),this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){$.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),DateField.defaults=$.extend({},$.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!0}}),$.fn.editabletypes.datefield=DateField}(window.jQuery),function($){"use strict";var DateTime=function(options){this.init("datetime",options,DateTime.defaults),this.initPicker(options,DateTime.defaults)};$.fn.editableutils.inherit(DateTime,$.fn.editabletypes.abstractinput),$.extend(DateTime.prototype,{initPicker:function(options,defaults){this.options.viewformat||(this.options.viewformat=this.options.format),options.datetimepicker=$.fn.editableutils.tryParseJson(options.datetimepicker,!0),this.options.datetimepicker=$.extend({},defaults.datetimepicker,options.datetimepicker,{format:this.options.viewformat}),this.options.datetimepicker.language=this.options.datetimepicker.language||"en",this.dpg=$.fn.datetimepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker),this.$input.on("changeMode",function(){var f=$(this).closest("form").parent();setTimeout(function(){f.triggerHandler("resize")},0)}),this.options.clear&&(this.$clear=$('<a href="#"></a>').html(this.options.clear).click($.proxy(function(e){e.preventDefault(),e.stopPropagation(),this.clear()},this)),this.$tpl.parent().append($('<div class="editable-clear">').append(this.$clear)))},value2html:function(value,element){var text=value?this.dpg.formatDate(this.toUTC(value),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";return element?void DateTime.superclass.value2html.call(this,text,element):text},html2value:function(html){var value=this.parseDate(html,this.parsedViewFormat);return value?this.fromUTC(value):null},value2str:function(value){return value?this.dpg.formatDate(this.toUTC(value),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(str){var value=this.parseDate(str,this.parsedFormat);return value?this.fromUTC(value):null},value2submit:function(value){return this.value2str(value)},value2input:function(value){value&&this.$input.data("datetimepicker").setDate(value)},input2value:function(){var dt=this.$input.data("datetimepicker");return dt.date?dt.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".minute",function(){var $form=$(this).closest("form");setTimeout(function(){$form.submit()},200)})},toUTC:function(value){return value?new Date(value.valueOf()-6e4*value.getTimezoneOffset()):value},fromUTC:function(value){return value?new Date(value.valueOf()+6e4*value.getTimezoneOffset()):value},parseDate:function(str,format){var formattedBack,date=null;return str&&(date=this.dpg.parseDate(str,format,this.options.datetimepicker.language,this.options.formatType),"string"==typeof str&&(formattedBack=this.dpg.formatDate(date,format,this.options.datetimepicker.language,this.options.formatType),str!==formattedBack&&(date=null))),date}}),DateTime.defaults=$.extend({},$.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:!1,autoclose:!1},clear:"&times; clear"}),$.fn.editabletypes.datetime=DateTime}(window.jQuery),function($){"use strict";var DateTimeField=function(options){this.init("datetimefield",options,DateTimeField.defaults),this.initPicker(options,DateTimeField.defaults)};$.fn.editableutils.inherit(DateTimeField,$.fn.editabletypes.datetime),$.extend(DateTimeField.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.datetimepicker(this.options.datetimepicker),this.$input.off("focus keydown"),this.$input.keyup($.proxy(function(){this.$tpl.removeData("date"),this.$tpl.datetimepicker("update")},this))},value2input:function(value){this.$input.val(this.value2html(value)),this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){$.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),DateTimeField.defaults=$.extend({},$.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:!1,autoclose:!0}}),$.fn.editabletypes.datetimefield=DateTimeField
}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.options=a.extend({},a.fn.editableform.defaults,c),this.$div=a(b),this.options.scope||(this.options.scope=this)};b.prototype={constructor:b,initInput:function(){this.input=this.options.input,this.value=this.input.str2value(this.options.value),this.input.prerender()},initTemplate:function(){this.$form=a(a.fn.editableform.template)},initButtons:function(){var b=this.$form.find(".editable-buttons");b.append(a.fn.editableform.buttons),"bottom"===this.options.showbuttons&&b.addClass("editable-buttons-bottom")},render:function(){this.$loading=a(a.fn.editableform.loading),this.$div.empty().append(this.$loading),this.initTemplate(),this.options.showbuttons?this.initButtons():this.$form.find(".editable-buttons").remove(),this.showLoading(),this.isSaving=!1,this.$div.triggerHandler("rendering"),this.initInput(),this.$form.find("div.editable-input").append(this.input.$tpl),this.$div.append(this.$form),a.when(this.input.render()).then(a.proxy(function(){if(this.options.showbuttons||this.input.autosubmit(),this.$form.find(".editable-cancel").click(a.proxy(this.cancel,this)),this.input.error)this.error(this.input.error),this.$form.find(".editable-submit").attr("disabled",!0),this.input.$input.attr("disabled",!0),this.$form.submit(function(a){a.preventDefault()});else{this.error(!1),this.input.$input.removeAttr("disabled"),this.$form.find(".editable-submit").removeAttr("disabled");var b=null===this.value||void 0===this.value||""===this.value?this.options.defaultValue:this.value;this.input.value2input(b),this.$form.submit(a.proxy(this.submit,this))}this.$div.triggerHandler("rendered"),this.showForm(),this.input.postrender&&this.input.postrender()},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var a,b;this.$form?(a=this.$form.outerWidth(),b=this.$form.outerHeight(),a&&this.$loading.width(a),b&&this.$loading.height(b),this.$form.hide()):(a=this.$loading.parent().width(),a&&this.$loading.width(a)),this.$loading.show()},showForm:function(a){this.$loading.hide(),this.$form.show(),a!==!1&&this.input.activate(),this.$div.triggerHandler("show")},error:function(b){var c,d=this.$form.find(".control-group"),e=this.$form.find(".editable-error-block");if(b===!1)d.removeClass(a.fn.editableform.errorGroupClass),e.removeClass(a.fn.editableform.errorBlockClass).empty().hide();else{if(b){c=(""+b).split("\n");for(var f=0;f<c.length;f++)c[f]=a("<div>").text(c[f]).html();b=c.join("<br>")}d.addClass(a.fn.editableform.errorGroupClass),e.addClass(a.fn.editableform.errorBlockClass).html(b).show()}},submit:function(b){b.stopPropagation(),b.preventDefault();var c=this.input.input2value(),d=this.validate(c);if("object"===a.type(d)&&void 0!==d.newValue){if(c=d.newValue,this.input.value2input(c),"string"==typeof d.msg)return this.error(d.msg),void this.showForm()}else if(d)return this.error(d),void this.showForm();if(!this.options.savenochange&&this.input.value2str(c)==this.input.value2str(this.value))return void this.$div.triggerHandler("nochange");var e=this.input.value2submit(c);this.isSaving=!0,a.when(this.save(e)).done(a.proxy(function(a){this.isSaving=!1;var b="function"==typeof this.options.success?this.options.success.call(this.options.scope,a,c):null;return b===!1?(this.error(!1),void this.showForm(!1)):"string"==typeof b?(this.error(b),void this.showForm()):(b&&"object"==typeof b&&b.hasOwnProperty("newValue")&&(c=b.newValue),this.error(!1),this.value=c,void this.$div.triggerHandler("save",{newValue:c,submitValue:e,response:a}))},this)).fail(a.proxy(function(a){this.isSaving=!1;var b;b="function"==typeof this.options.error?this.options.error.call(this.options.scope,a,c):"string"==typeof a?a:a.responseText||a.statusText||"Unknown error!",this.error(b),this.showForm()},this))},save:function(b){this.options.pk=a.fn.editableutils.tryParseJson(this.options.pk,!0);var c,d="function"==typeof this.options.pk?this.options.pk.call(this.options.scope):this.options.pk,e=!!("function"==typeof this.options.url||this.options.url&&("always"===this.options.send||"auto"===this.options.send&&null!==d&&void 0!==d));return e?(this.showLoading(),c={name:this.options.name||"",value:b,pk:d},"function"==typeof this.options.params?c=this.options.params.call(this.options.scope,c):(this.options.params=a.fn.editableutils.tryParseJson(this.options.params,!0),a.extend(c,this.options.params)),"function"==typeof this.options.url?this.options.url.call(this.options.scope,c):a.ajax(a.extend({url:this.options.url,data:c,type:"POST"},this.options.ajaxOptions))):void 0},validate:function(a){return void 0===a&&(a=this.value),"function"==typeof this.options.validate?this.options.validate.call(this.options.scope,a):void 0},option:function(a,b){a in this.options&&(this.options[a]=b),"value"===a&&this.setValue(b)},setValue:function(a,b){this.value=b?this.input.str2value(a):a,this.$form&&this.$form.is(":visible")&&this.input.value2input(this.value)}},a.fn.editableform=function(c){var d=arguments;return this.each(function(){var e=a(this),f=e.data("editableform"),g="object"==typeof c&&c;f||e.data("editableform",f=new b(this,g)),"string"==typeof c&&f[c].apply(f,Array.prototype.slice.call(d,1))})},a.fn.editableform.Constructor=b,a.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:!0,scope:null,savenochange:!1},a.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>',a.fn.editableform.loading='<div class="editableform-loading"></div>',a.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>',a.fn.editableform.errorGroupClass=null,a.fn.editableform.errorBlockClass="editable-error",a.fn.editableform.engine="jquery"}(window.jQuery),function(a){"use strict";a.fn.editableutils={inherit:function(a,b){var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.superclass=b.prototype},setCursorPosition:function(a,b){if(a.setSelectionRange)a.setSelectionRange(b,b);else if(a.createTextRange){var c=a.createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()}},tryParseJson:function(a,b){if("string"==typeof a&&a.length&&a.match(/^[\{\[].*[\}\]]$/))if(b)try{a=new Function("return "+a)()}catch(c){}finally{return a}else a=new Function("return "+a)();return a},sliceObj:function(b,c,d){var e,f,g={};if(!a.isArray(c)||!c.length)return g;for(var h=0;h<c.length;h++)e=c[h],b.hasOwnProperty(e)&&(g[e]=b[e]),d!==!0&&(f=e.toLowerCase(),b.hasOwnProperty(f)&&(g[e]=b[f]));return g},getConfigData:function(b){var c={};return a.each(b.data(),function(a,b){("object"!=typeof b||b&&"object"==typeof b&&(b.constructor===Object||b.constructor===Array))&&(c[a]=b)}),c},objectKeys:function(a){if(Object.keys)return Object.keys(a);if(a!==Object(a))throw new TypeError("Object.keys called on a non-object");var b,c=[];for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&c.push(b);return c},escape:function(b){return a("<div>").text(b).html()},itemsByValue:function(b,c,d){if(!c||null===b)return[];if("function"!=typeof d){var e=d||"value";d=function(a){return a[e]}}var f=a.isArray(b),g=[],h=this;return a.each(c,function(c,e){if(e.children)g=g.concat(h.itemsByValue(b,e.children,d));else if(f)a.grep(b,function(a){return a==(e&&"object"==typeof e?d(e):e)}).length&&g.push(e);else{var i=e&&"object"==typeof e?d(e):e;b==i&&g.push(e)}}),g},createInput:function(b){var c,d,e,f=b.type;return"date"===f&&("inline"===b.mode?a.fn.editabletypes.datefield?f="datefield":a.fn.editabletypes.dateuifield&&(f="dateuifield"):a.fn.editabletypes.date?f="date":a.fn.editabletypes.dateui&&(f="dateui"),"date"!==f||a.fn.editabletypes.date||(f="combodate")),"datetime"===f&&"inline"===b.mode&&(f="datetimefield"),"wysihtml5"!==f||a.fn.editabletypes[f]||(f="textarea"),"function"==typeof a.fn.editabletypes[f]?(c=a.fn.editabletypes[f],d=this.sliceObj(b,this.objectKeys(c.defaults)),e=new c(d)):(a.error("Unknown type: "+f),!1)},supportsTransitions:function(){var a=document.body||document.documentElement,b=a.style,c="transition",d=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof b[c])return!0;c=c.charAt(0).toUpperCase()+c.substr(1);for(var e=0;e<d.length;e++)if("string"==typeof b[d[e]+c])return!0;return!1}}}(window.jQuery),function(a){"use strict";var b=function(a,b){this.init(a,b)},c=function(a,b){this.init(a,b)};b.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(c,d){this.$element=a(c),this.options=a.extend({},a.fn.editableContainer.defaults,d),this.splitOptions(),this.formOptions.scope=this.$element[0],this.initContainer(),this.delayedHide=!1,this.$element.on("destroyed",a.proxy(function(){this.destroy()},this)),a(document).data("editable-handlers-attached")||(a(document).on("keyup.editable",function(b){27===b.which&&a(".editable-open").editableContainer("hide")}),a(document).on("click.editable",function(c){var d,e=a(c.target),f=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(a.contains(document.documentElement,c.target)&&!e.is(document)){for(d=0;d<f.length;d++)if(e.is(f[d])||e.parents(f[d]).length)return;b.prototype.closeOthers(c.target)}}),a(document).data("editable-handlers-attached",!0))},splitOptions:function(){if(this.containerOptions={},this.formOptions={},!a.fn[this.containerName])throw new Error(this.containerName+" not found. Have you included corresponding js file?");for(var b in this.options)b in this.defaults?this.containerOptions[b]=this.options[b]:this.formOptions[b]=this.options[b]},tip:function(){return this.container()?this.container().$tip:null},container:function(){var a;return this.containerDataName&&(a=this.$element.data(this.containerDataName))?a:a=this.$element.data(this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:a.proxy(this.save,this),nochange:a.proxy(function(){this.hide("nochange")},this),cancel:a.proxy(function(){this.hide("cancel")},this),show:a.proxy(function(){this.delayedHide?(this.hide(this.delayedHide.reason),this.delayedHide=!1):this.setPosition()},this),rendering:a.proxy(this.setPosition,this),resize:a.proxy(this.setPosition,this),rendered:a.proxy(function(){this.$element.triggerHandler("shown",a(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(b){this.$element.addClass("editable-open"),b!==!1&&this.closeOthers(this.$element[0]),this.innerShow(),this.tip().addClass(this.containerClass),this.$form,this.$form=a("<div>"),this.tip().is(this.innerCss)?this.tip().append(this.$form):this.tip().find(this.innerCss).append(this.$form),this.renderForm()},hide:function(a){if(this.tip()&&this.tip().is(":visible")&&this.$element.hasClass("editable-open")){if(this.$form.data("editableform").isSaving)return void(this.delayedHide={reason:a});this.delayedHide=!1,this.$element.removeClass("editable-open"),this.innerHide(),this.$element.triggerHandler("hidden",a||"manual")}},innerShow:function(){},innerHide:function(){},toggle:function(a){this.container()&&this.tip()&&this.tip().is(":visible")?this.hide():this.show(a)},setPosition:function(){},save:function(a,b){this.$element.triggerHandler("save",b),this.hide("save")},option:function(a,b){this.options[a]=b,a in this.containerOptions?(this.containerOptions[a]=b,this.setContainerOption(a,b)):(this.formOptions[a]=b,this.$form&&this.$form.editableform("option",a,b))},setContainerOption:function(a,b){this.call("option",a,b)},destroy:function(){this.hide(),this.innerDestroy(),this.$element.off("destroyed"),this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(b){a(".editable-open").each(function(c,d){if(d!==b&&!a(d).find(b).length){var e=a(d),f=e.data("editableContainer");f&&("cancel"===f.options.onblur?e.data("editableContainer").hide("onblur"):"submit"===f.options.onblur&&e.data("editableContainer").tip().find("form").submit())}})},activate:function(){this.tip&&this.tip().is(":visible")&&this.$form&&this.$form.data("editableform").input.activate()}},a.fn.editableContainer=function(d){var e=arguments;return this.each(function(){var f=a(this),g="editableContainer",h=f.data(g),i="object"==typeof d&&d,j="inline"===i.mode?c:b;h||f.data(g,h=new j(this,i)),"string"==typeof d&&h[d].apply(h,Array.prototype.slice.call(e,1))})},a.fn.editableContainer.Popup=b,a.fn.editableContainer.Inline=c,a.fn.editableContainer.defaults={value:null,placement:"top",autohide:!0,onblur:"cancel",anim:!1,mode:"popup"},jQuery.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}}(window.jQuery),function(a){"use strict";a.extend(a.fn.editableContainer.Inline.prototype,a.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=a("<span></span>"),this.options.anim||(this.options.anim=0)},splitOptions:function(){this.containerOptions={},this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide(),this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,a.proxy(function(){this.$element.show(),this.innerDestroy()},this))},innerDestroy:function(){this.tip()&&this.tip().empty().remove()}})}(window.jQuery),function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.editable.defaults,c,a.fn.editableutils.getConfigData(this.$element)),this.options.selector?this.initLive():this.init(),this.options.highlight&&!a.fn.editableutils.supportsTransitions()&&(this.options.highlight=!1)};b.prototype={constructor:b,init:function(){var b,c=!1;if(this.options.name=this.options.name||this.$element.attr("id"),this.options.scope=this.$element[0],this.input=a.fn.editableutils.createInput(this.options),this.input){switch(void 0===this.options.value||null===this.options.value?(this.value=this.input.html2value(a.trim(this.$element.html())),c=!0):(this.options.value=a.fn.editableutils.tryParseJson(this.options.value,!0),this.value="string"==typeof this.options.value?this.input.str2value(this.options.value):this.options.value),this.$element.addClass("editable"),"textarea"===this.input.type&&this.$element.addClass("editable-pre-wrapped"),"manual"!==this.options.toggle?(this.$element.addClass("editable-click"),this.$element.on(this.options.toggle+".editable",a.proxy(function(a){if(this.options.disabled||a.preventDefault(),"mouseenter"===this.options.toggle)this.show();else{var b="click"!==this.options.toggle;this.toggle(b)}},this))):this.$element.attr("tabindex",-1),"function"==typeof this.options.display&&(this.options.autotext="always"),this.options.autotext){case"always":b=!0;break;case"auto":b=!a.trim(this.$element.text()).length&&null!==this.value&&void 0!==this.value&&!c;break;default:b=!1}a.when(b?this.render():!0).then(a.proxy(function(){this.options.disabled?this.disable():this.enable(),this.$element.triggerHandler("init",this)},this))}},initLive:function(){var b=this.options.selector;this.options.selector=!1,this.options.autotext="never",this.$element.on(this.options.toggle+".editable",b,a.proxy(function(b){var c=a(b.target);c.data("editable")||(c.hasClass(this.options.emptyclass)&&c.empty(),c.editable(this.options).trigger(b))},this))},render:function(a){return this.options.display!==!1?this.input.value2htmlFinal?this.input.value2html(this.value,this.$element[0],this.options.display,a):"function"==typeof this.options.display?this.options.display.call(this.$element[0],this.value,a):this.input.value2html(this.value,this.$element[0]):void 0},enable:function(){this.options.disabled=!1,this.$element.removeClass("editable-disabled"),this.handleEmpty(this.isEmpty),"manual"!==this.options.toggle&&"-1"===this.$element.attr("tabindex")&&this.$element.removeAttr("tabindex")},disable:function(){this.options.disabled=!0,this.hide(),this.$element.addClass("editable-disabled"),this.handleEmpty(this.isEmpty),this.$element.attr("tabindex",-1)},toggleDisabled:function(){this.options.disabled?this.enable():this.disable()},option:function(b,c){return b&&"object"==typeof b?void a.each(b,a.proxy(function(b,c){this.option(a.trim(b),c)},this)):(this.options[b]=c,"disabled"===b?c?this.disable():this.enable():("value"===b&&this.setValue(c),this.container&&this.container.option(b,c),void(this.input.option&&this.input.option(b,c))))},handleEmpty:function(b){this.options.display!==!1&&(this.isEmpty=void 0!==b?b:"function"==typeof this.input.isEmpty?this.input.isEmpty(this.$element):""===a.trim(this.$element.html()),this.options.disabled?this.isEmpty&&(this.$element.empty(),this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass)):this.isEmpty?(this.$element.html(this.options.emptytext),this.options.emptyclass&&this.$element.addClass(this.options.emptyclass)):this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass))},show:function(b){if(!this.options.disabled){if(this.container){if(this.container.tip().is(":visible"))return}else{var c=a.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(c),this.$element.on("save.internal",a.proxy(this.save,this)),this.container=this.$element.data("editableContainer")}this.container.show(b)}},hide:function(){this.container&&this.container.hide()},toggle:function(a){this.container&&this.container.tip().is(":visible")?this.hide():this.show(a)},save:function(a,b){if(this.options.unsavedclass){var c=!1;c=c||"function"==typeof this.options.url,c=c||this.options.display===!1,c=c||void 0!==b.response,c=c||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(b.newValue),c?this.$element.removeClass(this.options.unsavedclass):this.$element.addClass(this.options.unsavedclass)}if(this.options.highlight){var d=this.$element,e=d.css("background-color");d.css("background-color",this.options.highlight),setTimeout(function(){"transparent"===e&&(e=""),d.css("background-color",e),d.addClass("editable-bg-transition"),setTimeout(function(){d.removeClass("editable-bg-transition")},1700)},10)}this.setValue(b.newValue,!1,b.response)},validate:function(){return"function"==typeof this.options.validate?this.options.validate.call(this,this.value):void 0},setValue:function(b,c,d){this.value=c?this.input.str2value(b):b,this.container&&this.container.option("value",this.value),a.when(this.render(d)).then(a.proxy(function(){this.handleEmpty()},this))},activate:function(){this.container&&this.container.activate()},destroy:function(){this.disable(),this.container&&this.container.destroy(),this.input.destroy(),"manual"!==this.options.toggle&&(this.$element.removeClass("editable-click"),this.$element.off(this.options.toggle+".editable")),this.$element.off("save.internal"),this.$element.removeClass("editable editable-open editable-disabled"),this.$element.removeData("editable")}},a.fn.editable=function(c){var d={},e=arguments,f="editable";switch(c){case"validate":return this.each(function(){var b,c=a(this),e=c.data(f);e&&(b=e.validate())&&(d[e.options.name]=b)}),d;case"getValue":return 2===arguments.length&&arguments[1]===!0?d=this.eq(0).data(f).value:this.each(function(){var b=a(this),c=b.data(f);c&&void 0!==c.value&&null!==c.value&&(d[c.options.name]=c.input.value2submit(c.value))}),d;case"submit":var g=arguments[1]||{},h=this,i=this.editable("validate");if(a.isEmptyObject(i)){var j={};if(1===h.length){var k=h.data("editable"),l={name:k.options.name||"",value:k.input.value2submit(k.value),pk:"function"==typeof k.options.pk?k.options.pk.call(k.options.scope):k.options.pk};"function"==typeof k.options.params?l=k.options.params.call(k.options.scope,l):(k.options.params=a.fn.editableutils.tryParseJson(k.options.params,!0),a.extend(l,k.options.params)),j={url:k.options.url,data:l,type:"POST"},g.success=g.success||k.options.success,g.error=g.error||k.options.error}else{var m=this.editable("getValue");j={url:g.url,data:m,type:"POST"}}j.success="function"==typeof g.success?function(a){g.success.call(h,a,g)}:a.noop,j.error="function"==typeof g.error?function(){g.error.apply(h,arguments)}:a.noop,g.ajaxOptions&&a.extend(j,g.ajaxOptions),g.data&&a.extend(j.data,g.data),a.ajax(j)}else"function"==typeof g.error&&g.error.call(h,i);return this}return this.each(function(){var d=a(this),g=d.data(f),h="object"==typeof c&&c;return h&&h.selector?void(g=new b(this,h)):(g||d.data(f,g=new b(this,h)),void("string"==typeof c&&g[c].apply(g,Array.prototype.slice.call(e,1))))})},a.fn.editable.defaults={type:"text",disabled:!1,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}}(window.jQuery),function(a){"use strict";a.fn.editabletypes={};var b=function(){};b.prototype={init:function(b,c,d){this.type=b,this.options=a.extend({},d,c)},prerender:function(){this.$tpl=a(this.options.tpl),this.$input=this.$tpl,this.$clear=null,this.error=null},render:function(){},value2html:function(b,c){a(c)[this.options.escape?"text":"html"](a.trim(b))},html2value:function(b){return a("<div>").html(b).text()},value2str:function(a){return a},str2value:function(a){return a},value2submit:function(a){return a},value2input:function(a){this.$input.val(a)},input2value:function(){return this.$input.val()},activate:function(){this.$input.is(":visible")&&this.$input.focus()},clear:function(){this.$input.val(null)},escape:function(b){return a("<div>").text(b).html()},autosubmit:function(){},destroy:function(){},setClass:function(){this.options.inputclass&&this.$input.addClass(this.options.inputclass)},setAttr:function(a){void 0!==this.options[a]&&null!==this.options[a]&&this.$input.attr(a,this.options[a])},option:function(a,b){this.options[a]=b}},b.defaults={tpl:"",inputclass:null,escape:!0,scope:null,showbuttons:!0},a.extend(a.fn.editabletypes,{abstractinput:b})}(window.jQuery),function(a){"use strict";var b=function(){};a.fn.editableutils.inherit(b,a.fn.editabletypes.abstractinput),a.extend(b.prototype,{render:function(){var b=a.Deferred();return this.error=null,this.onSourceReady(function(){this.renderList(),b.resolve()},function(){this.error=this.options.sourceError,b.resolve()}),b.promise()},html2value:function(){return null},value2html:function(b,c,d,e){var f=a.Deferred(),g=function(){"function"==typeof d?d.call(c,b,this.sourceData,e):this.value2htmlFinal(b,c),f.resolve()};return null===b?g.call(this):this.onSourceReady(g,function(){f.resolve()}),f.promise()},onSourceReady:function(b,c){var d;if(a.isFunction(this.options.source)?(d=this.options.source.call(this.options.scope),this.sourceData=null):d=this.options.source,this.options.sourceCache&&a.isArray(this.sourceData))return void b.call(this);try{d=a.fn.editableutils.tryParseJson(d,!1)}catch(e){return void c.call(this)}if("string"==typeof d){if(this.options.sourceCache){var f,g=d;if(a(document).data(g)||a(document).data(g,{}),f=a(document).data(g),f.loading===!1&&f.sourceData)return this.sourceData=f.sourceData,this.doPrepend(),void b.call(this);if(f.loading===!0)return f.callbacks.push(a.proxy(function(){this.sourceData=f.sourceData,this.doPrepend(),b.call(this)},this)),void f.err_callbacks.push(a.proxy(c,this));f.loading=!0,f.callbacks=[],f.err_callbacks=[]}var h=a.extend({url:d,type:"get",cache:!1,dataType:"json",success:a.proxy(function(d){f&&(f.loading=!1),this.sourceData=this.makeArray(d),a.isArray(this.sourceData)?(f&&(f.sourceData=this.sourceData,a.each(f.callbacks,function(){this.call()})),this.doPrepend(),b.call(this)):(c.call(this),f&&a.each(f.err_callbacks,function(){this.call()}))},this),error:a.proxy(function(){c.call(this),f&&(f.loading=!1,a.each(f.err_callbacks,function(){this.call()}))},this)},this.options.sourceOptions);a.ajax(h)}else this.sourceData=this.makeArray(d),a.isArray(this.sourceData)?(this.doPrepend(),b.call(this)):c.call(this)},doPrepend:function(){null!==this.options.prepend&&void 0!==this.options.prepend&&(a.isArray(this.prependData)||(a.isFunction(this.options.prepend)&&(this.options.prepend=this.options.prepend.call(this.options.scope)),this.options.prepend=a.fn.editableutils.tryParseJson(this.options.prepend,!0),"string"==typeof this.options.prepend&&(this.options.prepend={"":this.options.prepend}),this.prependData=this.makeArray(this.options.prepend)),a.isArray(this.prependData)&&a.isArray(this.sourceData)&&(this.sourceData=this.prependData.concat(this.sourceData)))},renderList:function(){},value2htmlFinal:function(){},makeArray:function(b){var c,d,e,f,g=[];if(!b||"string"==typeof b)return null;if(a.isArray(b)){f=function(a,b){return d={value:a,text:b},c++>=2?!1:void 0};for(var h=0;h<b.length;h++)e=b[h],"object"==typeof e?(c=0,a.each(e,f),1===c?g.push(d):c>1&&(e.children&&(e.children=this.makeArray(e.children)),g.push(e))):g.push({value:e,text:e})}else a.each(b,function(a,b){g.push({value:a,text:b})});return g},option:function(a,b){this.options[a]=b,"source"===a&&(this.sourceData=null),"prepend"===a&&(this.prependData=null)}}),b.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{source:null,prepend:!1,sourceError:"Error when loading list",sourceCache:!0,sourceOptions:null}),a.fn.editabletypes.list=b}(window.jQuery),function(a){"use strict";var b=function(a){this.init("text",a,b.defaults)};a.fn.editableutils.inherit(b,a.fn.editabletypes.abstractinput),a.extend(b.prototype,{render:function(){this.renderClear(),this.setClass(),this.setAttr("placeholder")},activate:function(){this.$input.is(":visible")&&(this.$input.focus(),a.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.toggleClear&&this.toggleClear())},renderClear:function(){this.options.clear&&(this.$clear=a('<span class="editable-clear-x"></span>'),this.$input.after(this.$clear).css("padding-right",24).keyup(a.proxy(function(b){if(!~a.inArray(b.keyCode,[40,38,9,13,27])){clearTimeout(this.t);var c=this;this.t=setTimeout(function(){c.toggleClear(b)},100)}},this)).parent().css("position","relative"),this.$clear.click(a.proxy(this.clear,this)))},postrender:function(){},toggleClear:function(){if(this.$clear){var a=this.$input.val().length,b=this.$clear.is(":visible");a&&!b&&this.$clear.show(),!a&&b&&this.$clear.hide()}},clear:function(){this.$clear.hide(),this.$input.val("").focus()}}),b.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:!0}),a.fn.editabletypes.text=b}(window.jQuery),function(a){"use strict";var b=function(a){this.init("textarea",a,b.defaults)};a.fn.editableutils.inherit(b,a.fn.editabletypes.abstractinput),a.extend(b.prototype,{render:function(){this.setClass(),this.setAttr("placeholder"),this.setAttr("rows"),this.$input.keydown(function(b){b.ctrlKey&&13===b.which&&a(this).closest("form").submit()})},activate:function(){a.fn.editabletypes.text.prototype.activate.call(this)}}),b.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7}),a.fn.editabletypes.textarea=b}(window.jQuery),function(a){"use strict";var b=function(a){this.init("select",a,b.defaults)};a.fn.editableutils.inherit(b,a.fn.editabletypes.list),a.extend(b.prototype,{renderList:function(){this.$input.empty();var b=function(c,d){var e;if(a.isArray(d))for(var f=0;f<d.length;f++)e={},d[f].children?(e.label=d[f].text,c.append(b(a("<optgroup>",e),d[f].children))):(e.value=d[f].value,d[f].disabled&&(e.disabled=!0),c.append(a("<option>",e).text(d[f].text)));return c};b(this.$input,this.sourceData),this.setClass(),this.$input.on("keydown.editable",function(b){13===b.which&&a(this).closest("form").submit()})},value2htmlFinal:function(b,c){var d="",e=a.fn.editableutils.itemsByValue(b,this.sourceData);e.length&&(d=e[0].text),a.fn.editabletypes.abstractinput.prototype.value2html.call(this,d,c)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){a(this).closest("form").submit()})}}),b.defaults=a.extend({},a.fn.editabletypes.list.defaults,{tpl:"<select></select>"}),a.fn.editabletypes.select=b}(window.jQuery),function(a){"use strict";var b=function(a){this.init("checklist",a,b.defaults)};a.fn.editableutils.inherit(b,a.fn.editabletypes.list),a.extend(b.prototype,{renderList:function(){var b;if(this.$tpl.empty(),a.isArray(this.sourceData)){for(var c=0;c<this.sourceData.length;c++)b=a("<label>").append(a("<input>",{type:"checkbox",value:this.sourceData[c].value})).append(a("<span>").text(" "+this.sourceData[c].text)),a("<div>").append(b).appendTo(this.$tpl);this.$input=this.$tpl.find('input[type="checkbox"]'),this.setClass()}},value2str:function(b){return a.isArray(b)?b.sort().join(a.trim(this.options.separator)):""},str2value:function(b){var c,d=null;return"string"==typeof b&&b.length?(c=new RegExp("\\s*"+a.trim(this.options.separator)+"\\s*"),d=b.split(c)):d=a.isArray(b)?b:[b],d},value2input:function(b){this.$input.prop("checked",!1),a.isArray(b)&&b.length&&this.$input.each(function(c,d){var e=a(d);a.each(b,function(a,b){e.val()==b&&e.prop("checked",!0)})})},input2value:function(){var b=[];return this.$input.filter(":checked").each(function(c,d){b.push(a(d).val())}),b},value2htmlFinal:function(b,c){var d=[],e=a.fn.editableutils.itemsByValue(b,this.sourceData),f=this.options.escape;e.length?(a.each(e,function(b,c){var e=f?a.fn.editableutils.escape(c.text):c.text;d.push(e)}),a(c).html(d.join("<br>"))):a(c).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(b){13===b.which&&a(this).closest("form").submit()})}}),b.defaults=a.extend({},a.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","}),a.fn.editabletypes.checklist=b}(window.jQuery),function(a){"use strict";var b=function(a){this.init("password",a,b.defaults)};a.fn.editableutils.inherit(b,a.fn.editabletypes.text),a.extend(b.prototype,{value2html:function(b,c){b?a(c).text("[hidden]"):a(c).empty()},html2value:function(){return null}}),b.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="password">'}),a.fn.editabletypes.password=b}(window.jQuery),function(a){"use strict";var b=function(a){this.init("email",a,b.defaults)};a.fn.editableutils.inherit(b,a.fn.editabletypes.text),b.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="email">'}),a.fn.editabletypes.email=b}(window.jQuery),function(a){"use strict";var b=function(a){this.init("url",a,b.defaults)};a.fn.editableutils.inherit(b,a.fn.editabletypes.text),b.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="url">'}),a.fn.editabletypes.url=b}(window.jQuery),function(a){"use strict";var b=function(a){this.init("tel",a,b.defaults)};a.fn.editableutils.inherit(b,a.fn.editabletypes.text),b.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'}),a.fn.editabletypes.tel=b}(window.jQuery),function(a){"use strict";var b=function(a){this.init("number",a,b.defaults)};a.fn.editableutils.inherit(b,a.fn.editabletypes.text),a.extend(b.prototype,{render:function(){b.superclass.render.call(this),this.setAttr("min"),this.setAttr("max"),this.setAttr("step")},postrender:function(){this.$clear&&this.$clear.css({right:24})}}),b.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null}),a.fn.editabletypes.number=b}(window.jQuery),function(a){"use strict";
var b=function(a){this.init("range",a,b.defaults)};a.fn.editableutils.inherit(b,a.fn.editabletypes.number),a.extend(b.prototype,{render:function(){this.$input=this.$tpl.filter("input"),this.setClass(),this.setAttr("min"),this.setAttr("max"),this.setAttr("step"),this.$input.on("input",function(){a(this).siblings("output").text(a(this).val())})},activate:function(){this.$input.focus()}}),b.defaults=a.extend({},a.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"input-medium"}),a.fn.editabletypes.range=b}(window.jQuery),function(a){"use strict";var b=function(a){this.init("time",a,b.defaults)};a.fn.editableutils.inherit(b,a.fn.editabletypes.abstractinput),a.extend(b.prototype,{render:function(){this.setClass()}}),b.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'}),a.fn.editabletypes.time=b}(window.jQuery),function(a){"use strict";var b=function(c){if(this.init("select2",c,b.defaults),c.select2=c.select2||{},this.sourceData=null,c.placeholder&&(c.select2.placeholder=c.placeholder),!c.select2.tags&&c.source){var d=c.source;a.isFunction(c.source)&&(d=c.source.call(c.scope)),"string"==typeof d?(c.select2.ajax=c.select2.ajax||{},c.select2.ajax.data||(c.select2.ajax.data=function(a){return{query:a}}),c.select2.ajax.results||(c.select2.ajax.results=function(a){return{results:a}}),c.select2.ajax.url=d):(this.sourceData=this.convertSource(d),c.select2.data=this.sourceData)}if(this.options.select2=a.extend({},b.defaults.select2,c.select2),this.isMultiple=this.options.select2.tags||this.options.select2.multiple,this.isRemote="ajax"in this.options.select2,this.idFunc=this.options.select2.id,"function"!=typeof this.idFunc){var e=this.idFunc||"id";this.idFunc=function(a){return a[e]}}this.formatSelection=this.options.select2.formatSelection,"function"!=typeof this.formatSelection&&(this.formatSelection=function(a){return a.text})};a.fn.editableutils.inherit(b,a.fn.editabletypes.abstractinput),a.extend(b.prototype,{render:function(){this.setClass(),this.isRemote&&this.$input.on("select2-loaded",a.proxy(function(a){this.sourceData=a.items.results},this)),this.isMultiple&&this.$input.on("change",function(){a(this).closest("form").parent().triggerHandler("resize")})},value2html:function(c,d){var e,f="",g=this;this.options.select2.tags?e=c:this.sourceData&&(e=a.fn.editableutils.itemsByValue(c,this.sourceData,this.idFunc)),a.isArray(e)?(f=[],a.each(e,function(a,b){f.push(b&&"object"==typeof b?g.formatSelection(b):b)})):e&&(f=g.formatSelection(e)),f=a.isArray(f)?f.join(this.options.viewseparator):f,b.superclass.value2html.call(this,f,d)},html2value:function(a){return this.options.select2.tags?this.str2value(a,this.options.viewseparator):null},value2input:function(b){if(a.isArray(b)&&(b=b.join(this.getSeparator())),this.$input.data("select2")?this.$input.val(b).trigger("change",!0):(this.$input.val(b),this.$input.select2(this.options.select2)),this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var c=this.options.select2.id,d=this.options.select2.formatSelection;if(!c&&!d){var e=a(this.options.scope);if(!e.data("editable").isEmpty){var f={id:b,text:e.text()};this.$input.select2("data",f)}}}},input2value:function(){return this.$input.select2("val")},str2value:function(b,c){if("string"!=typeof b||!this.isMultiple)return b;c=c||this.getSeparator();var d,e,f;if(null===b||b.length<1)return null;for(d=b.split(c),e=0,f=d.length;f>e;e+=1)d[e]=a.trim(d[e]);return d},autosubmit:function(){this.$input.on("change",function(b,c){c||a(this).closest("form").submit()})},getSeparator:function(){return this.options.select2.separator||a.fn.select2.defaults.separator},convertSource:function(b){if(a.isArray(b)&&b.length&&void 0!==b[0].value)for(var c=0;c<b.length;c++)void 0!==b[c].value&&(b[c].id=b[c].value,delete b[c].value);return b},destroy:function(){this.$input.data("select2")&&this.$input.select2("destroy")}}),b.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "}),a.fn.editabletypes.select2=b}(window.jQuery),function(a){var b=function(b,c){return this.$element=a(b),this.$element.is("input")?(this.options=a.extend({},a.fn.combodate.defaults,c,this.$element.data()),void this.init()):void a.error("Combodate should be applied to INPUT element")};b.prototype={constructor:b,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=a('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.$widget.on("change","select",a.proxy(function(b){this.$element.val(this.getValue()).change(),this.options.smartDays&&(a(b.target).is(".month")||a(b.target).is(".year"))&&this.fillCombo("day")},this)),this.$widget.find("select").css("width","auto"),this.$element.hide().after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var b=this.options.template;return a.each(this.map,function(a,c){c=c[0];var d=new RegExp(c+"+"),e=c.length>1?c.substring(1,2):c;b=b.replace(d,"{"+e+"}")}),b=b.replace(/ /g,"&nbsp;"),a.each(this.map,function(a,c){c=c[0];var d=c.length>1?c.substring(1,2):c;b=b.replace("{"+d+"}",'<select class="'+a+'"></select>')}),b},initCombos:function(){for(var a in this.map){var b=this.$widget.find("."+a);this["$"+a]=b.length?b:null,this.fillCombo(a)}},fillCombo:function(a){var b=this["$"+a];if(b){var c="fill"+a.charAt(0).toUpperCase()+a.slice(1),d=this[c](),e=b.val();b.empty();for(var f=0;f<d.length;f++)b.append('<option value="'+d[f][0]+'">'+d[f][1]+"</option>");b.val(e)}},fillCommon:function(a){var b,c=[];if("name"===this.options.firstItem){b=moment.relativeTime||moment.langData()._relativeTime;var d="function"==typeof b[a]?b[a](1,!0,a,!1):b[a];d=d.split(" ").reverse()[0],c.push(["",d])}else"empty"===this.options.firstItem&&c.push(["",""]);return c},fillDay:function(){var a,b,c=this.fillCommon("d"),d=-1!==this.options.template.indexOf("DD"),e=31;if(this.options.smartDays&&this.$month&&this.$year){var f=parseInt(this.$month.val(),10),g=parseInt(this.$year.val(),10);isNaN(f)||isNaN(g)||(e=moment([g,f]).daysInMonth())}for(b=1;e>=b;b++)a=d?this.leadZero(b):b,c.push([b,a]);return c},fillMonth:function(){var a,b,c=this.fillCommon("M"),d=-1!==this.options.template.indexOf("MMMM"),e=-1!==this.options.template.indexOf("MMM"),f=-1!==this.options.template.indexOf("MM");for(b=0;11>=b;b++)a=d?moment().date(1).month(b).format("MMMM"):e?moment().date(1).month(b).format("MMM"):f?this.leadZero(b+1):b+1,c.push([b,a]);return c},fillYear:function(){var a,b,c=[],d=-1!==this.options.template.indexOf("YYYY");for(b=this.options.maxYear;b>=this.options.minYear;b--)a=d?b:(b+"").substring(2),c[this.options.yearDescending?"push":"unshift"]([b,a]);return c=this.fillCommon("y").concat(c)},fillHour:function(){var a,b,c=this.fillCommon("h"),d=-1!==this.options.template.indexOf("h"),e=(-1!==this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),f=d?1:0,g=d?12:23;for(b=f;g>=b;b++)a=e?this.leadZero(b):b,c.push([b,a]);return c},fillMinute:function(){var a,b,c=this.fillCommon("m"),d=-1!==this.options.template.indexOf("mm");for(b=0;59>=b;b+=this.options.minuteStep)a=d?this.leadZero(b):b,c.push([b,a]);return c},fillSecond:function(){var a,b,c=this.fillCommon("s"),d=-1!==this.options.template.indexOf("ss");for(b=0;59>=b;b+=this.options.secondStep)a=d?this.leadZero(b):b,c.push([b,a]);return c},fillAmpm:function(){var a=-1!==this.options.template.indexOf("a"),b=(-1!==this.options.template.indexOf("A"),[["am",a?"am":"AM"],["pm",a?"pm":"PM"]]);return b},getValue:function(b){var c,d={},e=this,f=!1;return a.each(this.map,function(a){if("ampm"!==a){var b="day"===a?1:0;return d[a]=e["$"+a]?parseInt(e["$"+a].val(),10):b,isNaN(d[a])?(f=!0,!1):void 0}}),f?"":(this.$ampm&&(d.hour=12===d.hour?"am"===this.$ampm.val()?0:12:"am"===this.$ampm.val()?d.hour:d.hour+12),c=moment([d.year,d.month,d.day,d.hour,d.minute,d.second]),this.highlight(c),b=void 0===b?this.options.format:b,null===b?c.isValid()?c:null:c.isValid()?c.format(b):"")},setValue:function(b){function c(b,c){var d={};return b.children("option").each(function(b,e){var f,g=a(e).attr("value");""!==g&&(f=Math.abs(g-c),("undefined"==typeof d.distance||f<d.distance)&&(d={value:g,distance:f}))}),d.value}if(b){var d="string"==typeof b?moment(b,this.options.format):moment(b),e=this,f={};d.isValid()&&(a.each(this.map,function(a,b){"ampm"!==a&&(f[a]=d[b[1]]())}),this.$ampm&&(f.hour>=12?(f.ampm="pm",f.hour>12&&(f.hour-=12)):(f.ampm="am",0===f.hour&&(f.hour=12))),a.each(f,function(a,b){e["$"+a]&&("minute"===a&&e.options.minuteStep>1&&e.options.roundTime&&(b=c(e["$"+a],b)),"second"===a&&e.options.secondStep>1&&e.options.roundTime&&(b=c(e["$"+a],b)),e["$"+a].val(b))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(d.format(this.options.format)).change())}},highlight:function(a){a.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(a){return 9>=a?"0"+a:a},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},a.fn.combodate=function(c){var d,e=Array.apply(null,arguments);return e.shift(),"getValue"===c&&this.length&&(d=this.eq(0).data("combodate"))?d.getValue.apply(d,e):this.each(function(){var d=a(this),f=d.data("combodate"),g="object"==typeof c&&c;f||d.data("combodate",f=new b(this,g)),"string"==typeof c&&"function"==typeof f[c]&&f[c].apply(f,e)})},a.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:!0,smartDays:!1}}(window.jQuery),function(a){"use strict";var b=function(c){this.init("combodate",c,b.defaults),this.options.viewformat||(this.options.viewformat=this.options.format),c.combodate=a.fn.editableutils.tryParseJson(c.combodate,!0),this.options.combodate=a.extend({},b.defaults.combodate,c.combodate,{format:this.options.format,template:this.options.template})};a.fn.editableutils.inherit(b,a.fn.editabletypes.abstractinput),a.extend(b.prototype,{render:function(){this.$input.combodate(this.options.combodate),"bs3"===a.fn.editableform.engine&&this.$input.siblings().find("select").addClass("form-control"),this.options.inputclass&&this.$input.siblings().find("select").addClass(this.options.inputclass)},value2html:function(a,c){var d=a?a.format(this.options.viewformat):"";b.superclass.value2html.call(this,d,c)},html2value:function(a){return a?moment(a,this.options.viewformat):null},value2str:function(a){return a?a.format(this.options.format):""},str2value:function(a){return a?moment(a,this.options.format):null},value2submit:function(a){return this.value2str(a)},value2input:function(a){this.$input.combodate("setValue",a)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}}),b.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null}),a.fn.editabletypes.combodate=b}(window.jQuery),function(a){"use strict";var b=a.fn.editableform.Constructor.prototype.initInput;a.extend(a.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=a(a.fn.editableform.template),this.$form.find(".control-group").addClass("form-group"),this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){b.apply(this);var c=null===this.input.options.inputclass||this.input.options.inputclass===!1,d="input-sm",e="text,select,textarea,password,email,url,tel,number,range,time,typeaheadjs".split(",");~a.inArray(this.input.type,e)&&(this.input.$input.addClass("form-control"),c&&(this.input.options.inputclass=d,this.input.$input.addClass(d)));for(var f=this.$form.find(".editable-buttons"),g=c?[d]:this.input.options.inputclass.split(" "),h=0;h<g.length;h++)"input-lg"===g[h].toLowerCase()&&f.find("button").removeClass("btn-sm").addClass("btn-lg")}}),a.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="glyphicon glyphicon-ok"></i></button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="glyphicon glyphicon-remove"></i></button>',a.fn.editableform.errorGroupClass="has-error",a.fn.editableform.errorBlockClass=null,a.fn.editableform.engine="bs3"}(window.jQuery),function(a){"use strict";a.extend(a.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:a.fn.popover.Constructor.DEFAULTS,initContainer:function(){a.extend(this.containerOptions,{trigger:"manual",selector:!1,content:" ",template:this.defaults.template});var b;this.$element.data("template")&&(b=this.$element.data("template"),this.$element.removeData("template")),this.call(this.containerOptions),b&&this.$element.data("template",b)},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(a,b){this.container().options[a]=b},setPosition:function(){!function(){var a=this.tip(),b="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,c=/\s?auto?\s?/i,d=c.test(b);d&&(b=b.replace(c,"")||"top");var e=this.getPosition(),f=a[0].offsetWidth,g=a[0].offsetHeight;if(d){var h=this.$element.parent(),i=b,j=document.documentElement.scrollTop||document.body.scrollTop,k="body"==this.options.container?window.innerWidth:h.outerWidth(),l="body"==this.options.container?window.innerHeight:h.outerHeight(),m="body"==this.options.container?0:h.offset().left;b="bottom"==b&&e.top+e.height+g-j>l?"top":"top"==b&&e.top-j-g<0?"bottom":"right"==b&&e.right+f>k?"left":"left"==b&&e.left-f<m?"right":b,a.removeClass(i).addClass(b)}var n=this.getCalculatedOffset(b,e,f,g);this.applyPlacement(n,b)}.call(this.container())}})}(window.jQuery),function(a){function b(){return new Date(Date.UTC.apply(Date,arguments))}function c(b,c){var d,e=a(b).data(),f={},g=new RegExp("^"+c.toLowerCase()+"([A-Z])"),c=new RegExp("^"+c.toLowerCase());for(var h in e)c.test(h)&&(d=h.replace(g,function(a,b){return b.toLowerCase()}),f[d]=e[h]);return f}function d(b){var c={};if(k[b]||(b=b.split("-")[0],k[b])){var d=k[b];return a.each(j,function(a,b){b in d&&(c[b]=d[b])}),c}}var e=function(b,c){this._process_options(c),this.element=a(b),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=a(l.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(a,b){return parseInt(b)+1}),this._allow_update=!1,this.setStartDate(this.o.startDate),this.setEndDate(this.o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};e.prototype={constructor:e,_process_options:function(b){this._o=a.extend({},this._o,b);var c=this.o=a.extend({},this._o),d=c.language;switch(k[d]||(d=d.split("-")[0],k[d]||(d=i.language)),c.language=d,c.startView){case 2:case"decade":c.startView=2;break;case 1:case"year":c.startView=1;break;default:c.startView=0}switch(c.minViewMode){case 1:case"months":c.minViewMode=1;break;case 2:case"years":c.minViewMode=2;break;default:c.minViewMode=0}c.startView=Math.max(c.startView,c.minViewMode),c.weekStart%=7,c.weekEnd=(c.weekStart+6)%7;var e=l.parseFormat(c.format);c.startDate!==-1/0&&(c.startDate=l.parseDate(c.startDate,e,c.language)),1/0!==c.endDate&&(c.endDate=l.parseDate(c.endDate,e,c.language)),c.daysOfWeekDisabled=c.daysOfWeekDisabled||[],a.isArray(c.daysOfWeekDisabled)||(c.daysOfWeekDisabled=c.daysOfWeekDisabled.split(/[,\s]*/)),c.daysOfWeekDisabled=a.map(c.daysOfWeekDisabled,function(a){return parseInt(a,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(a){for(var b,c,d=0;d<a.length;d++)b=a[d][0],c=a[d][1],b.on(c)},_unapplyEvents:function(a){for(var b,c,d=0;d<a.length;d++)b=a[d][0],c=a[d][1],b.off(c)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:a.proxy(this.show,this),keyup:a.proxy(this.update,this),keydown:a.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:a.proxy(this.show,this),keyup:a.proxy(this.update,this),keydown:a.proxy(this.keydown,this)}],[this.component,{click:a.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:a.proxy(this.show,this)}]],this._secondaryEvents=[[this.picker,{click:a.proxy(this.click,this)}],[a(window),{resize:a.proxy(this.place,this)}],[a(document),{mousedown:a.proxy(function(a){this.element.is(a.target)||this.element.find(a.target).size()||this.picker.is(a.target)||this.picker.find(a.target).size()||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(b,c){var d=c||this.date,e=new Date(d.getTime()+6e4*d.getTimezoneOffset());this.element.trigger({type:b,date:e,format:a.proxy(function(a){var b=a||this.o.format;return l.formatDate(d,b,this.o.language)},this)})},show:function(a){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),this._attachSecondaryEvents(),a&&a.preventDefault(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},getDate:function(){var a=this.getUTCDate();return new Date(a.getTime()+6e4*a.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(a){this.setUTCDate(new Date(a.getTime()-6e4*a.getTimezoneOffset()))},setUTCDate:function(a){this.date=a,this.setValue()},setValue:function(){var a=this.getFormattedDate();this.isInput?this.element.val(a):this.component&&this.element.find("input").val(a)},getFormattedDate:function(a){return void 0===a&&(a=this.o.format),l.formatDate(this.date,a,this.o.language)},setStartDate:function(a){this._process_options({startDate:a}),this.update(),this.updateNavArrows()},setEndDate:function(a){this._process_options({endDate:a}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(a){this._process_options({daysOfWeekDisabled:a}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var b=parseInt(this.element.parents().filter(function(){return"auto"!=a(this).css("z-index")}).first().css("z-index"))+10,c=this.component?this.component.parent().offset():this.element.offset(),d=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:c.top+d,left:c.left,zIndex:b})}},_allow_update:!0,update:function(){if(this._allow_update){var a,b=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(a=arguments[0],b=!0):(a=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date),this.date=l.parseDate(a,this.o.format,this.o.language),b&&this.setValue(),this.viewDate=new Date(this.date<this.o.startDate?this.o.startDate:this.date>this.o.endDate?this.o.endDate:this.date),this.fill()}},fillDow:function(){var a=this.o.weekStart,b="<tr>";if(this.o.calendarWeeks){var c='<th class="cw">&nbsp;</th>';b+=c,this.picker.find(".datepicker-days thead tr:first-child").prepend(c)}for(;a<this.o.weekStart+7;)b+='<th class="dow">'+k[this.o.language].daysMin[a++%7]+"</th>";b+="</tr>",this.picker.find(".datepicker-days thead").append(b)},fillMonths:function(){for(var a="",b=0;12>b;)a+='<span class="month">'+k[this.o.language].monthsShort[b++]+"</span>";this.picker.find(".datepicker-months td").html(a)},setRange:function(b){b&&b.length?this.range=a.map(b,function(a){return a.valueOf()}):delete this.range,this.fill()},getClassNames:function(b){var c=[],d=this.viewDate.getUTCFullYear(),e=this.viewDate.getUTCMonth(),f=this.date.valueOf(),g=new Date;return b.getUTCFullYear()<d||b.getUTCFullYear()==d&&b.getUTCMonth()<e?c.push("old"):(b.getUTCFullYear()>d||b.getUTCFullYear()==d&&b.getUTCMonth()>e)&&c.push("new"),this.o.todayHighlight&&b.getUTCFullYear()==g.getFullYear()&&b.getUTCMonth()==g.getMonth()&&b.getUTCDate()==g.getDate()&&c.push("today"),f&&b.valueOf()==f&&c.push("active"),(b.valueOf()<this.o.startDate||b.valueOf()>this.o.endDate||-1!==a.inArray(b.getUTCDay(),this.o.daysOfWeekDisabled))&&c.push("disabled"),this.range&&(b>this.range[0]&&b<this.range[this.range.length-1]&&c.push("range"),-1!=a.inArray(b.valueOf(),this.range)&&c.push("selected")),c},fill:function(){var c,d=new Date(this.viewDate),e=d.getUTCFullYear(),f=d.getUTCMonth(),g=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,h=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,i=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,j=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0;this.date&&this.date.valueOf(),this.picker.find(".datepicker-days thead th.datepicker-switch").text(k[this.o.language].months[f]+" "+e),this.picker.find("tfoot th.today").text(k[this.o.language].today).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(k[this.o.language].clear).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var m=b(e,f-1,28,0,0,0,0),n=l.getDaysInMonth(m.getUTCFullYear(),m.getUTCMonth());m.setUTCDate(n),m.setUTCDate(n-(m.getUTCDay()-this.o.weekStart+7)%7);var o=new Date(m);o.setUTCDate(o.getUTCDate()+42),o=o.valueOf();for(var p,q=[];m.valueOf()<o;){if(m.getUTCDay()==this.o.weekStart&&(q.push("<tr>"),this.o.calendarWeeks)){var r=new Date(+m+864e5*((this.o.weekStart-m.getUTCDay()-7)%7)),s=new Date(+r+864e5*((11-r.getUTCDay())%7)),t=new Date(+(t=b(s.getUTCFullYear(),0,1))+864e5*((11-t.getUTCDay())%7)),u=(s-t)/864e5/7+1;q.push('<td class="cw">'+u+"</td>")}p=this.getClassNames(m),p.push("day");var v=this.o.beforeShowDay(m);void 0===v?v={}:"boolean"==typeof v?v={enabled:v}:"string"==typeof v&&(v={classes:v}),v.enabled===!1&&p.push("disabled"),v.classes&&(p=p.concat(v.classes.split(/\s+/))),v.tooltip&&(c=v.tooltip),p=a.unique(p),q.push('<td class="'+p.join(" ")+'"'+(c?' title="'+c+'"':"")+">"+m.getUTCDate()+"</td>"),m.getUTCDay()==this.o.weekEnd&&q.push("</tr>"),m.setUTCDate(m.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(q.join(""));var w=this.date&&this.date.getUTCFullYear(),x=this.picker.find(".datepicker-months").find("th:eq(1)").text(e).end().find("span").removeClass("active");w&&w==e&&x.eq(this.date.getUTCMonth()).addClass("active"),(g>e||e>i)&&x.addClass("disabled"),e==g&&x.slice(0,h).addClass("disabled"),e==i&&x.slice(j+1).addClass("disabled"),q="",e=10*parseInt(e/10,10);var y=this.picker.find(".datepicker-years").find("th:eq(1)").text(e+"-"+(e+9)).end().find("td");e-=1;for(var z=-1;11>z;z++)q+='<span class="year'+(-1==z?" old":10==z?" new":"")+(w==e?" active":"")+(g>e||e>i?" disabled":"")+'">'+e+"</span>",e+=1;y.html(q)},updateNavArrows:function(){if(this._allow_update){var a=new Date(this.viewDate),b=a.getUTCFullYear(),c=a.getUTCMonth();switch(this.viewMode){case 0:this.picker.find(".prev").css(this.o.startDate!==-1/0&&b<=this.o.startDate.getUTCFullYear()&&c<=this.o.startDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&b>=this.o.endDate.getUTCFullYear()&&c>=this.o.endDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:case 2:this.picker.find(".prev").css(this.o.startDate!==-1/0&&b<=this.o.startDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&b>=this.o.endDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"})}}},click:function(c){c.preventDefault();var d=a(c.target).closest("span, td, th");if(1==d.length)switch(d[0].nodeName.toLowerCase()){case"th":switch(d[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var e=l.modes[this.viewMode].navStep*("prev"==d[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,e);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,e)}this.fill();break;case"today":var f=new Date;f=b(f.getFullYear(),f.getMonth(),f.getDate(),0,0,0),this.showMode(-2);var g="linked"==this.o.todayBtn?null:"view";this._setDate(f,g);break;case"clear":var h;this.isInput?h=this.element:this.component&&(h=this.element.find("input")),h&&h.val("").change(),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide()}break;case"span":if(!d.is(".disabled")){if(this.viewDate.setUTCDate(1),d.is(".month")){var i=1,j=d.parent().find("span").index(d),k=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(j),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(b(k,j,i,0,0,0,0))}else{var k=parseInt(d.text(),10)||0,i=1,j=0;this.viewDate.setUTCFullYear(k),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(b(k,j,i,0,0,0,0))}this.showMode(-1),this.fill()}break;case"td":if(d.is(".day")&&!d.is(".disabled")){var i=parseInt(d.text(),10)||1,k=this.viewDate.getUTCFullYear(),j=this.viewDate.getUTCMonth();d.is(".old")?0===j?(j=11,k-=1):j-=1:d.is(".new")&&(11==j?(j=0,k+=1):j+=1),this._setDate(b(k,j,i,0,0,0,0))}}},_setDate:function(a,b){b&&"date"!=b||(this.date=new Date(a)),b&&"view"!=b||(this.viewDate=new Date(a)),this.fill(),this.setValue(),this._trigger("changeDate");var c;this.isInput?c=this.element:this.component&&(c=this.element.find("input")),c&&(c.change(),!this.o.autoclose||b&&"date"!=b||this.hide())},moveMonth:function(a,b){if(!b)return a;var c,d,e=new Date(a.valueOf()),f=e.getUTCDate(),g=e.getUTCMonth(),h=Math.abs(b);if(b=b>0?1:-1,1==h)d=-1==b?function(){return e.getUTCMonth()==g}:function(){return e.getUTCMonth()!=c},c=g+b,e.setUTCMonth(c),(0>c||c>11)&&(c=(c+12)%12);else{for(var i=0;h>i;i++)e=this.moveMonth(e,b);c=e.getUTCMonth(),e.setUTCDate(f),d=function(){return c!=e.getUTCMonth()}}for(;d();)e.setUTCDate(--f),e.setUTCMonth(c);return e},moveYear:function(a,b){return this.moveMonth(a,12*b)},dateWithinRange:function(a){return a>=this.o.startDate&&a<=this.o.endDate},keydown:function(a){if(this.picker.is(":not(:visible)"))return void(27==a.keyCode&&this.show());var b,c,d,e=!1;switch(a.keyCode){case 27:this.hide(),a.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;b=37==a.keyCode?-1:1,a.ctrlKey?(c=this.moveYear(this.date,b),d=this.moveYear(this.viewDate,b)):a.shiftKey?(c=this.moveMonth(this.date,b),d=this.moveMonth(this.viewDate,b)):(c=new Date(this.date),c.setUTCDate(this.date.getUTCDate()+b),d=new Date(this.viewDate),d.setUTCDate(this.viewDate.getUTCDate()+b)),this.dateWithinRange(c)&&(this.date=c,this.viewDate=d,this.setValue(),this.update(),a.preventDefault(),e=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;b=38==a.keyCode?-1:1,a.ctrlKey?(c=this.moveYear(this.date,b),d=this.moveYear(this.viewDate,b)):a.shiftKey?(c=this.moveMonth(this.date,b),d=this.moveMonth(this.viewDate,b)):(c=new Date(this.date),c.setUTCDate(this.date.getUTCDate()+7*b),d=new Date(this.viewDate),d.setUTCDate(this.viewDate.getUTCDate()+7*b)),this.dateWithinRange(c)&&(this.date=c,this.viewDate=d,this.setValue(),this.update(),a.preventDefault(),e=!0);break;case 13:this.hide(),a.preventDefault();break;case 9:this.hide()}if(e){this._trigger("changeDate");var f;this.isInput?f=this.element:this.component&&(f=this.element.find("input")),f&&f.change()}},showMode:function(a){a&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+a))),this.picker.find(">div").hide().filter(".datepicker-"+l.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var f=function(b,c){this.element=a(b),this.inputs=a.map(c.inputs,function(a){return a.jquery?a[0]:a}),delete c.inputs,a(this.inputs).datepicker(c).bind("changeDate",a.proxy(this.dateUpdated,this)),this.pickers=a.map(this.inputs,function(b){return a(b).data("datepicker")}),this.updateDates()};f.prototype={updateDates:function(){this.dates=a.map(this.pickers,function(a){return a.date}),this.updateRanges()},updateRanges:function(){var b=a.map(this.dates,function(a){return a.valueOf()});a.each(this.pickers,function(a,c){c.setRange(b)})},dateUpdated:function(b){var c=a(b.target).data("datepicker"),d=c.getUTCDate(),e=a.inArray(b.target,this.inputs),f=this.inputs.length;if(-1!=e){if(d<this.dates[e])for(;e>=0&&d<this.dates[e];)this.pickers[e--].setUTCDate(d);else if(d>this.dates[e])for(;f>e&&d>this.dates[e];)this.pickers[e++].setUTCDate(d);this.updateDates()}},remove:function(){a.map(this.pickers,function(a){a.remove()}),delete this.element.data().datepicker}};var g=a.fn.datepicker,h=a.fn.datepicker=function(b){var g=Array.apply(null,arguments);g.shift();var h;return this.each(function(){var j=a(this),k=j.data("datepicker"),l="object"==typeof b&&b;if(!k){var m=c(this,"date"),n=a.extend({},i,m,l),o=d(n.language),p=a.extend({},i,o,m,l);if(j.is(".input-daterange")||p.inputs){var q={inputs:p.inputs||j.find("input").toArray()};j.data("datepicker",k=new f(this,a.extend(p,q)))}else j.data("datepicker",k=new e(this,p))}return"string"==typeof b&&"function"==typeof k[b]&&(h=k[b].apply(k,g),void 0!==h)?!1:void 0}),void 0!==h?h:this},i=a.fn.datepicker.defaults={autoclose:!1,beforeShowDay:a.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},j=a.fn.datepicker.locale_opts=["format","rtl","weekStart"];a.fn.datepicker.Constructor=e;var k=a.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},l={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(a){return 0===a%4&&0!==a%100||0===a%400
},getDaysInMonth:function(a,b){return[31,l.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(a){var b=a.replace(this.validParts,"\x00").split("\x00"),c=a.match(this.validParts);if(!b||!b.length||!c||0===c.length)throw new Error("Invalid date format.");return{separators:b,parts:c}},parseDate:function(c,d,f){if(c instanceof Date)return c;if("string"==typeof d&&(d=l.parseFormat(d)),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(c)){var g,h,i=/([\-+]\d+)([dmwy])/,j=c.match(/([\-+]\d+)([dmwy])/g);c=new Date;for(var m=0;m<j.length;m++)switch(g=i.exec(j[m]),h=parseInt(g[1]),g[2]){case"d":c.setUTCDate(c.getUTCDate()+h);break;case"m":c=e.prototype.moveMonth.call(e.prototype,c,h);break;case"w":c.setUTCDate(c.getUTCDate()+7*h);break;case"y":c=e.prototype.moveYear.call(e.prototype,c,h)}return b(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),0,0,0)}var n,o,g,j=c&&c.match(this.nonpunctuation)||[],c=new Date,p={},q=["yyyy","yy","M","MM","m","mm","d","dd"],r={yyyy:function(a,b){return a.setUTCFullYear(b)},yy:function(a,b){return a.setUTCFullYear(2e3+b)},m:function(a,b){for(b-=1;0>b;)b+=12;for(b%=12,a.setUTCMonth(b);a.getUTCMonth()!=b;)a.setUTCDate(a.getUTCDate()-1);return a},d:function(a,b){return a.setUTCDate(b)}};r.M=r.MM=r.mm=r.m,r.dd=r.d,c=b(c.getFullYear(),c.getMonth(),c.getDate(),0,0,0);var s=d.parts.slice();if(j.length!=s.length&&(s=a(s).filter(function(b,c){return-1!==a.inArray(c,q)}).toArray()),j.length==s.length){for(var m=0,t=s.length;t>m;m++){if(n=parseInt(j[m],10),g=s[m],isNaN(n))switch(g){case"MM":o=a(k[f].months).filter(function(){var a=this.slice(0,j[m].length),b=j[m].slice(0,a.length);return a==b}),n=a.inArray(o[0],k[f].months)+1;break;case"M":o=a(k[f].monthsShort).filter(function(){var a=this.slice(0,j[m].length),b=j[m].slice(0,a.length);return a==b}),n=a.inArray(o[0],k[f].monthsShort)+1}p[g]=n}for(var u,m=0;m<q.length;m++)u=q[m],u in p&&!isNaN(p[u])&&r[u](c,p[u])}return c},formatDate:function(b,c,d){"string"==typeof c&&(c=l.parseFormat(c));var e={d:b.getUTCDate(),D:k[d].daysShort[b.getUTCDay()],DD:k[d].days[b.getUTCDay()],m:b.getUTCMonth()+1,M:k[d].monthsShort[b.getUTCMonth()],MM:k[d].months[b.getUTCMonth()],yy:b.getUTCFullYear().toString().substring(2),yyyy:b.getUTCFullYear()};e.dd=(e.d<10?"0":"")+e.d,e.mm=(e.m<10?"0":"")+e.m;for(var b=[],f=a.extend([],c.separators),g=0,h=c.parts.length;h>=g;g++)f.length&&b.push(f.shift()),b.push(e[c.parts[g]]);return b.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};l.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+l.headTemplate+"<tbody></tbody>"+l.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+l.headTemplate+l.contTemplate+l.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+l.headTemplate+l.contTemplate+l.footTemplate+"</table></div></div>",a.fn.datepicker.DPGlobal=l,a.fn.datepicker.noConflict=function(){return a.fn.datepicker=g,this},a(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(b){var c=a(this);c.data("datepicker")||(b.preventDefault(),h.call(c,"show"))}),a(function(){h.call(a('[data-provide="datepicker-inline"]'))})}(window.jQuery),function(a){"use strict";a.fn.bdatepicker=a.fn.datepicker.noConflict(),a.fn.datepicker||(a.fn.datepicker=a.fn.bdatepicker);var b=function(a){this.init("date",a,b.defaults),this.initPicker(a,b.defaults)};a.fn.editableutils.inherit(b,a.fn.editabletypes.abstractinput),a.extend(b.prototype,{initPicker:function(b,c){this.options.viewformat||(this.options.viewformat=this.options.format),b.datepicker=a.fn.editableutils.tryParseJson(b.datepicker,!0),this.options.datepicker=a.extend({},c.datepicker,b.datepicker,{format:this.options.viewformat}),this.options.datepicker.language=this.options.datepicker.language||"en",this.dpg=a.fn.bdatepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker),this.options.clear&&(this.$clear=a('<a href="#"></a>').html(this.options.clear).click(a.proxy(function(a){a.preventDefault(),a.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(a('<div class="editable-clear">').append(this.$clear)))},value2html:function(a,c){var d=a?this.dpg.formatDate(a,this.parsedViewFormat,this.options.datepicker.language):"";b.superclass.value2html.call(this,d,c)},html2value:function(a){return this.parseDate(a,this.parsedViewFormat)},value2str:function(a){return a?this.dpg.formatDate(a,this.parsedFormat,this.options.datepicker.language):""},str2value:function(a){return this.parseDate(a,this.parsedFormat)},value2submit:function(a){return this.value2str(a)},value2input:function(a){this.$input.bdatepicker("update",a)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".day",function(b){if(!a(b.currentTarget).is(".old")&&!a(b.currentTarget).is(".new")){var c=a(this).closest("form");setTimeout(function(){c.submit()},200)}})},parseDate:function(a,b){var c,d=null;return a&&(d=this.dpg.parseDate(a,b,this.options.datepicker.language),"string"==typeof a&&(c=this.dpg.formatDate(d,b,this.options.datepicker.language),a!==c&&(d=null))),d}}),b.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!1},clear:"&times; clear"}),a.fn.editabletypes.date=b}(window.jQuery),function(a){"use strict";var b=function(a){this.init("datefield",a,b.defaults),this.initPicker(a,b.defaults)};a.fn.editableutils.inherit(b,a.fn.editabletypes.date),a.extend(b.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.bdatepicker(this.options.datepicker),this.$input.off("focus keydown"),this.$input.keyup(a.proxy(function(){this.$tpl.removeData("date"),this.$tpl.bdatepicker("update")},this))},value2input:function(a){this.$input.val(a?this.dpg.formatDate(a,this.parsedViewFormat,this.options.datepicker.language):""),this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){a.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),b.defaults=a.extend({},a.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!0}}),a.fn.editabletypes.datefield=b}(window.jQuery),function(a){"use strict";var b=function(a){this.init("datetime",a,b.defaults),this.initPicker(a,b.defaults)};a.fn.editableutils.inherit(b,a.fn.editabletypes.abstractinput),a.extend(b.prototype,{initPicker:function(b,c){this.options.viewformat||(this.options.viewformat=this.options.format),b.datetimepicker=a.fn.editableutils.tryParseJson(b.datetimepicker,!0),this.options.datetimepicker=a.extend({},c.datetimepicker,b.datetimepicker,{format:this.options.viewformat}),this.options.datetimepicker.language=this.options.datetimepicker.language||"en",this.dpg=a.fn.datetimepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker),this.$input.on("changeMode",function(){var b=a(this).closest("form").parent();setTimeout(function(){b.triggerHandler("resize")},0)}),this.options.clear&&(this.$clear=a('<a href="#"></a>').html(this.options.clear).click(a.proxy(function(a){a.preventDefault(),a.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(a('<div class="editable-clear">').append(this.$clear)))},value2html:function(a,c){var d=a?this.dpg.formatDate(this.toUTC(a),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";return c?void b.superclass.value2html.call(this,d,c):d},html2value:function(a){var b=this.parseDate(a,this.parsedViewFormat);return b?this.fromUTC(b):null},value2str:function(a){return a?this.dpg.formatDate(this.toUTC(a),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(a){var b=this.parseDate(a,this.parsedFormat);return b?this.fromUTC(b):null},value2submit:function(a){return this.value2str(a)},value2input:function(a){a&&this.$input.data("datetimepicker").setDate(a)},input2value:function(){var a=this.$input.data("datetimepicker");return a.date?a.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".minute",function(){var b=a(this).closest("form");setTimeout(function(){b.submit()},200)})},toUTC:function(a){return a?new Date(a.valueOf()-6e4*a.getTimezoneOffset()):a},fromUTC:function(a){return a?new Date(a.valueOf()+6e4*a.getTimezoneOffset()):a},parseDate:function(a,b){var c,d=null;return a&&(d=this.dpg.parseDate(a,b,this.options.datetimepicker.language,this.options.formatType),"string"==typeof a&&(c=this.dpg.formatDate(d,b,this.options.datetimepicker.language,this.options.formatType),a!==c&&(d=null))),d}}),b.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:!1,autoclose:!1},clear:"&times; clear"}),a.fn.editabletypes.datetime=b}(window.jQuery),function(a){"use strict";var b=function(a){this.init("datetimefield",a,b.defaults),this.initPicker(a,b.defaults)};a.fn.editableutils.inherit(b,a.fn.editabletypes.datetime),a.extend(b.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.datetimepicker(this.options.datetimepicker),this.$input.off("focus keydown"),this.$input.keyup(a.proxy(function(){this.$tpl.removeData("date"),this.$tpl.datetimepicker("update")},this))},value2input:function(a){this.$input.val(this.value2html(a)),this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){a.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),b.defaults=a.extend({},a.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:!1,autoclose:!0}}),a.fn.editabletypes.datetimefield=b}(window.jQuery),jQuery.fn.dataTableExt.oApi.fnAddTr=function(oSettings,nTr,bRedraw){"undefined"==typeof bRedraw&&(bRedraw=!0);var nTds=nTr.getElementsByTagName("td");if(nTds.length!=oSettings.aoColumns.length)return void alert("Warning: not adding new TR - columns and TD elements must match");var i,aData=[],aInvisible=[];for(i=0;i<nTds.length;i++)aData.push(nTds[i].innerHTML),oSettings.aoColumns[i].bVisible||aInvisible.push(i);var iIndex=this.oApi._fnAddData(oSettings,aData);for(nTr._DT_RowIndex=iIndex,oSettings.aoData[iIndex].nTr=nTr,oSettings.aiDisplay=oSettings.aiDisplayMaster.slice(),i=aInvisible.length-1;i>=0;i--)oSettings.aoData[iIndex]._anHidden[i]=nTds[aInvisible[i]],nTr.removeChild(nTds[aInvisible[i]]);bRedraw&&this.oApi._fnReDraw(oSettings)},function($){"use strict";$.fn.rowReordering=function(options){function _fnStartProcessingMode(oTable){oTable.fnSettings().oFeatures.bProcessing&&$(".dataTables_processing").css("visibility","visible")}function _fnEndProcessingMode(oTable){oTable.fnSettings().oFeatures.bProcessing&&$(".dataTables_processing").css("visibility","hidden")}function fnCancelSorting(oTable,tbody,properties,iLogLevel,sMessage){tbody.sortable("cancel"),iLogLevel<=properties.iLogLevel&&(void 0!=sMessage?properties.fnAlert(sMessage,""):properties.fnAlert("Row cannot be moved","")),properties.fnEndProcessingMode(oTable)}function fnGetState(oTable,sSelector,id){var sDirection,tr=$("#"+id,oTable),iCurrentPosition=oTable.fnGetData(tr[0],properties.iIndexColumn),iNewPosition=-1,trPrevious=tr.prev(sSelector);if(trPrevious.length>0)iNewPosition=parseInt(oTable.fnGetData(trPrevious[0],properties.iIndexColumn)),iCurrentPosition>iNewPosition&&(iNewPosition+=1);else{var trNext=tr.next(sSelector);trNext.length>0&&(iNewPosition=parseInt(oTable.fnGetData(trNext[0],properties.iIndexColumn)),iNewPosition>iCurrentPosition&&(iNewPosition-=1))}return sDirection=iCurrentPosition>iNewPosition?"back":"forward",{sDirection:sDirection,iCurrentPosition:iCurrentPosition,iNewPosition:iNewPosition}}function fnMoveRows(oTable,sSelector,iCurrentPosition,iNewPosition,sDirection,id,sGroup){var iStart=iCurrentPosition,iEnd=iNewPosition;"back"==sDirection&&(iStart=iNewPosition,iEnd=iCurrentPosition),$(oTable.fnGetNodes()).each(function(){if(""==sGroup||$(this).attr("data-group")==sGroup){var tr=this,iRowPosition=parseInt(oTable.fnGetData(tr,properties.iIndexColumn));iRowPosition>=iStart&&iEnd>=iRowPosition&&(tr.id==id?oTable.fnUpdate(iNewPosition,oTable.fnGetPosition(tr),properties.iIndexColumn,!1):"back"==sDirection?oTable.fnUpdate(iRowPosition+1,oTable.fnGetPosition(tr),properties.iIndexColumn,!1):oTable.fnUpdate(iRowPosition-1,oTable.fnGetPosition(tr),properties.iIndexColumn,!1))}});var oSettings=oTable.fnSettings();if(oSettings.oFeatures.bServerSide===!1){var before=oSettings._iDisplayStart;oSettings.oApi._fnReDraw(oSettings),oSettings._iDisplayStart=before,oSettings.oApi._fnCalculateEnd(oSettings)}oSettings.oApi._fnDraw(oSettings)}function _fnAlert(message){alert(message)}var defaults={iIndexColumn:0,iStartPosition:1,sURL:null,sRequestType:"POST",iGroupingLevel:0,fnAlert:_fnAlert,fnSuccess:jQuery.noop,iLogLevel:1,sDataGroupAttribute:"data-group",fnStartProcessingMode:_fnStartProcessingMode,fnEndProcessingMode:_fnEndProcessingMode,fnUpdateAjaxRequest:jQuery.noop},properties=$.extend(defaults,options),tableFixHelper=function(e,tr){var $originals=tr.children(),$helper=tr.clone();return $helper.children().each(function(index){$(this).width($originals.eq(index).width())}),$helper};return this.each(function(){var oTable=$(this).dataTable(),aaSortingFixed=null==oTable.fnSettings().aaSortingFixed?new Array:oTable.fnSettings().aaSortingFixed;aaSortingFixed.push([properties.iIndexColumn,"asc"]),oTable.fnSettings().aaSortingFixed=aaSortingFixed;for(var i=0;i<oTable.fnSettings().aoColumns.length;i++)oTable.fnSettings().aoColumns[i].bSortable=!1;oTable.fnDraw(),$("tbody",oTable).disableSelection().sortable({cursor:"move",helper:tableFixHelper,update:function(event,ui){var $dataTable=oTable,tbody=$(this),sSelector="tbody tr",sGroup="";if(properties.bGroupingUsed){if(sGroup=$(ui.item).attr(properties.sDataGroupAttribute),null==sGroup||void 0==sGroup)return void fnCancelSorting($dataTable,tbody,properties,3,"Grouping row cannot be moved");sSelector="tbody tr["+properties.sDataGroupAttribute+" ='"+sGroup+"']"}var oState=fnGetState($dataTable,sSelector,ui.item.context.id);if(-1==oState.iNewPosition)return void fnCancelSorting($dataTable,tbody,properties,2);if(null!=properties.sURL){properties.fnStartProcessingMode($dataTable);var oAjaxRequest={url:properties.sURL,type:properties.sRequestType,data:{id:ui.item.context.id,fromPosition:oState.iCurrentPosition,toPosition:oState.iNewPosition,direction:oState.sDirection,group:sGroup},success:function(data){properties.fnSuccess(data),fnMoveRows($dataTable,sSelector,oState.iCurrentPosition,oState.iNewPosition,oState.sDirection,ui.item.context.id,sGroup),properties.fnEndProcessingMode($dataTable),properties.callback&&"function"==typeof properties.callback&&properties.callback()},error:function(jqXHR){fnCancelSorting($dataTable,tbody,properties,1,jqXHR.statusText)}};properties.fnUpdateAjaxRequest(oAjaxRequest,properties,$dataTable),$.ajax(oAjaxRequest)}else fnMoveRows($dataTable,sSelector,oState.iCurrentPosition,oState.iNewPosition,oState.sDirection,ui.item.context.id,sGroup)}})})}}(jQuery);
//# sourceMappingURL=app.map